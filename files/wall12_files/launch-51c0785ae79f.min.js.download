// For license information, see `https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/launch-51c0785ae79f.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2024-07-04T11:00:54Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"EN5a011bee21134cba8e05e77c2fc0a213",stage:"production"},dataElements:{"Data Center or Systems":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/future-defined".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/customer-centers/dcg/stuttgart".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/events/transform".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/customer-centers/dcg/chineham-uk".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/O365-data-management".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/vmwareexplorebarcelona-2023".toLowerCase())>-1}}},Chile:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc&&lmd.cc.toString().toLowerCase()=="CL".toLowerCase()||_satellite.getVar("Target : Country").toString().toLowerCase()=="CL".toLowerCase()}}},"Facets Refinement Selection":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.facets.refinementSelection"}},domain:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"location.hostname"}},"Target : ProductStatus Meta":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='productstatus']"}},"Pinterest Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("pinterest")&&getConsentVendors("pinterest")}}},"Tracking Code":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("cid"),t=_satellite.getVar("orgRef");if(e)return e.toString();if(t){if((t.search(".yahoo.")>=0||t.search(".google.")>=0||t.search("google.")>=0||t.search(".yahoo.")>=0||t.search("bing.")>=0)&&t.search(".lenovo.com")<0)return"Natural Search";if((t.search("myunidays.com")>=0||t.search("mydealz.de")>=0||t.search("bestekauf.de")>=0||t.search("notebookinfo.de")>=0||t.search("idealo.de")>=0||t.search("com.myunidays")>=0||t.search("mitarbeiterangebote.de")>=0||t.search("perksatwork.com")>=0||t.search("hotukdeals.com")>=0||t.search("studentbeans.com")>=0||t.search("bluelightcard.co.uk")>=0||t.search("defencediscountservice.co.uk")>=0||t.search("benefithub.com")>=0||t.search("peoplevalue.co.uk")>=0||t.search("nhsstaffbenefits.co.uk")>=0||t.search("chollometro.com")>=0||t.search("blogdechollos.com")>=0||t.search("okdiario.com")>=0||t.search("softzone.es")>=0||t.search("vergelijk.nl")>=0||t.search("tweakers.net")>=0||t.search("vergelijk.be")>=0||t.search("varusok.se")>=0||t.search("prisjakt.nu")>=0||t.search("prisguiden.no")>=0||t.search("dealabs.com")>=0||t.search("jeuxvideo.com")>=0||t.search("generation-nt.com")>=0||t.search("lesnumeriques.com")>=0||t.search("comparez-malin.fr")>=0||t.search("universitybox.com")>=0||t.search("convenzioniaziendali.it")>=0||t.search("buonosconto.it")>=0||t.search("discoup.com")>=0||t.search("preispirat.ch")>=0||t.search("vertaa.fi")>=0)&&t.search(".lenovo.com")<0)return lmd.cc+":affiliate"}else{if((document.referrer.search(".yahoo.")>=0||document.referrer.search(".google.")>=0||document.referrer.search("google.")>=0||document.referrer.search(".yahoo.")>=0)&&document.referrer.search(".lenovo.com")<0)return"Natural Search";if((document.referrer.search("myunidays.com")>=0||document.referrer.search("mydealz.de")>=0||document.referrer.search("bestekauf.de")>=0||document.referrer.search("notebookinfo.de")>=0||document.referrer.search("idealo.de")>=0||document.referrer.search("com.myunidays")>=0||document.referrer.search("mitarbeiterangebote.de")>=0||document.referrer.search("perksatwork.com")>=0||document.referrer.search("hotukdeals.com")>=0||document.referrer.search("studentbeans.com")>=0||document.referrer.search("bluelightcard.co.uk")>=0||document.referrer.search("defencediscountservice.co.uk")>=0||document.referrer.search("benefithub.com")>=0||document.referrer.search("peoplevalue.co.uk")>=0||document.referrer.search("nhsstaffbenefits.co.uk")>=0||document.referrer.search("chollometro.com")>=0||document.referrer.search("blogdechollos.com")>=0||document.referrer.search("okdiario.com")>=0||document.referrer.search("softzone.es")>=0||document.referrer.search("vergelijk.nl")>=0||document.referrer.search("tweakers.net")>=0||document.referrer.search("vergelijk.be")>=0||document.referrer.search("varusok.se")>=0||document.referrer.search("prisjakt.nu")>=0||document.referrer.search("prisguiden.no")>=0||document.referrer.search("dealabs.com")>=0||document.referrer.search("jeuxvideo.com")>=0||document.referrer.search("generation-nt.com")>=0||document.referrer.search("lesnumeriques.com")>=0||document.referrer.search("comparez-malin.fr")>=0||document.referrer.search("universitybox.com")>=0||document.referrer.search("convenzioniaziendali.it")>=0||document.referrer.search("buonosconto.it")>=0||document.referrer.search("discoup.com")>=0||document.referrer.search("preispirat.ch")>=0||document.referrer.search("vertaa.fi")>=0)&&document.referrer.search(".lenovo.com")<0)return lmd.cc+":affiliate"}}}},"Flashtalking GUID":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"fl_guid"}},"event 1-100 Object : Banner Interaction : All Site (Flash)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=getValOnce("s_event_custompart1","s_eVar57",0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));return console.log("sessionscoreengrfd"+o),t&&o<=100&&"lenovouspub"==_satellite.getVar("reportSuite")&&(e={event98:{value:.57},event30:{value:.57}}),e}catch(e){console.log("Error in event 1-100 Object : Banner Interaction : All Site (Flash)"+e)}}}},"Checkout omostoreID ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"omoin"!=lmd.storeID?"Not Set":"undefined"!=lmd.checkout.allProducts&&""!=lmd.checkout.allProducts?lmd.checkout.allProducts[0].omostoreID:void 0}}},"XDM Object For Knexus custom interaction":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Knexus custom interaction",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event29:{id:"1"}},customDimensions:{eVars:"%Knexus Custom Dimension - eVars Object - Custom Interaction : All Site (Flash, Hybris)%"}}}},sandbox:{name:"prod"}}},"Target : AT Property Code":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.href;if(e.indexOf("/mx/es")>-1||e.indexOf("/co/es")>-1||e.indexOf("/cl/es")>-1||e.indexOf("/br/pt")>-1||e.indexOf("/ar/es")>-1||e.indexOf("/pe/es")>-1)var t="f0fcd8a1-b7c1-95bc-c981-8694f0d3d4a6";else t=e.indexOf("/us/en")>-1||e.indexOf("/ca/en")>-1?"5b1f473e-6779-3c63-1900-2acbf1d4e6b1":e.indexOf("/jp/ja")>-1||e.indexOf("/in/en")>-1||e.indexOf("/au/en")>-1||e.indexOf("/kr/ko")>-1||e.indexOf("/nz/en")>-1||e.indexOf("/sg/en")>-1||e.indexOf("/my/en")>-1||e.indexOf("/tw/zh")>-1||e.indexOf("/hk/en")>-1||e.indexOf("/hk/zf")>-1||e.indexOf("/th/en")>-1||e.indexOf("/th/th")>-1?"3aa8b1ba-8f7d-6c20-1ced-00a41b64fca1":"";return t}}},"Events 1-100 Object: Internal Search : Content Click: News Link Tracking: All Sites ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid;lmd.searchCategory_newsLink,lmd.searchCategory_NewsIndex,void 0!==lmd.searchCategory_newsLink||lmd.searchCategory_NewsIndex;var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovonzpub"==a){e={event98:{value:.12},event30:{value:.12}},console.log("Engagement Starting Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.12),o=(parseFloat(s)+.12).toFixed(2),console.log("Final Engagement Score: ",o)}else"lenovotwpub"==a?(e={event98:{value:.07},event30:{value:.07}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.07),o=(parseFloat(s)+.07).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovomypub"==a?(e={event98:{value:.3},event30:{value:.3}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.3),o=(parseFloat(s)+.3).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovomxpub"==a&&(e={event98:{value:.48},event30:{value:.48}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.48),o=(parseFloat(s)+.48).toFixed(2),console.log("Final Engagement Score: ",o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in events 1-100 object for product compare",e)}}}},"XDM Object For User interaction Error":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"User interaction Error",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event101to200:{event103:{value:1}},event301to400:{event340:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar76:"%Error Type% | %Error Detail%",eVar127:"%Hashed Email Placement Name%",eVar142:"%Hashed Email ID%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar179:"%Facets Final Selection%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%",prop55:"%Error Type% | %Error Detail%"}}}}},sandbox:{name:"prod"}}},"events 301-400 Object - Internal Search : Main - Ecomm Site ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={};if(void 0!==window.lmd.intSearchResults)if("zero"==lmd.intSearchResults||"zero"==lmd.intSearchResults||"0"==lmd.intSearchResults||"0"==lmd.intSearchResults||0==lmd.intSearchResults){_satellite.getVar("Plugin : getValOnce");var o=getValOnce("s.products_event2","s_eVar57",0);""==localStorage.getItem("score")||""==localStorage.getItem("score")||"Undefined"==localStorage.getItem("score")||null==localStorage.getItem("score")||localStorage.getItem("score"),""==localStorage.getItem("cur_eng_score")||""==localStorage.getItem("cur_eng_score")||"Undefined"==localStorage.getItem("cur_eng_score")||null==localStorage.getItem("cur_eng_score")||localStorage.getItem("cur_eng_score"),"NaN"==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||"Undefined"==localStorage.getItem("tot_rfd_score")||"undefined"==localStorage.getItem("tot_rfd_score")||null==localStorage.getItem("tot_rfd_score")||localStorage.getItem("tot_rfd_score");var n=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2),r=(getValOnce(n,"s_tot_rfd",0),parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)));o&&r<=100&&("lenovofrpub"==(e=_satellite.getVar("reportSuite"))?t={event329:{value:.38},event317:{value:.38}}:"lenovogbpub"==e?t={event329:{value:.64},event317:{value:.64}}:"lenovokrpub"==e?t={event329:{value:.22},event317:{value:.22}}:"lenovotwpub"==e?t={event329:{value:.59},event317:{value:.59}}:"lenovomypub"==e?t={event329:{value:.3},event317:{value:.3}}:"lenovodkpub"==e?t={event329:{value:.24},event317:{value:.24}}:"lenovothpub"==e?t={event329:{value:.2},event317:{value:.2}}:"lenovohkpub"==e?t={event329:{value:.28},event317:{value:.28}}:"lenovomxpub"==e||"lenovoarpub"==e?t={event329:{value:.48},event317:{value:.48}}:"lenovoinpub"==e?t={event329:{value:.67},event317:{value:.67}}:"lenovosepub"==e?t={event329:{value:.18},event317:{value:.18}}:"lenovofipub"==e&&(t={event329:{value:.29},event317:{value:.29}}))}else console.log("set to s.events event6");return""==localStorage.getItem("score")||""==localStorage.getItem("score")||"Undefined"==localStorage.getItem("score")||null==localStorage.getItem("score")||localStorage.getItem("score"),""==localStorage.getItem("cur_eng_score")||""==localStorage.getItem("cur_eng_score")||"Undefined"==localStorage.getItem("cur_eng_score")||null==localStorage.getItem("cur_eng_score")||localStorage.getItem("cur_eng_score"),"NaN"==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||"Undefined"==localStorage.getItem("tot_rfd_score")||"undefined"==localStorage.getItem("tot_rfd_score")||null==localStorage.getItem("tot_rfd_score")||localStorage.getItem("tot_rfd_score"),n=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2),getValOnce(n,"s_tot_rfd",0),r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),_satellite.getVar("Plugin : getValOnce"),(o=getValOnce("s.products_event2","s_eVar57",0))&&r<=100&&("lenovouspub"==(e=_satellite.getVar("reportSuite"))?t={event329:{value:.58},event317:{value:.58}}:"lenovoaupub"==e?t={event329:{value:.54},event317:{value:.54}}:"lenovodkpub"==e?t={event329:{value:.88},event317:{value:.88}}:"lenovothpub"==e?t={event329:{value:.35},event317:{value:.35}}:"lenovohkpub"==e?t={event329:{value:.28},event317:{value:.28}}:"lenovonzpub"==e?t={event329:{value:.47},event317:{value:.47}}:"lenovodepub"==e?t={event329:{value:.96},event317:{value:.96}}:"lenovofrpub"==e?t={event329:{value:.75},event317:{value:.75}}:"lenovogbpub"==e?t={event329:{value:.53},event317:{value:.53}}:"lenovochpub"==e?t={event329:{value:.8},event317:{value:.8}}:"lenovotwpub"==e?t={event329:{value:.59},event317:{value:.59}}:"lenovomypub"==e?t={event329:{value:.52},event317:{value:.52}}:"lenovomxpub"==e||"lenovoarpub"==e?t={event329:{value:.85},event317:{value:.85}}:"lenovosgpub"==e?t={event329:{value:.3},event317:{value:.3}}:"lenovoespub"==e&&(t={event329:{value:.76},event317:{value:.76}})),t}catch(e){console.log("Error in events Object : internal search - main-ecomm site"+e)}}}},"Adform ADF Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"adfcookieid",caseInsensitive:!0}},"Target : Inventory":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='inventory']"}},"User Placemant Name":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.user.placemantName"}},"Disable Pixel On Email URL For EMEA":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return decodeURIComponent(e.replace(/\+/g," "))}var t=e(window.location.href);return!!/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(t)}}},"Order Page Full Product List":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[],t={},o={};if(void 0!==lmd.purchase.allProducts){var n=lmd.purchase.allProducts;if(n)for(var r=n.length,a=0;a<r;)(t={}).value=n[a].fullproductID,e.push(t),a++}return o.list=e,o}}},"Error Type":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.errorType"}},"event 301-400 Object :  Internal Search : No Result Recommend: All sites":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=(lmd.productIndex,lmd.productid),n=getValOnce(";"+o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){if("lenovotwpub"==_satellite.getVar("reportSuite")){t={event317:{value:.56},event329:{value:.56}},console.log("Engagement Starting Score: ",e);var a=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",a),console.log("New Engagement Score added: ",.56),e=(parseFloat(a)+.56).toFixed(2),console.log("Final Engagement Score: ",e)}localStorage.setItem("score",e)}return t}catch(e){console.log("Exception in event 301-400 Object :  Internal Search : No Result Recommend: All sites",e)}}}},"Knexus Value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){for(var e="knexus_52badf732891d8a93174f08a6f45a874=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var n=t[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}var t=e();return""==t&&(t=sessionStorage.getItem("k_cc_p_jsn")),null==t&&(t=localStorage.getItem("k_cc_p_jsn")),t}}},"Impact Click Id Query String for PT":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"irclickid",caseInsensitive:!0}},"Espot Tab Name":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.espot.tabName"}},"Prev Page Name":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={cc:"ww",language:"en",section:"",subsection:""};try{if(location.hostname.match(/^www[0-9]*\.lenovo\.com$/)||"lenovo.com"===location.hostname)e.section="home";else{var t=location.hostname.match(/(.*)\.lenovo\.com/);e.section=t?t[1]:location.hostname}var o=document.referrer.indexOf("com"),n=document.referrer.length,r=document.referrer.indexOf("?"),a="";r>-1?a=document.referrer.substring(o+3,r):-1==r&&(a=document.referrer.substring(o+3,n));var s=a.match(/^\/([a-zA-Z]{2})\/([a-zA-Z]{2})(\/.*|$)/);if(s&&4===s.length)e.cc=s[1],e.language=s[2],"/"!==s[3]&&""!==s[3]&&(e.subsection=s[3]);else{e.subsection=a;try{if(e.subsection.match(/seuilibrary.*\/(.*)/i)){var c=e.subsection.match(/seuilibrary.*\/(.*)/i)[1].replace(".workflow","");if(e.subsection.match(/\/([^\/]*)\/stdaffinityportal/i)){var i=a.match(/\/([^\/]*)\/stdaffinityportal/i)[1];e.subsection="/"+i+"/"+c}else a.match(/enterstdaffinity/i)&&_satellite.getVar("url_qsp_affinity")?(i=_satellite.getVar("url_qsp_affinity"),e.subsection="/"+i+"/"+c):e.subsection="/"+c;a.match(/catalog\.workflow\:item\.detail/i)&&_satellite.getVar("url_qsp_accessoryCode")&&(e.subsection="/catalog:item:detail/"+_satellite.getVar("url_qsp_accessoryCode")+"/")}else if(location.hostname.match("checkout.lenovo.com")){var l=_satellite.getVar("lmd_analyticsName");if(l)e.subsection="/"+l;else{var d=_satellite.getVar("digitalRiver_pageID");d&&(e.subsection="/"+d)}}}catch(e){}}}catch(e){}try{var u=_satellite.getVar("Country Code");u&&(e.cc=u);var m=_satellite.getVar("Language");return m&&(e.language=m),"undefined"!=typeof lmd&&(lmd.section&&(e.section=lmd.section),lmd.subsection&&(e.subsection=lmd.subsection)),e.subsection=decodeURI(e.subsection).replace(/\//g,":").replace(/\.[^\/]*$/,"").replace(/:$/,""),e.subsection.match(/.+:index$/)&&e.subsection.replace(/:index$/,"",""),(location.hostname.match(/^www[0-9]*\.lenovo\.com$/)||"lenovo.com"===location.hostname)&&(e.section="home"),""!==e.subsection?"home"===e.section?e.cc+"_"+e.language+e.subsection:e.cc+"_"+e.language+":"+e.section+(""!==e.subsection?e.subsection:""):e.cc+"_"+e.language+":"+e.section}catch(e){}}}},"Custom Dimension : eVar Object : Promo Deals Learn More":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid;void 0!==lmd.facets&&void 0!==lmd.facets.refinementSelection&&lmd.facets.refinementSelection;var o=";"+t;console.log("productscode");var n,r=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+a),r&&a<=100){var s=_satellite.getVar("reportSuite");if("lenovoaupub"==s){e.eVar57="Learn More|0.27",e.eVar219="+0.27",e.eVar221="+0.27",e.eVar219,console.log("Engagement Starting Score: ",n);var c=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.27),n=(parseFloat(c)+.27).toFixed(2),console.log("Final Engagement Score: ",n)}else"lenovodepub"==s?(e.eVar57="Learn More|0.47",e.eVar219="+0.47",e.eVar221="+0.47",e.eVar219,console.log("Engagement Starting Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.47),n=(parseFloat(c)+.47).toFixed(2),console.log("Final Engagement Score: ",n)):"lenovofrpub"==s?(e.eVar57="Learn More|0.36",e.eVar219="+0.36",e.eVar221="+0.36",e.eVar219,console.log("Engagement Starting Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.36),n=(parseFloat(c)+.36).toFixed(2),console.log("Final Engagement Score: ",n)):"lenovokrpub"==s?(e.eVar57="Learn More|0.33",e.eVar219="+0.33",e.eVar221="+0.33",e.eVar219,console.log("Engagement Starting Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.33),n=(parseFloat(c)+.33).toFixed(2),console.log("Final Engagement Score: ",n)):"lenovochpub"==s?(e.eVar57="Learn More|0.45",e.eVar219="+0.45",e.eVar221="+0.45",e.eVar219,console.log("Engagement Starting Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.45),n=(parseFloat(c)+.45).toFixed(2),console.log("Final Engagement Score: ",n)):"lenovotwpub"==s?(e.eVar57="Learn More|0.63",e.eVar219="+0.63",e.eVar221="+0.63",e.eVar219,console.log("Engagement Starting Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.63),n=(parseFloat(c)+.63).toFixed(2),console.log("Final Engagement Score: ",n)):"lenovobrpub"==s&&(e.eVar57="Learn More|0.71",e.eVar219="+0.71",e.eVar221="+0.71",e.eVar219,console.log("Engagement Starting Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.71),n=(parseFloat(c)+.71).toFixed(2),console.log("Final Engagement Score: ",n));localStorage.setItem("score",n)}return e}catch(e){console.log("Error in Custom Dimension : eVar Object : Promo Deals Learn More "+e)}}}},"Bing ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())var e=5612701;else"in"==lmd.cc.toLowerCase()&&(e=25052135);return e}}},"Facebook In-App Browser":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=navigator.userAgent||navigator.vendor||window.opera,t={"com.facebook.katana":"Facebook","Twitter for Android":"Twitter",Instagram:"Instagram",WhatsApp:"WhatsApp",Snapchat:"Snapchat",LinkedIn:"LinkedIn"};let o="Unknown",n=!1;for(const r in t)if(e.includes(r)){o=t[r],n=!0;break}return o}}},"Not Checkout or Account But Thank You Generic":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!(1!=location.pathname.toLowerCase().includes("checkout")&&"account.lenovo.com"!=location.hostname.toLowerCase()&&"checkout.lenovo.com"!=location.hostname.toLowerCase()||location.pathname.toLowerCase().includes("orderconfirmation")||location.search.toLowerCase().includes("thankyoupage")||document.URL.toLowerCase().includes("thankyou")||location.search.toLowerCase().includes("yourorderisbeingprocessedpage")||document.URL.toLowerCase().includes("orderconfirmation"))}}},"Other 1 Config Soft Tab":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"other"}}},"Events 1-100 Object : Knexus Video Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return"start"==lmd.videoInfo.videoStatus?e={event63:{value:1},event62:{value:lmd.videoInfo.videoViewTime}}:"25 - complete"==lmd.videoInfo.videoStatus?e={event62:{value:lmd.videoInfo.videoViewTime}}:"50 - complete"==lmd.videoInfo.videoStatus?e={event66:{value:1},event62:{value:lmd.videoInfo.videoViewTime}}:"75 - complete"==lmd.videoInfo.videoStatus?e={event62:{value:lmd.videoInfo.videoViewTime}}:"100 - complete"==lmd.videoInfo.videoStatus&&(e={event67:{value:1},event62:{value:lmd.videoInfo.videoViewTime}}),e}catch(e){console.log("Exception in events 1-100 object video tracking",e)}}}},"Product List - DCR Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t=1,o={},n={},r={},a={},s={};if(void 0!==lmd.purchase&&void 0!==lmd.purchase.allProducts)for(var c=lmd.purchase.allProducts,i=0;i<c.length;i++){if((o={})._experience={analytics:{customDimensions:{eVars:{}},event1to100:{},event501to600:{},event701to800:{}}},n=o._experience.analytics.customDimensions.eVars,r=o._experience.analytics.event1to100,a=o._experience.analytics.event501to600,s=o._experience.analytics.event701to800,c[i].productID=c[i].productID.indexOf("-")>0?c[i].productID.split("-")[0]:c[i].productID,o.name=c[i].productID,o.SKU=c[i].productID,t=0,void 0!==c[i].quantity&&((t=parseInt(c[i].quantity))+""=="NaN"&&(quanity=0),o.quantity=Number(c[i].quantity)),void 0!==c[i].USDPrice&&0!==t){var l=parseFloat(c[i].USDPrice.toString().replace(",","")),d=0;l+""=="NaN"&&(l=0),d=l*t,o.priceTotal=Math.round(100*d)/100}else void 0!==c[i].priceUSD&&0!==t&&(l=parseFloat(c[i].priceUSD.toString().replace(",","")),d=0,l+""=="NaN"&&(l=0),d=l*t,o.priceTotal=Math.round(100*d)/100);var u=c[i].bundleID;void 0!==u&&0!==t&&(n.eVar25=u||"");var m=c[i].subseries;void 0!==m&&0!==t&&(n.eVar168=m||""),void 0!==c[i].shopRunnerType&&0!==t&&(n.eVar239=c[i].shopRunnerType?c[i].shopRunnerType:""),void 0!==c[i].deliverymethod&&0!==t&&(n.eVar247=c[i].deliverymethod?c[i].deliverymethod:""),void 0!==c[i].fulfillment&&0!==t&&(n.eVar249=c[i].fulfillment?c[i].fulfillment:"",console.log(c[i].fulfillment)),void 0!==c[i].deliveryamount&&0!==t&&(r.event60={value:Number(c[i].deliveryamount)});var g=c[i].freeexpedite;void 0!==g&&0!==t&&"yes"==g&&(r.event4={value:1});var p=c[i].loyaltydiscount;void 0!==p&&0!==t&&""!=typeof p&&(a.event522={value:Number(c[i].loyaltydiscount)});var f=c[i].Isloyaltydiscount;void 0!==f&&"yes"==f&&0!==t?a.event523={value:1}:void 0!==f&&0!==t&&"no"==f&&(a.event524={value:1}),void 0!==c[i].reorderdproduct&&0!==t&&(s.event701={value:1}),e.push(o)}return e}catch(e){console.log("Error in Product List - DCR Purchase DE ",e)}}}},"Consent Cookie DE":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"has_consent_cookie_de"}},"Custom Dimension : eVar Object : Current Step Product Configurator":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={};if(lmd.productid)var o=_satellite.getVar("Current Config Step");""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),"tab-Accessories"==o){if(getValOnce(o,"s_eVar57",0)&&n<=100){if("lenovodepub"==(a=_satellite.getVar("reportSuite"))){t.eVar57="Step Accessories|0.74",t.eVar219="+0.74",t.eVar221="+0.74",console.log("Starting Score: ",e);var r=localStorage.getItem("score");console.log("Score on localstorage: ",r),console.log("New Score added: ",.74),e=(parseFloat(r)+.74).toFixed(2),console.log("Final Score: ",e)}"lenovofrpub"==a&&(t.eVar57="Step Accessories|0.63",t.eVar219="+0.63",t.eVar221="+0.63",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.63),e=(parseFloat(r)+.63).toFixed(2),console.log("Final Score: ",e)),"lenovoaupub"==a&&(t.eVar57="Step Accessories|0.43",t.eVar219="+0.43",t.eVar221="+0.43",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.43),e=(parseFloat(r)+.43).toFixed(2),console.log("Final Score: ",e)),"lenovogbpub"==a&&(t.eVar57="Step Accessories|0.42",t.eVar219="+0.42",t.eVar221="+0.42",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.42),e=(parseFloat(r)+.42).toFixed(2),console.log("Final Score: ",e)),"lenovomxpub"==a&&(t.eVar57="Step Accessories|1.00",t.eVar219="+1.00",t.eVar221="+1.00",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",1),e=(parseFloat(r)+1).toFixed(2),console.log("Final Score: ",e)),"lenovoarpub"==a&&(t.eVar57="Step Accessories|1.00",t.eVar219="+1.00",t.eVar221="+1.00",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",1),e=(parseFloat(r)+1).toFixed(2),console.log("Final Score: ",e)),localStorage.setItem("score",e)}
}else if("tab-Software"==o)getValOnce(o,"s_eVar57",0)&&n<=100&&("lenovoaupub"==(a=_satellite.getVar("reportSuite"))?(t.eVar57="Step Software|0.70",t.eVar219="+0.70",t.eVar221="+0.70",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.7),e=(parseFloat(r)+.7).toFixed(2),console.log("Final Score: ",e)):"lenovodepub"==a?(t.eVar57="Step Software|0.89",t.eVar219="+0.89",t.eVar221="+0.89",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.89),e=(parseFloat(r)+.89).toFixed(2),console.log("Final Score: ",e)):"lenovoptpub"==a?(t.eVar57="Step Software|0.67",t.eVar219="+0.67",t.eVar221="+0.67",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.67),e=(parseFloat(r)+.67).toFixed(2),console.log("Final Score: ",e)):"lenovoespub"==a?(t.eVar57="Step Software|0.65",t.eVar219="+0.65",t.eVar221="+0.65",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.65),e=(parseFloat(r)+.65).toFixed(2),console.log("Final Score: ",e)):"lenovothpub"==a?(t.eVar57="Step Software|0.8",t.eVar219="+0.8",t.eVar221="+0.8",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.8),e=(parseFloat(r)+.8).toFixed(2),console.log("Final Score: ",e)):"lenovohkpub"==a?(t.eVar57="Step Software|0.72",t.eVar219="+0.72",t.eVar221="+0.72",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.72),e=(parseFloat(r)+.72).toFixed(2),console.log("Final Score: ",e)):"lenovosepub"==a?(t.eVar57="Step Software|0.27",t.eVar219="+0.27",t.eVar221="+0.27",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.27),e=(parseFloat(r)+.27).toFixed(2),console.log("Final Score: ",e)):"lenovofipub"==a?(t.eVar57="Step Software|0.59",t.eVar219="+0.59",t.eVar221="+0.59",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.59),e=(parseFloat(r)+.59).toFixed(2),console.log("Final Score: ",e)):"lenovokrpub"==a?(t.eVar57="Step Software|0.56",t.eVar219="+0.56",t.eVar221="+0.56",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.56),e=(parseFloat(r)+.56).toFixed(2),console.log("Final Score: ",e)):"lenovonopub"==a?(t.eVar57="Step Software|0.40",t.eVar219="+0.40",t.eVar221="+0.40",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.4),e=(parseFloat(r)+.4).toFixed(2),console.log("Final Score: ",e)):"lenovodkpub"==a?(t.eVar57="Step Software|0.47",t.eVar219="+0.47",t.eVar221="+0.47",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.47),e=(parseFloat(r)+.47).toFixed(2),console.log("Final Score: ",e)):"lenovofrpub"==a?(t.eVar57="Step Software|0.75",t.eVar219="+0.75",t.eVar221="+0.75",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.75),e=(parseFloat(r)+.75).toFixed(2),console.log("Final Score: ",e)):"lenovomypub"==a?(t.eVar57="Step Software|0.85",t.eVar219="+0.85",t.eVar221="+0.85",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.85),e=(parseFloat(r)+.85).toFixed(2),console.log("Final Score: ",e)):"lenovotwpub"==a?(t.eVar57="Step Software|0.89",t.eVar219="+0.89",t.eVar221="+0.89",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.89),e=(parseFloat(r)+.89).toFixed(2),console.log("Final Score: ",e)):"lenovobrpub"==a?(t.eVar57="Step Software|0.69",t.eVar219="+0.69",t.eVar221="+0.69",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.69),e=(parseFloat(r)+.69).toFixed(2),console.log("Final Score: ",e)):"lenovoinpub"==a&&(t.eVar57="Step Software|0.42",t.eVar219="+0.42",t.eVar221="+0.42",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.42),e=(parseFloat(r)+.42).toFixed(2),console.log("Final Score: ",e)),localStorage.setItem("score",e));else if("tab-Warranty"==o||"tab-stackableWarranty"==o){var a;if(getValOnce(o,"s_eVar57",0)&&n<=100)"lenovoaupub"==(a=_satellite.getVar("reportSuite"))?(t.eVar57="Step Warranty|0.21",t.eVar219="+0.21",t.eVar221="+0.21",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.21),e=(parseFloat(r)+.21).toFixed(2),console.log("Final Score: ",e)):"lenovoinpub"==a?(t.eVar57="Step Warranty|0.25",t.eVar219="+0.25",t.eVar221="+0.25",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.25),e=(parseFloat(r)+.25).toFixed(2),console.log("Final Score: ",e)):"lenovothpub"==a?(t.eVar57="Step Warranty|0.5",t.eVar219="+0.5",t.eVar221="+0.5",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.5),e=(parseFloat(r)+.5).toFixed(2),console.log("Final Score: ",e)):"lenovohkpub"==a&&(t.eVar57="Step Warranty|0.22",t.eVar219="+0.22",t.eVar221="+0.22",console.log("Starting Score: ",e),r=localStorage.getItem("score"),console.log("Score on localstorage: ",r),console.log("New Score added: ",.22),e=(parseFloat(r)+.22).toFixed(2),console.log("Final Score: ",e)),localStorage.setItem("score",e)}return t}catch(e){console.log("Error in Custom Dimension : eVar Object : Current Step Product Configurator "+e)}}}},"Internal Search: New Design Header Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.searchCategory;if(void 0!==lmd.searchCategory)var t=e.split("|",3),o=t[0]+"|"+t[1];return o}}},"purchase:paymentMethod":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.purchase.paymentMethod"}},lmd_bu:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.bu"}},"Internal Search Compare Category":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"product_Compare"}},"Not - EDU":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!location.pathname.includes("mxedu")}}},"XDM Object for Product Finder":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"productfinderresponse",linkClicks:{value:1}}},_experience:{analytics:{customDimensions:{eVars:{eVar136:"%ProductFinder pfresponse%",eVar141:"%ProductFinder pfsurveytype%",eVar237:"%ProductFinder pfzeroresultfilt%"}}}}},sandbox:{name:"prod"}}},"Purchase Ids Array":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.purchase&&lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t=[];for(x=0;x<e.length;x++)t.push(e[x].productID);return t}}}},"Custom Dimension : eVars Object : Product Page 360 View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid;console.log("test the call",+t);var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovouspub"==a){e.eVar57="Product 360 Views|0.15",e.eVar219="+0.15",e.eVar221="+0.15",console.log("Starting Engagement Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.15),o=(parseFloat(s)+.15).toFixed(2),console.log("Final Engagement Score:"+o)}else"lenovofrpub"==a?(e.eVar57="Product 360 Views|0.29",e.eVar219="+0.29",e.eVar221="+0.29",console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.29),o=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score:"+o)):"lenovonzpub"==a?(e.eVar57="Product 360 Views|0.14",e.eVar219="+0.14",e.eVar221="+0.14",console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.14),o=(parseFloat(s)+.14).toFixed(2),console.log("Final Engagement Score:"+o)):"lenovodepub"==a?(e.eVar57="Product 360 Views|0.48",e.eVar219="+0.48",e.eVar221="+0.48",console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.48),o=(parseFloat(s)+.48).toFixed(2),console.log("Final Engagement Score:"+o)):"lenovoinpub"==a&&(e.eVar57="Product 360 Views|0.17",e.eVar219="+0.17",e.eVar221="+0.17",console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.17),o=(parseFloat(s)+.17).toFixed(2),console.log("Final Engagement Score:"+o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in evars object for product page 360 view",e)}}}},"DCR Global Commerce Object":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{switch(e.identifier){case"Cartremoval":t.productListRemovals={value:1},t.productListViews={value:1};break;case"PDPAccessory_ATCart":t.productListAdds={value:1}}return t}catch(e){console.log("Error in DCR Global Commerce Object DE",e)}}}},"li_fat_id cookie":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"li_fat_id"}},"Cart Product Price":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.cart.totalPrice"}},"XDM Object For Facets - Hash":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Facets - Hash",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event501to600:{event515:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar127:"%Current Config Step%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Honey Extension Tracking":{storageDuration:"pageview",modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_experience:{analytics:{event301to400:{event322:{value:1}}}}},sandbox:{name:"prod"}}},"XDM Object For Type Ahead Search  Rule Suggestion":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Type Ahead Search  Rule Suggestion",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event208:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"TA Top Suggested : %Top Suggested%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar109:"%TA Index%",eVar144:"%Typed Term%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar170:"%Fusion AB SessionID% | %Fusion Exp ID% | %Fusion Query ID%",eVar171:"%User Agent%",eVar175:"%Fusion Exp ID%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Product List - DCR Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){console.log("Hybrid Add to Cart");try{for(var e,t=document.getElementsByClassName("cart-item").length,o=[],n=[],r=[],a=[],s=[],c=[],i=[],l=[],d=[],u={},m=0;m<t;m++)if("true"==document.getElementsByClassName("cart-item")[m].getAttribute("data-is-cto")){e=(e=(e=document.getElementsByClassName("cart-item")[m].getAttribute("data-p-configuration")).replace("[","{").replace("]","}")).replace(/\:/g,'":"');var g=/_/gi,p=JSON.parse(e);o[m]=p.NB_CPU?p.NB_CPU:p.NB_SP?p.NB_SP:p.DTCPU?p.DTCPU:p.EPCPU?p.EPCPU:p.ISESP?p.ISESP:p.ISESP1?p.ISESP1:p.DUM_DTCPU_M600?p.DUM_DTCPU_M600:p.NBCPUCP?p.NBCPUCP:p.DUM_DTCPU_M600?p.DUM_DTCPU_M600:p.DUM_DTCPU_X1?p.DUM_DTCPU_X1:"Not Found",o[m].indexOf("_")>=0&&(o[m]=o[m].replace(g," ")),n[m]=p.NB_OSL?p.NB_OSL:p.NB_PRELOAD_OS?p.NB_PRELOAD_OS:p.DTOS?p.DTOS:p.DTPRELOAD_OS?p.DTPRELOAD_OS:p.EPOS?p.EPOS:p.EPPRELOAD_OS?p.EPPRELOAD_OS:p.ISEOS?p.ISEPRELOAD_OS:p.NBY70015ISKOTHER2?p.NBY70015ISKOTHER2:p.NBMARKETINGOS?p.NBMARKETINGOS:"Not Found",n[m].indexOf("_")>=0&&(n[m]=n[m].replace(g," ")),r[m]=p.NB_DPY?p.NB_DPY:p.NB_TS?p.NB_TS:p.NB_DISPLAY?p.NB_DISPLAY:p.NBLCD?p.NBLCD:"Not Found",r[m].indexOf("_")>=0&&(r[m]=r[m].replace(g," ")),a[m]=p.NB_MEM?p.NB_MEM:p.DTMEMORY?p.DTMEMORY:p.Memory?p.Memory:p.EPMEMORY?p.EPMEMORY:p.EPMEMORY1?p.EPMEMORY1:p.ISEMEM1?p.ISEMEM1:p.NBRAM?p.NBRAM:p.NBONBOARDRAM?p.NBONBOARDRAM:"Not Found",a[m].indexOf("_")>=0&&(a[m]=a[m].replace(g," ")),s[m]=p.NB_HDD?p.NB_HDD:p.DTHDD1?p.DTHDD1:p.ISEHDD1?p.ISEHDD1:p.DTFIRST_HARD_DRIVE?p.DTFIRST_HARD_DRIVE:p.NB_HDD1?p.NB_HDD1:p.NB_HDD3?p.NB_HDD3:p.NB_HDD?p.NB_HDD:"Not Found",s[m].indexOf("_")>=0&&(s[m]=s[m].replace(g," ")),c[m]=p.NB_BAT?p.NB_BAT:p.NBBATTERY?p.NBBATTERY:"Not Found",c[m].indexOf("_")>=0&&(c[m]=c[m].replace(g," ").replace("FRONT","F")),i[m]=p.NB_BAT2?p.NB_BAT2:"Not Found",i[m].indexOf("_")>=0&&(i[m]=i[m].replace(g," ").replace("REAR","R")),l[m]=p.NB_BODY_COLOR?p.NB_BODY_COLOR:p.NBBASE?p.NBBASE:"Not Found",l[m].indexOf("_")>=0&&(l[m]=l[m].replace(g," ")),_satellite.notify(o[m],1),_satellite.notify(n[m],1),_satellite.notify(r[m],1),_satellite.notify(a[m],1),_satellite.notify(s[m],1),_satellite.notify(c[m],1),_satellite.notify(i[m],1),_satellite.notify(l[m],1)}var f=lmd.cart.allProducts;for(m=0;m<f.length;m++)f[m].productID&&(f[m].productID=f[m].productID.indexOf("-")>0?f[m].productID.split("-")[0]:f[m].productID);for(var _=0,v=f[f.length-1],b=0;b<f.length;b++)f[b].productID&&("CTO"==(v=f[b]).configType?(""!==v.itadminrecommend&&""!==v.Source?((u={}).name=v.productID,u.SKU=v.productID,u._experience={event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}},customDimensions:{eVars:{eVar23:v.itadminrecommend,eVar195:v.Source,eVar208:o[_],eVar209:n[_],eVar210:r[_],eVar211:a[_],eVar212:s[_],eVar213:c[_]+"|"+i[_]+"|"+l[_]}}},d.push(u)):((u={}).name=v.productID,u.SKU=v.productID,u._experience={analytics:{event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}},customDimensions:{eVars:{eVar195:v.Source,eVar208:o[_],eVar209:n[_],eVar210:r[_],eVar211:a[_],eVar212:s[_],eVar213:c[_]+"|"+i[_]+"|"+l[_]}}}},d.push(u)),_++):""!==v.itadminrecommend&&""!==v.Source?((u={}).name=v.productID,u.SKU=v.productID,u._experience={analytics:{event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}},customDimensions:{eVars:{eVar23:v.itadminrecommend,eVar195:v.Source}}}},d.push(u)):((u={}).name=v.productID,u.SKU=v.productID,u._experience={analytics:{event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}}}},d.push(u)));if(d.length>0)return d}catch(e){console.log("Error in Product List - DCR Cart Add ",e)}}}},"XDM Object - DCR Registration Steps":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"registrationsteps"}},_experience:{analytics:{event1to100:{event73:{value:1}}}}},sandbox:{name:"prod"}}},"Page Channel":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.list_type"}},"XDM Object : Analytics : 1 Config Header Tracking":{defaultValue:"",modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"1 Config Header Tracking",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar58:"%1 Config  : DCSC Page Name %",eVar157:"%1 Config : DCSC Header Tracking %"},props:{prop50:"%1 Config : DCSC Header Tracking %"}}}}},sandbox:{name:"prod"}}},"Target : Entity Brand New":{defaultValue:"",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='brand']"}},"LA Shipping Billing Page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("/checkout/multi/add-delivery-address".toLowerCase())>-1}}},"Product Sub Series":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.subseries"}},"Facebook fbp":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_fbp"}},SheerIdEmail:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheeridEmail']"}},"Product List - Quote Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t={};if(void 0!==lmd.productid)return t.name=lmd.productid,e.push(t),e}catch(e){console.log("Error in Product List - Quote Cart Add ",e)}}}},"XDM Object for Compare Product Cart Addition":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Compare Product Cart Addition",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event285:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar215:"%Compare Product Cart Addition%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Adform ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.cookie.get("Adform Cookie ID")}}},"Cart/Checkout ID Event":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.cart&&lmd.cart.cartID,1}}},SheerIdFirstName:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheeridFirstName']"}},"Pinterest Sites":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.storeID&&"brweb"==lmd.storeID.toLowerCase()}}},"Product List - SR Cart View ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t={},o=lmd.cart.allProducts,n="";for(x=0;x<o.length;x++)""==n?((t={}).name=o[x].productID,t.priceTotal="",t.quantity="",t.SKU="",t._experience={customDimensions:{eVars:{eVar239:o[x].shopRunnerType}}},e.push(t)):(t.name=o[x].productID,t.priceTotal="",t.quantity="",t.SKU="",t._experience={customDimensions:{eVars:{eVar239:o[x].shopRunnerType}}},e.push(t));return e}catch(e){}}}},"events 301-400 Object : Current Step Product Configurator":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={};if(lmd.productid)var o=_satellite.getVar("Current Config Step");var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),"tab-Accessories"==o)getValOnce(o,"s_eVar57",0)&&n<=100&&("lenovodepub"==(r=_satellite.getVar("reportSuite"))&&(t={event317:{value:.74},event329:{value:.74}}),"lenovofrpub"==r&&(t={event317:{value:.63},event329:{value:.63}}),"lenovoaupub"==r&&(t={event317:{value:.43},event329:{value:.43}}),"lenovogbpub"==r&&(t={event317:{value:.42},event329:{value:.42}}),"lenovomxpub"==r&&(t={event317:{value:1},event329:{value:1}}),"lenovoarpub"==r&&(t={event317:{value:1},event329:{value:1}}),localStorage.setItem("score",e));else if("tab-Software"==o)getValOnce(o,"s_eVar57",0)&&n<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?t={event317:{value:.7},event329:{value:.7}}:"lenovodepub"==r?t={event317:{value:.89},event329:{value:.89}}:"lenovoptpub"==r?t={event317:{value:.67},event329:{value:.67}}:"lenovoespub"==r?t={event317:{value:.65},event329:{value:.65}}:"lenovothpub"==r?t={event317:{value:.8},event329:{value:.8}}:"lenovohkpub"==r?t={event317:{value:.72},event329:{value:.72}}:"lenovosepub"==r?t={event317:{value:.27},event329:{value:.27}}:"lenovofipub"==r?t={event317:{value:.59},event329:{value:.59}}:"lenovokrpub"==r?t={event317:{value:.56},event329:{value:.56}}:"lenovonopub"==r?t={event317:{value:.4},event329:{value:.4}}:"lenovodkpub"==r?t={event317:{value:.47},event329:{value:.47}}:"lenovofrpub"==r?t={event317:{value:.75},event329:{value:.75}}:"lenovomypub"==r?t={event317:{value:.85},event329:{value:.85}}:"lenovotwpub"==r?t={event317:{value:.89},event329:{value:.89}}:"lenovobrpub"==r?t={event317:{value:.69},event329:{value:.69}}:"lenovoinpub"==r&&(t={event317:{value:.42},event329:{value:.42}}));else if("tab-Warranty"==o||"tab-stackableWarranty"==o){var r;getValOnce(o,"s_eVar57",0)&&n<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?t={event317:{value:.21},event329:{value:.21}}:"lenovoinpub"==r?t={event317:{value:.25},event329:{value:.25}}:"lenovothpub"==r?t={event317:{value:.5},event329:{value:.5}}:"lenovohkpub"==r&&(t={event317:{value:.22},event329:{value:.22}}))}return t}catch(e){console.log("error in events 301-400 Object : Current Step Product Configurator "+e)}}}},"Target : Meta Inventory":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='inventory']"}},"Custom Dimension - eVars Object - SR Cart View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return e.eVar1=_satellite.getVar("internalPromotion"),e.eVar5=_satellite.getVar("cc"),e.eVar12=lmd.storeID,e.eVar32=_satellite.getVar("lmd_bu"),e.eVar58=s.pageName,e.eVar75=_satellite.getVar("URL"),e.eVar147=_satellite.getVar("Language"),e.eVar15=_satellite.getVar("sectionDetail"),e}catch(e){}}}},"Facebook Content Ids":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return null!=typeof _satellite.getVar("Cart Product Id")&&""!=_satellite.getVar("Cart Product Id")?_satellite.getVar("Cart Product Id"):void 0!==typeof _satellite.getVar("Purchase Ids Array")&&""!==_satellite.getVar("Purchase Ids Array")?_satellite.getVar("Purchase Ids Array"):location.pathname.indexOf("/p/")>-1?void 0!==typeof lmd&&void 0!==lmd.productcodeimpressions?lmd.productcodeimpressions:lmd.productID?lmd.productID:"":void 0!==lmd.cart&&void 0!==lmd.cart.event&&void 0!==lmd.cart.event.productID?lmd.cart.event.productID:void 0}}},"Target : Entity Subseseries ID Meta":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="subseriesPHcode"]'}},"Custom Dimension - eVars Object -  DCR Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return _satellite.getVar("Knexus Value")&&(e.eVar8=_satellite.getVar("Knexus Value")),e.eVar18=_satellite.getVar("purchase:paymentMethod"),e.eVar19=_satellite.getVar("repID"),""!==_satellite.getVar("purchase:shippingMethod")&&(e.eVar20=_satellite.getVar("purchase:shippingMethod")),e.eVar24=_satellite.getVar("purchase:orderID"),e.eVar142=_satellite.getVar("Hashed Email ID"),e.eVar127=_satellite.getVar("Hashed Email Placement Name"),e.eVar172=_satellite.getVar("Purchase Ecoupon Code"),e.eVar162=_satellite.getVar("ATP Checkout"),void 0!==lmd.thirdPartyProductAdded&&void 0!==lmd.thirdPartyProductName&&(e.eVar154=lmd.thirdPartyProductName),void 0!==lmd.idme&&(e.eVar173=lmd.idme.group),e}catch(e){}}}},"event 1-100 Object : DCR Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(void 0!==lmd.purchase){var t=lmd.purchase.shippingPriceUSD?lmd.purchase.shippingPriceUSD:0,o=lmd.purchase.taxUSD?lmd.purchase.taxUSD:0;void 0!==t&&(e.event60={value:Number(t)}),void 0!==o&&(e.event61={value:Number(o)})}return e}catch(e){console.log("Error in event1to100 : DCR Purchase DE "+e)}}}},"XDM Object - Purchase":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Purchase",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_lenovo:{Reddit:{Uid:"%Reddit UID%",Clickid:"%Reddit Click ID%"},AdformID:"%Adform ID%",RegionCode:"%Region Code%",orderTotal:"%Purchase Total Price%",GA_ClientID:"%GA Client ID%",Flashtalking:{guid:"%Flashtalking GUID%",productname:"%Product Name - Purchase%"},ImpactRadius:{Sid:"%IR - SID%",ClickId:"%Impact Click Id%"},googleSHA256:"%Google Sha256%",orderDetails:{tax:"%orderTax%",shipping:"%orderShipping%",basePrice:"%orderBasePrice%",totalPrice:"%orderTotalPrice%",shippingZip:"%orderShippingZip%",ProductLocal:{allProducts:"%Order allProduct Array%"}},Currency_Code:"%currencyCode%",MidasContactID:"%Midas Contact ID%",purchaseSHA256:"%Email Sha256%",PurchaseDetails:{eventType:"purchase",purchaseID:"%purchase:orderID%",productList:"%Product List - Purchase%",productName:"%Purchase Product Name Arr%"}},commerce:{order:{payments:[{paymentType:"%purchase:paymentMethod%",transactionID:"%purchase:orderID%"}],purchaseID:"%purchase:orderID%",currencyCode:"USD"},purchases:{id:"%Purchase ID%",value:1}},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event101to200:{event195:{value:1}},event201to300:"%events 201-300 Object - Purchase%",event301to400:"%event 300-400 Object : DCR Purchase%",event401to500:{event414:{value:"%User Acceptance (e414)%"},event415:{value:"%User Declined (e415)%"}},customDimensions:{eVars:"%Custom Dimension - eVars Object - Purchase%",props:"%Custom Dimension - props Object - Purchase%"}}},identityMap:"%Custom Attribute%",productListItems:"%Product List - Purchase%"},sandbox:{name:"prod"}}},Server:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.location.hostname"}},"Custom Dimension - eVars Object - DCR Checkout 1":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=_satellite.getVar("getCheckoutProduct"),n=getValOnce(o,"s_eVar57",0);t.eVar13=_satellite.getVar("eCoupon"),t.eVar127=_satellite.getVar("Hashed Email Placement Name"),t.eVar142=_satellite.getVar("Hashed Email ID"),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");"lenovonzpub"==a?(t.eVar57="Checkout Page 1|0.88",t.eVar219="+0.88",t.eVar221="+0.88"):"lenovoinpub"==a?(t.eVar57="Checkout Page 1|0.33",t.eVar219="+0.33",t.eVar221="+0.33"):"lenovotwpub"==a&&(t.eVar57="Checkout Page 1|1.0",t.eVar219="+1.0",t.eVar221="+1.0"),localStorage.setItem("score",e)}return t}catch(e){}}}},"Product ID Common":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[],t={};if(void 0!==lmd.productid&&""!==lmd.productid&&null!==lmd.productid)return t.SKU=lmd.productid.toString(),t.name=lmd.productid.toString(),e.push(t),e}}},Error_CustomReferrer:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.errorReferrer"}},"Target : Category ID CustomCode":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.href.toLowerCase();if(e.indexOf("laptop")>-1)var t="Laptops";else t=e.indexOf("notebook")>-1?"Laptops":e.indexOf("desktops")>-1?"Desktops":e.indexOf("tablet")>-1?"Tablets":e.indexOf("workstations")>-1?"Workstations":e.indexOf("accessories")>-1?"Accessories":/devices|arvr|daydreamvr|smart|jedi/.test(e)?"Smart Devices":"";return t}}},"XDM Object : Analytics: DCR: Segment Preference":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"https://account.lenovo.com/us/en/account/login/index.html?",name:"Analytics: DCR: Segment Preference",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event401to500:"%Skip & Done-Continue  (e400-e500) %",customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar32:"%Business unit%",eVar47:"%user status%",eVar58:"%pageName%",eVar63:"%reportSuite%",eVar70:"%Prev Page Name%",eVar75:"%URL%",eVar136:"%Profile Interest%",eVar141:"%Segment preference%",eVar147:"%Language%",eVar171:"%User Agent%"}}}}},sandbox:{name:"prod"}}},"Algorithm name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.algorithm_name?String(lmd.algorithm_name):"No Experience"}}},"IS Cart Page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().indexOf("/cart")>-1}}},"Custom Dimension : eVars Object : Homepage : Recommendation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return e.eVar158=_satellite.getVar("Homepage: Recommendation Tracking"),e.eVar85=lmd.SourcePage,e.eVar23=_satellite.getVar("custom interaction"),void 0!==lmd.productindex&&""!==lmd.productindex&&(e.eVar109=lmd.productindex),void 0!==lmd.productidindex&&""!==lmd.productidindex&&(e.eVar109=lmd.productidindex),e}catch(e){console.log("Exception in evars object of Homepage Recommendation",e)}}}},"Recommended Word":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{
path:"lmd.recommendedWord"}},"Target : Meta ConfigType 1":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='configtype']"}},"Custom Dimension - eVars Object -  Login Analysis":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return(e={eVar5:_satellite.getVar("Country Code"),eVar12:_satellite.getVar("storeID"),eVar15:_satellite.getVar("Section Details"),eVar21:_satellite.getVar("CustomerID"),eVar32:_satellite.getVar("Business unit"),eVar58:_satellite.getVar("pageName"),eVar63:_satellite.getVar("Report Suite"),eVar75:_satellite.getVar("URL"),eVar108:_satellite.getVar("Error_CustomReferrer"),eVar147:_satellite.getVar("Language"),eVar169:_satellite.getVar("ECID"),eVar171:_satellite.getVar("User Agent"),eVar180:_satellite.getVar("BPID")|_satellite.getVar("storeID"),eVar193:_satellite.getVar("GroupID")}).eVar31=_satellite.getVar("Login ID"),e.eVar47=_satellite.getVar("login Status"),void 0!==window.lmd.value&&(e.eVar230=_satellite.getVar("SMB Value(Employee Size)")),void 0!==lmd.smbdetails&&(e.eVar86=_satellite.getVar("SMB Details")),void 0!==lmd.segment&&(e.eVar94=lmd.segment),void 0!==lmd.domainlenovoid&&(e.eVar235=lmd.domainlenovoid),e}catch(e){}}}},"Is Checkout":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("/checkout/".toLowerCase())>-1||void 0!==_satellite.getVar("Generic Query String")&&(_satellite.getVar("Generic Query String").toString().toLowerCase().indexOf("quickbuycartpage".toLowerCase())>-1||_satellite.getVar("Generic Query String").toString().toLowerCase().indexOf("quickbuyconfirmorderpage".toLowerCase())>-1)}}},"Windows - EBC":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Window EBC:"+lmd.EBC}}},"event 301-400 Object : Add to cart : Product Page MTM":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid,o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?e={event329:{value:.89},event317:{value:.89}}:"lenovonzpub"==r||"lenovothpub"==r?e={event329:{value:1},event317:{value:1}}:"lenovodepub"==r?e={event329:{value:.74},event317:{value:.74}}:"lenovokrpub"==r?e={event329:{value:.78},event317:{value:.78}}:"lenovofrpub"==r?e={event329:{value:.67},event317:{value:.67}}:"lenovogbpub"==r?e={event329:{value:.89},event317:{value:.89}}:"lenovomypub"==r?e={event329:{value:.67},event317:{value:.67}}:"lenovoinpub"==r?e={event329:{value:.58},event317:{value:.58}}:"lenovosepub"==r?e={event329:{value:.73},event317:{value:.73}}:"lenovosgpub"==r?e={event329:{value:.7},event317:{value:.7}}:"lenovoptpub"==r?e={event329:{value:.83},event317:{value:.83}}:"lenovoespub"==r&&(e={event329:{value:.88},event317:{value:.88}})}return e}catch(e){console.log("Error in event 1-100 Object : Add to cart : Product Page MTM"+e)}}}},html_customcode_listvalue_lmd:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$("meta[name='productprice']").attr("content"),t=$("meta[name='pagetype']").attr("content"),o="";if($(".banner_content_desc .saved-price .price").length&&(o=$(".banner_content_desc .saved-price .price").text()),$(".banner_content_desc .price_box .final-price").length&&($(".banner_content_desc .price_box .final-price").text(),$(".banner_content_desc .price_box .final-price").text().split("")[0]),"undefined"!==o&&""!==o&&$('meta[name="platform"]').attr("content").indexOf("Flash")>-1&&"Model"==t)return o;if(void 0!==e&&""!=e&&""==o&&$('meta[name="platform"]').attr("content").indexOf("Flash")>-1){var n=location.href.includes("jp/ja")?parseFloat(e):parseFloat(e).toFixed(2);return n=flash_fe_core_tool.$priceFormat.split3(n)}return null!=e&&"Flash"!=$('meta[name="platform"]').attr("content")?e:""}}},"smb home page user type":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.smbhomepageusertype"}},"Product List - DCR Product View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t={};if(void 0!==lmd.productinfo&&lmd.productinfo.length>0)for(var o=lmd.productinfo.length,n=0;n<o;){var r=lmd.productinfo[n]?.productcodeimpressions;r&&r.indexOf("CTO")>-1&&r.length>10?((t={}).SKU=r.slice(0,10)||"",t.name=r.slice(0,10)||"",e.push(t)):((t={}).SKU=r||"",t.name=r||"",e.push(t)),n++}else void 0!==lmd.productID?lmd.productID.indexOf("CTO")>-1&&lmd.productID.length>10?(t.SKU=lmd.productID.slice(0,10)||"",t.name=lmd.productID.slice(0,10)||"",e.push(t)):""!==lmd.productID&&"N/A"!==lmd.productID&&"n/a"!==lmd.productID&&"n|a"!==lmd.productID&&"N|A"!==lmd.productID&&"NA"!==lmd.productID&&"na"!==lmd.productID?(t.SKU=lmd.productID||"",t.name=lmd.productID||"",e.push(t)):(t.SKU=_satellite.getVar("Subseries ID")||"",t.name=_satellite.getVar("Subseries ID")||"",e.push(t)):(t.SKU=_satellite.getVar("Subseries ID")||"",t.name=_satellite.getVar("Subseries ID")||"",e.push(t));return e}catch(e){console.log("Error in DCR Prod View DE"+e)}}}},"Target : segment":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(document.URL.toLowerCase().indexOf("lenovopro")>-1){var e=lmd.segment;if(e)return e}}catch(e){console.log("Error in product view event"+e)}}}},"Video Tracking 50 - complete ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("50 - complete"==lmd.videoInfo.videoStatus)return 1}}},"Target: getDecisionScopes_Cart mbox - FLASH":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){$("meta[name='platform']").attr("content");var e=[];if(lmd&&lmd.cart&&lmd.cart.allProducts){var t=lmd.cart.allProducts.length-1,o=lmd.cart.allProducts;o[t].configType&&"MTMproductModel"==o[t].configType||"CTO"==o[t].configType?($("meta[name='platform']").attr("content"),e.push("cart_page_mbox")):e.push("cart_page_mbox")}return e}}},"EMEA Country Code":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return null==document.querySelector('meta[name="country"]')?null!==document.querySelector('meta[name="Lenovo.Country"]')?e=document.querySelector('meta[name="Lenovo.Country"]').content:void 0!==_satellite.getVar("locale")?e=_satellite.getVar("locale").split("_")[1].toLowerCase():"undefined"!=typeof lmd&&void 0!==lmd.cc&&(e=lmd.cc.toLowerCase()):e=document.querySelector('meta[name="country"]').content.toLowerCase(),new RegExp("^(se|ie|gb|de|fr|at|dk|no|fi|pt|be|nl|ch|es|it|il|ee|lv|lt|pl|tr|cz|sk|bg|gr|hu|hr|si|rs|ro|mk)$","i").test(e.toLowerCase())}}},"Hashed Email ID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.user.emailID"}},"LAS: Only DLP - Pop-up":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"dlp"===lmd.taxonomytype&&(lmd.internalsearchcanonical.includes("/d/laptops-core-i3")||lmd.internalsearchcanonical.includes("/d/laptops-thinkpad")||lmd.internalsearchcanonical.includes("/d/thinkpad-x1-carbon"))}}},groupid:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.groupID"}},"Not Checkout":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.href.toString().toLowerCase().indexOf("checkout".toLowerCase())<0||location.hostname.toString().toLowerCase()!="checkout.lenovo.com".toLowerCase()||location.href.toString().toLowerCase().indexOf("thankyoupage".toLowerCase())>-1||void 0!==lmd.purchase&&void 0!==lmd.purchase.orderID}}},"XDM Object for Payment Page":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Payment Page",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event401to500:{event418:{id:"%Serial ID for Payment Page%",value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar171:"%User Agent%"}}}}},sandbox:{name:"prod"}}},"XDM Object For SR Sign In":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"SR Sign In",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{event501to600:{event515:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar237:"%Shop Login Status%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"FB Event Type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.indexOf("/p/")>-1?"ViewContent":"cart"==lmd.taxonomytype?"AddToCart":void 0!==lmd.purchase&&void 0!==lmd.purchase.orderID?"Purchase":void 0}}},"Internal Search : Compare Category":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.searchCategory_CompareIndex"}},"XDM Object for Form Initiated":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Form Initiated",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event9:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar240:"%Form Type%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"currency lmd":{defaultValue:"USD",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.currency"}},"Login Info LenovoID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.loginInfo&&void 0!==lmd.loginInfo.lenovoID&&null!==lmd.loginInfo.lenovoID?lmd.loginInfo.lenovoID.toString():""}}},"Custom Dimension : eVar Object : Promo Deals Facets Click":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=$(this).parents(".facetFilter-item-list").attr("data-value-name");if($(this).parents(".facetFilter-item-list").attr("data-facet-name"),void 0!==lmd.facets)if(void 0!==lmd.facets.refinementSelection)var n=lmd.facets.refinementSelection;else n="#$%*&^%%";else n="#$%*&^%%";!0!==n.includes(o)&&(t.eVar126=$(this).parents(".facetFilter-item-list").attr("data-facet-name"),t.eVar127=$(this).parents(".facetFilter-item-list").attr("data-value-name")),t.eVar57=getValOnce(t.eVar127,"s_eVar57",0),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),t.eVar57&&t.eVar127&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovoaupub"==a){t.eVar57="Facet Clicks|0.79",t.eVar219="+0.79",t.eVar221="+0.79",console.log("Engagement Starting Score: ",e);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.79),e=(parseFloat(s)+.79).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovouspub"==a?(t.eVar57="Facet Clicks|0.81",t.eVar219="+0.81",t.eVar221="+0.81",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.81),e=(parseFloat(s)+.81).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovothpub"==a?(t.eVar57="Facet Clicks|0.6",t.eVar219="+0.6",t.eVar221="+0.6",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.6),e=(parseFloat(s)+.6).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovohkpub"==a?(t.eVar57="Facet Clicks|1.0",t.eVar219="+1.0",t.eVar221="+1.0",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovofrpub"==a?(t.eVar57="Facet Clicks|1",t.eVar219="+1",t.eVar221="+1",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovokrpub"==a?(t.eVar57="Facet Clicks|0.72",t.eVar219="+0.72",t.eVar221="+0.72",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.72),e=(parseFloat(s)+.72).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovonopub"==a?(t.eVar57="Facet Clicks|0.87",t.eVar219="+0.87",t.eVar221="+0.87",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.87),e=(parseFloat(s)+.87).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovodkpub"==a?(t.eVar57="Facet Clicks|0.76",t.eVar219="+0.76",t.eVar221="+0.76",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.76),e=(parseFloat(s)+.76).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovonzpub"==a?(t.eVar57="Facet Clicks|0.82",t.eVar219="+0.82",t.eVar221="+0.82",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.82),e=(parseFloat(s)+.82).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovodepub"==a?(t.eVar57="Facet Clicks|0.89",t.eVar219="+0.89",t.eVar221="+0.89",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.89),e=(parseFloat(s)+.89).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovogbpub"==a?(t.eVar57="Facet Clicks|0.79",t.eVar219="+0.79",t.eVar221="+0.79",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovochpub"==a?(t.eVar57="Facet Clicks|1",t.eVar219="+1",t.eVar221="+1",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovotwpub"==a?(t.eVar57="Facet Clicks|0.99",t.eVar219="+0.99",t.eVar221="+0.99",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.99),e=(parseFloat(s)+.99).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovomypub"==a?(t.eVar57="Facet Clicks|0.89",t.eVar219="+0.89",t.eVar221="+0.89",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.89),e=(parseFloat(s)+.89).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoinpub"==a?(t.eVar57="Facet Clicks|1",t.eVar219="+1",t.eVar221="+1",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovofipub"==a?(t.eVar57="Facet Clicks|0.88",t.eVar219="+0.88",t.eVar221="+0.88",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.88),e=(parseFloat(s)+.88).toFixed(2),console.log("Final Engagement Score: ",e)):("lenovoptpub"==a||"lenovoglobaldev"==a)&&(t.eVar57="Facet Clicks|0.99",t.eVar219="+0.99",t.eVar221="+0.99",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.99),e=(parseFloat(s)+.99).toFixed(2),console.log("Final Engagement Score: ",e));localStorage.setItem("score",e)}else console.log("eVar127 is undefined"),e=localStorage.getItem("score"),console.log("Final Engagement Score: ",e);return t}catch(e){console.log("Error in Custom Dimension : eVar Object : Promo Deals Facets Click "+e)}}}},"XDM Object for LPP Header tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"LPP Header tracking",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar56:"%LPP Bid%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar86:"%LPP Company Name | Company ID%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar204:"%LPP LenovoPartnerDetails%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Cart Sub Total":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=0;if(lmd.cart&&lmd.cart.basePrice){var t=lmd.cart.basePrice;"$"===t.charAt(0)&&(t=t.substring(1));var o=parseFloat(t);isNaN(o)||(e=o)}return e}}},"AAM Values":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.AAMValues"}},RS:{defaultValue:"4d1d889f-916f-480a-9e43-e9365be00eb6:dev",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;if(_satellite.getVar("util:isValidProdDomain"))if(1==_satellite.getVar("AnalyticsDevelopmentEnvironment")||1==_satellite.getVar("Staging_header")||-1==window.location.hostname.toLowerCase().indexOf("tele-hybris.lenovo")&&window.location.hostname.toLowerCase().indexOf("hybris")>-1||"lenovo.hashconnect.in"===window.location.hostname||window.location.hostname.toLowerCase().indexOf("flash")>-1||window.location.hostname.toLowerCase().indexOf("uat-www")>-1||window.location.hostname.toLowerCase().indexOf("lenovouat")>-1||window.location.hostname.toLowerCase().indexOf("pre-www")>-1||window.location.hostname.toLowerCase().indexOf("test-tele")>-1||window.location.hostname.toLowerCase().indexOf("preaccount.lenovo.com")>-1)e="4d1d889f-916f-480a-9e43-e9365be00eb6:dev";else switch(null==document.querySelector('meta[name="country"]')?null!==document.querySelector('meta[name="Lenovo.Country"]')?t=document.querySelector('meta[name="Lenovo.Country"]').content:void 0!==_satellite.getVar("locale")?t=_satellite.getVar("locale").split("_")[1].toLowerCase():"undefined"!=typeof lmd&&void 0!==lmd.cc&&(t=lmd.cc.toLowerCase()):t=document.querySelector('meta[name="country"]').content.toLowerCase(),(void 0===t||void 0!==t&&""==t)&&(location.href&&location.href.indexOf(".confirmit.com")>-1&&location.href.split("?")[1]&&location.href.split("?")[1].indexOf("cc=")>-1?t=location.href.split("?")[1].substring(location.href.split("?")[1].indexOf("cc=")+3,location.href.split("?")[1].indexOf("cc=")+5):void 0!==document.referrer&&null!==document.referrer&&document.referrer.indexOf(".confirmit.com")>-1&&document.referrer.split("?")[1]&&document.referrer.split("?")[1].indexOf("cc=")>-1&&(t=document.referrer.split("?")[1].substring(document.referrer.split("?")[1].indexOf("cc=")+3,document.referrer.split("?")[1].indexOf("cc=")+5))),t){case"ca":e="2b931350-4eed-428d-ad63-e2530b4887a6";break;case"us":e="554c6682-f414-4757-b962-f2bf2c6deaea";break;case"nz":e="388e4670-68ac-431a-95b3-25e4859b650d";break;case"au":e="d95b12fa-a7f4-4fca-adde-b279d45724ac";break;case"gb":e="f8a8f77d-c31e-4b15-ad28-f5465a440c9e";break;case"by":case"by":e="6edd6c26-7c4b-4c12-9ab1-9562a2c256d0";break;case"ae":e="ae0b8692-02ff-470a-8611-3a8365a3b01a";break;case"ar":e="a969bed3-4c86-47a9-917a-ec923839e503";break;case"at":e="010ab03a-a56e-4ce6-9879-b8280fed3c6a";break;case"bd":e="8a873c40-1e4d-4e28-bb03-8b02a9c1dcad";break;case"be":e="537b6877-f1d5-4798-9d26-50af6327e5a2";break;case"bg":e="124301fc-1e51-4973-8b7c-104323edde34";break;case"es":e="c7f48d44-2642-4113-b78f-fe2ad3ee1e4b";break;case"fi":e="bb4846cc-f5bc-47c5-9243-4fd454c923b2";break;case"fr":e="cd930bb7-2dc6-4731-85ed-60770e4fa331";break;case"hk":e="9c5ed078-2923-486d-a616-8692ddc419eb";break;case"ie":e="0c4b5e8c-7864-4aae-be22-775d3e91eef1";break;case"in":e="9a8c725c-f16c-4f65-baf4-ffd5e22939d9";break;case"mx":e="4b8a28b5-8a85-4d6c-ace7-70ce5204e64c";break;case"nl":e="14d94ccf-f904-41b6-bf9f-f9be162d6f32";break;case"no":e="12d6f03f-5b85-48f8-bc9f-d6a1c4733ce1";break;case"se":e="3bd280b8-f75c-402e-99e9-4015fef7133b";break;case"sg":e="a05c3222-b9b1-434f-9f49-2052927df7a7";break;case"tw":e="ec89bdeb-5bda-4c33-b81c-deef20700afb";break;case"ao":e="66a1caaa-0a52-4e10-a0bd-09a00c8b43e1";break;case"bh":e="e2b18a8b-0643-4fc0-bd92-bb5c1fb5cf20";break;case"bo":e="a9a0590f-16ff-4f0a-aefe-79c141f1f2bc";break;case"br":_satellite.getVar("Get Consent from LS"),e="f403c102-c8fa-41b0-8d4e-11f503519b98";break;case"iq":e="7297ce7f-5f1f-4dbd-b091-d8eaa1274d6f";break;case"ir":e="a668e4cb-440d-442e-9810-0f2f08fa2323";break;case"it":e="4706f21c-8185-42ad-a9d0-ac80edc24865";break;case"jp":e="4e4ee1e6-2acd-4e45-b150-a20e4b771638";break;case"lb":e="91885884-1c62-4c43-afa3-5db08f9d024a";break;case"lk":e="a24cb170-0303-41c3-b59d-2ad7a5379dd8";break;case"lt":e="bb8120ee-a965-48df-b5bf-732f4e5679d9";break;case"lv":e="3a79c3c5-b8de-42b0-82cb-45837965036b";break;case"ly":e="f7517502-4a5a-4f0b-92b0-ca786843eaef";break;case"om":e="56f36c81-7352-453d-b55b-e48485a15543";break;case"pa":e="f1d77388-8758-49d9-8baa-ee923195d014";break;case"qa":e="c1054590-07ae-46a1-933f-02b13a024384";break;case"ro":e="1db24e92-f675-4e2e-abf3-115234af934f";break;case"ch":e="03f71fa4-7421-4fed-9c26-d4e85458ff4b";break;case"cl":e="ad55f78b-774a-47ef-9887-fcce77f92ed0";break;case"cn":e="e0cc93ce-bd6f-41f7-81f6-4e992231d162";break;case"co":e="d395203e-ad6c-45d6-b693-20229181a9bf";break;case"cr":e="5040d2fe-825f-4d47-8bc5-162ff5a0b2d2";break;case"cy":e="40072901-7bda-4f62-9b17-6b86fb04ad4c";break;case"cz":e="ec240c5f-7351-4841-9e3a-5e52a9a9d19f";break;case"de":_satellite.getVar("Get Consent from LS"),e="fd90cf0b-4aeb-48e1-b7e3-2975306f0227";break;case"dk":e="77b6e338-9c76-4bdc-a726-da82aa57513c";break;case"gh":e="c5430585-bf39-4bd9-b122-899b3439516a";break;case"gr":e="e24c8247-2add-499b-8a61-0dc157a05bc6";break;case"gt":e="3c0668da-6ecb-4964-a914-7a45e1f0f04d";break;case"hn":e="0ca2f2ad-18f3-451a-ba8d-58282fe549ed";break;case"hr":e="ff0e2d4c-216a-4145-8927-20254420ad67";break;case"hu":e="ec616ecd-b5f5-48ae-a4ed-a88518f9526f";break;case"id":e="0a229079-ba25-4393-9d48-b4c7fe13a7f6";break;case"il":e="a484605c-6201-41da-b5da-82dae626cf18";break;case"pe":e="594b8d8c-1713-487e-af14-0040015bcf16";break;case"ph":e="29f7a4f8-387e-4aba-a8bb-3c077c8cf30d";break;case"pk":e="73dba40c-3102-4f57-ba63-ad4a374569ed";break;case"pl":e="b9529dac-19dd-4678-b307-f5566746e79c";break;case"ps":e="379c21e7-ed6e-4285-922a-343f8d1f79a9";break;case"pt":e="8412680c-fdcd-433a-80aa-f001e3c06541";break;case"py":e="bcb136ed-07f7-4495-aabc-6afb0a888897";break;case"rs":e="9b890bef-3d36-474f-bd58-0bc86030642a";break;case"ru":e="7437d77f-64b5-4656-b128-7871aab2c035";break;case"sa":e="ece29877-1351-44ad-97f3-811beec644cb";break;case"si":e="bb356c9d-2eb5-4139-9fdc-88a49dfd3af0";break;case"af":e="2ec4e54f-83da-405c-815b-8a2bfde4d8b4";break;case"bz":e="c43d2788-0902-4e9a-b183-df60148c299b";break;case"do":e="12aa2818-667b-4512-9393-40ef6b409f6e";break;case"ee":e="8930bfcc-03a2-486c-a276-2a6aac6d76c1";break;case"jo":e="9a6e59e3-f04b-4c4c-87ab-00e8aa7de188";break;case"ke":e="9c05e2dc-34be-4e82-bc95-07ecc82cc7b5";break;case"kr":e="8de6aa90-98ee-496b-bd93-7cadee9be6af";break;case"kw":e="b2cd4750-836f-4b12-9bee-69bdc38e8dda";break;case"kz":e="30f6746d-eed7-4a12-8f51-3bc9371405d8";break;case"la":e="b9f4d170-efc9-42b1-b703-6e11c6ec34bb";break;case"md":e="8ea13981-0cc8-4546-aa99-5a661e0ef646";break;case"mk":e="cdcdf0fe-1702-4b64-9800-1502c4cb6ecf";break;case"mm":e="b2879597-a953-45a0-9c47-d03e3242dac3";break;case"my":e="e52f311a-2e91-4802-a66f-324428bffd3f";break;case"ng":e="29592a1e-9bc7-4dac-96d7-a14cda22787b";break;case"ni":e="1a541520-8de7-4958-a609-8c52b6bccce0";break;case"dz":e="4c87ff16-b600-4a5c-9749-a37eff6ff561";break;case"ec":e="cda85cc1-8fed-4e83-8869-73e2ca7efef1";break;case"ma":e="5e6f37e5-55c4-4f1f-aafa-bc0ee975425d";break;case"sk":e="8d4b309f-fbd4-4db4-b435-fbeb6123b655";break;case"sv":e="e41d8f7b-372f-433e-af5b-98e65a4963a0";break;case"sy":e="3f257cf7-5ca6-4227-98c1-5cef25468fa4";break;case"th":e="af8dd479-4249-4d9c-b3ce-9acb4ca7301c";break;case"tn":e="21ee36d9-2cb2-4b18-952e-f326491a4c36";break;case"tr":e="7f96f030-1dcd-49b5-a89a-ca4900790685";break;case"tz":e="40bdbbe3-3793-4680-ada0-190b8916d3b6";break;case"ua":e="36b26de8-8964-4714-882d-fd66f013387e";break;case"uy":e="c70d14aa-3c92-4232-8cff-fa5657cf0ce3";break;case"ve":e="9832675e-998e-444a-b062-4a047597ad60";break;case"vn":e="d2821896-04b9-4ecb-82b3-a4936ccd849f";break;case"ye":e="282deb44-1a0e-4661-8069-73a487c21bd8";break;case"za":e="0e3e935f-efc8-450c-b99b-3b4fce354113";break;case"eg":e="d563d4d9-44a9-4a2b-aca6-dc757ccc4cc3";break;default:e="4d1d889f-916f-480a-9e43-e9365be00eb6:dev"}else e=_satellite.getVar("util:isValidDevDomain")?"2b931350-4eed-428d-ad63-e2530b4887a6:dev":"4d1d889f-916f-480a-9e43-e9365be00eb6:dev";return void 0!==e?e:"2b931350-4eed-428d-ad63-e2530b4887a6:dev"}}},"Quantum Metric Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0===document.querySelector("meta[name=country]")||"br"!=document.querySelector("meta[name=country]").content.toLowerCase()||void 0!==getConsentVendors("quantum-metric")&&getConsentVendors("quantum-metric")}}},"DCSC Global Commerce Object":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{return"dcsc-page-load"===e.identifier&&"undefined"!==lmd.productid&&(t.productViews={value:1}),t}catch(e){console.log("Error in DCSC Global Commerce Object DE",e)}}}},"Internal Search Term Main":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.intSearchTerm"}},"XDM Object for LPP Registration":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"LPP Registration",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar56:"%LPP Bid%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar86:"%LPP Company Name | Company ID%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar204:"%LPP LenovoPartnerDetails%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"AAM Selection":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.AAMSelections"}},"Custom Attribute":{modulePath:"adobe-alloy/dist/lib/dataElements/identityMap/index.js",settings:{rrid:[{id:"%ResponsysID%",primary:!1,authenticatedState:"ambiguous"}],lenovoID:[{id:"%Lenovo ID%",primary:!1,authenticatedState:"ambiguous"}],ordernumber:[{id:"%purchase:orderID%",primary:!1,authenticatedState:"ambiguous"}],responsysID:[{id:"%ResponsysID%",primary:!1,authenticatedState:"ambiguous"}],lenhashemail:[{id:"%Hashed Email ID%",primary:!1,authenticatedState:"authenticated"}]}},"Windows - Product":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Window Products:"+lmd.productId}}},"Impact Click Id":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"impact_click_id"}},"XDM Object For  Reorder Cancel":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:" Reorder Cancel",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event303:{value:1}},customDimensions:{eVars:{eVar1:"%internal Promotion%",eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar85:"%Reorder Source%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Product List for Deals Pages (Deal page identifier)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[],t={};if(void 0!==lmd.productinfo&&void 0!==lmd.productinfo[0].productcodeimpressions){var o=lmd.productinfo;if(o)for(var n=o.length,r=0;r<n;)(t={}).value=o[r].productcodeimpressions,e.push(t),r++}return e}}},"XDM Object For Login (Flash)":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Login",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event58:{value:1}},event301to400:{event340:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar14:"%Profile Path & Profile Type%",eVar15:"%Section Details%",eVar17:"%Login Info Source%",eVar21:"%CustomerID%",eVar31:"%Login Info LenovoID%",eVar32:"%Business unit%",eVar47:"%Login Info Login Status%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar86:"%SMB Details%",eVar94:"%SMB Login Segment%",eVar127:"%Hashed Email Placement Name%",eVar142:"%Hashed Email ID%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar230:"%SMB Value(Employee Size)%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},identityMap:"%Custom Attribute%"},sandbox:{name:"prod"}}},"Checkout : Product List ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.checkout&&lmd.checkout.allProducts){var e=lmd.checkout.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(e[o].productID);return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"Target : Store ID":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="storeID"]'}
},"WE Country Code":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return null==document.querySelector('meta[name="country"]')?null!==document.querySelector('meta[name="Lenovo.Country"]')?e=document.querySelector('meta[name="Lenovo.Country"]').content:void 0!==_satellite.getVar("locale")?e=_satellite.getVar("locale").split("_")[1].toLowerCase():"undefined"!=typeof lmd&&void 0!==lmd.cc&&(e=lmd.cc.toLowerCase()):e=document.querySelector('meta[name="country"]').content.toLowerCase(),new RegExp("^(se|ie|gb|de|fr|at|dk|no|fi|pt|be|nl|ch|es|it|il|ee|lv|lt)$","i").test(e.toLowerCase())}}},"Cart : Product List ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.cart&&lmd.cart.allProducts){var e=lmd.cart.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(e[o].productID);return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"Facebook Event Id":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof generateEventID)return location.pathname.indexOf("/p/")>-1?generateEventID("PageView"):"cart"==lmd.taxonomytype?generateEventID("AddToCart"):"checkout"==lmd.taxonomytype?generateEventID("Checkout"):void 0!==lmd.purchase&&void 0!==lmd.purchase.orderID?generateEventID("Purchase"):1==_satellite.getVar("FB Registration Confirmation")?generateEventID("CompleteRegistration"):generateEventID("PageView")}}},orderTotalPrice:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.purchase&&void 0!==lmd.purchase.totalPrice&&null!==lmd.purchase.totalPrice?parseFloat(lmd.purchase.totalPrice):0}}},"Custom Dimension : eVar Object : Internal Search : No Result Recommend: All sites":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productIndex,o=";"+lmd.productid;e.eVar109=t,e.eVar58=e.pageName,e.eVar75=_satellite.getVar("URL");var n,r=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+a),r&&a<=100){if("lenovotwpub"==_satellite.getVar("reportSuite")){e.eVar57="Internal Search No result Recommend|0.56",e.eVar219="+0.56",e.eVar221="+0.56",e.eVar219,console.log("Engagement Starting Score: ",n);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.56),n=(parseFloat(s)+.56).toFixed(2),console.log("Final Engagement Score: ",n)}localStorage.setItem("score",n)}return e}catch(e){console.log("Exception in evars object for Internal Search",e)}}}},"XDM Object for Internal Search : No Result Recommend":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : No Result Recommend",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%events 1-100 Object : Internal Search : No Result Recommend: All sites%",event201to300:{event203:{value:1}},event301to400:"%event 301-400 Object :  Internal Search : No Result Recommend: All sites%",customDimensions:{eVars:"%Custom Dimension : eVar Object : Internal Search : No Result Recommend: All sites%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:[{name:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"Mobile Transformation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Experience_A :\xa0Mobile Transformation"==lmd.experience||"Experience_B : Mobile Transformation"==lmd.experience?1:0}}},"events 1-100 Object - Hybris Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||localStorage.setItem("score",0),last_promo&&localStorage.getItem("score")<100){var t=_satellite.getVar("reportSuite");"lenovodkpub"==t||"lenovosepub"==t||"lenovofipub"==t||"lenovonopub"==t?(e.event98={id:"",value:1},e.event30={id:"",value:1}):"lenovosgpub"==t&&(e.event98={id:"",value:.2},e.event30={id:"",value:.2})}return e}catch(e){console.log("Error in events 1-100 Object - Hybris Cart Add "+e)}}}},perksoffer:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"perksoffer",caseInsensitive:!0}},"Target : Capture Product Name + Cart Page":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e=document.querySelectorAll('meta[key="configType"]'),t=document.querySelectorAll('meta[key="productName"]'),o="",n=0;n<e.length;n++)"MTM"!=e[n].content&&"CTO"!=e[n].content||(o=t[n].content);return o}}},"XDM Object for DCG Global + B2B":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%DCR Global Web Interaction Link Click Name%",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:"%DCR Global Commerce Object%",_experience:{analytics:{event1to100:"%DCR Global Event Object 1-100%",event201to300:"%DCR Global Event Object 201-300%",event301to400:"%DCR Global Event Object 301-400%",customDimensions:{eVars:"%DCR Global DCG + B2B eVar%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},environment:{domain:"%domain%"},productListItems:"%DCR Global Product List Items%"},sandbox:{name:"prod"}}},"Custom Dimension : eVars Object : Product Compare":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o="";for(e=0;e<lmd.compare.tool.ProductID.length;e++)o+=lmd.compare.tool.ProductID[e]+"|";t.eVar215=o;var n,r=getValOnce(t.eVar215,"s_eVar57",0);""!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+a),r&&a<=100){var s=_satellite.getVar("reportSuite");if("lenovoaupub"==s||"lenovouspub"==s){t.eVar57="Compare Viewed|0.50",t.eVar219="+0.50",t.eVar221="+0.50",console.log("Starting Engagement Score: ",n);var c=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.5),n=(parseFloat(c)+.5).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)}else"lenovodepub"==s?(t.eVar57="Compare Viewed|0.47",t.eVar219="+0.47",t.eVar221="+0.47",console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.47),n=(parseFloat(c)+.47).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovonzpub"==s?(t.eVar57="Compare Viewed|0.24",t.eVar219="+0.24",t.eVar221="+0.24",console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.24),n=(parseFloat(c)+.24).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovomxpub"==s||"lenovoarpub"==s?(t.eVar57="Compare Viewed|0.69",t.eVar219="+0.69",t.eVar221="+0.69",console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.69),n=(parseFloat(c)+.69).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovoptpub"==s?(t.eVar57="Compare Viewed|0.11",t.eVar219="+0.11",t.eVar221="+0.11",console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.11),n=(parseFloat(c)+.11).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovoespub"==s&&(t.eVar57="Compare Viewed|0.18",t.eVar219="+0.18",t.eVar221="+0.18",console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.18),n=(parseFloat(c)+.18).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n))}return localStorage.setItem("score",n),t}catch(e){console.log("Exception in evars object for product compare",e)}}}},"XDM Object For Type Ahead Search Rule 1":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Type Ahead Search Rule 1",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event218:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar144:"%Typed Term%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar170:"%Fusion AB SessionID% | %Fusion Exp ID% | %Fusion Query ID%",eVar171:"%User Agent%",eVar175:"%Fusion Exp ID%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},eValueDealCode:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("eValueCode");if(e)return e.toString();var t=_satellite.getVar("lmd_eDealCode");return t?t.toString():void 0}}},"Impact Click Id Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"clickid",caseInsensitive:!0}},"Internal Search Term: No Result: Suggested/ Best seller Word":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.keywords"}},"tiktok products":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.purchase&&void 0!==lmd.purchase.allProducts){for(var e=[],t=lmd.purchase.allProducts,o=0;o<t.length;o++){var n=0;n="br"==lmd.cc.toLowerCase()?parseFloat(t[o].price.replace(".","").replace(",",".")):Number(t[o].price),TT_product={},TT_product.content_id=t[o].productID.toUpperCase(),TT_product.content_type="product",TT_product.content_name=t[o].productName,TT_product.quantity=Number(t[o].quantity),TT_product.price=n,e.push(TT_product)}return e}if("undefined"!=typeof lmd&&void 0!==lmd.checkout&&void 0!==lmd.checkout.allProducts){for(e=[],t=lmd.checkout.allProducts,o=0;o<t.length;o++)n=0,n="br"==lmd.cc.toLowerCase()?parseFloat(t[o].price.replace(".","").replace(",",".")):Number(t[o].price),TT_product={},TT_product.content_id=t[o].productID.toUpperCase(),TT_product.content_type="product",TT_product.content_name=t[o].productName,TT_product.quantity=Number(t[o].quantity),TT_product.price=n,e.push(TT_product);return e}}}},"DCR Global eVar":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{switch(e.identifier){case"DCGTools&resources":t.eVar222=lmd["tools&resources"];break;case"dcgCustomInteraction":t.eVar23=lmd.dcgCustomInteraction,t.eVar108=_satellite.getVar("Error_CustomReferrer"),t.eVar142=_satellite.getVar("Hashed Email ID"),t.eVar127=_satellite.getVar("Hashed Email Placement Name"),t.eVar31=_satellite.getVar("Login ID"),t.eVar47=_satellite.getVar("login Status"),"undefined"!=typeof lmd&&void 0!==lmd.user&&void 0!==lmd.user.emailID&&""!==lmd.user.emailID&&(t.eVar142=lmd.user.emailID);break;case"DCGServices":t.eVar222=lmd.services;break;case"expSolution":t.eVar222=lmd.expSolution;break;case"DCG_LetsTalk":case"DCG_Contactus":t.eVar23=lmd.Contactus;break;case"DCGSolutionsInAction":t.eVar222=lmd["solutions in Action"];break;case"DCGNews":t.eVar222=lmd.news;break;case"ldr-interaction":t.eVar23=lmd.ldr.interaction;break;case"CaseStudy_Clicked":t.eVar23="DCG Resources:Case Study-"+lmd.CaseStudy;break;case"Brochure_Clicked":t.eVar23="DCG Resources:Brochure-"+lmd.Brochure;break;case"DCGSolution":t.eVar222=lmd.solution;break;case"SolutionBriefs_Clicked":t.eVar23="DCG Resources:Solution Breifs-"+lmd.SolutionBriefs;break;case"DCG_Ebook":t.eVar23=lmd.ebook;break;case"WhitePaper_Clicked":t.eVar23="DCG Resources:WhitePaper-"+lmd.WhitePaper;break;case"BannerTab":t.eVar222=lmd.banner;break;case"ViewPDF_Clicked":t.eVar33="DCG Resources | "+lmd.PDF;break;case"DCG_ServicesNeeds":t.eVar23=lmd.ServicesNeeds;break;case"ResourcesSearch":case"ResourcesNoResult":t.eVar2=_satellite.getVar("Internal Search Term Main");break;case"DCGProducts":t.eVar222=lmd.products;break;case"DownloadPDF_Clicked":t.eVar33="DCG Resources:"+lmd.PDF;break;case"CLV Basket":t.eVar23=_satellite.getVar("CLV Cart Recommendation"),t.eVar157=_satellite.getVar("Navigation Header");break;case"recommend_cart_add":t=_satellite.getVar("Custom Dimension : eVar Object : recommend_cart_add");break;case"BusinesDirect Call":t=_satellite.getVar("Custom Dimension : eVar Object : Business Days Add to Cart");break;case"PDP_ATCustomize":t=_satellite.getVar("Custom Dimension : eVar Object : Add to Cart : Product Page CTO");break;case"Compared_And_Cart_Addition":t.eVar215=_satellite.getVar("Compare Product Cart Addition");break;case"PDP_ATCart":t=_satellite.getVar("Custom Dimension : eVar Object : Add to cart : Product Page MTM");break;case"PDPAccessory_ATCart":t.eVar157=_satellite.getVar("Navigation Header");break;case"smb_re_addtocart":t.eVar1=_satellite.getVar("internal Promotion")}return t}catch(e){console.log("Error in DCR Global eVar",e)}}}},"Evidon Category Variables":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=[];if("undefined"!=typeof lmd&&void 0!==lmd.cc&&"us"==lmd.cc.toLowerCase()||1==_satellite.getVar("GDPR Compliant Countries")){if(void 0!==_satellite.getVar("Evidon Cookie")&&void 0!==JSON.parse(_satellite.getVar("Evidon Cookie")).categories&&(e=JSON.parse(_satellite.getVar("Evidon Cookie")).categories),void 0!==e&&void 0!==e[1])return 1==e[1]?(e.social=!0,e.advertising=!0,e.analytics=!0,t.push(e),t):0==e[1]?(e.social=!1,e.advertising=!1,e.analytics=!1,t.push(e),t):(void 0!==e[1].advertising&&1==e[1].advertising?e.advertising=!0:void 0!==e[1].advertising&&0==e[1].advertising&&(e.advertising=!1),void 0!==e[1].analytics&&1==e[1].analytics?e.analytics=!0:void 0!==e[1].analytics&&0==e[1].analytics&&(e.analytics=!1),void 0!==e[1]["social media"]&&1==e[1]["social media"]?e.social=!0:void 0!==e[1]["social media"]&&0==e[1]["social media"]&&(e.social=!1),t.push(e),t);if((void 0===e||void 0===e[1])&&"undefined"!=typeof lmd&&void 0!==lmd.cc&&"us"==lmd.cc.toLowerCase())return e.social=!0,e.advertising=!0,e.analytics=!0,t.push(e),t;if((void 0===e||void 0===e[1])&&1==_satellite.getVar("GDPR Compliant Countries")){var o=_satellite.getVar("has_consent_cookie");return null!=o&&o.indexOf("analytics")>-1&&(e.analytics=!0),null!=o&&o.indexOf("advertising")>-1&&(e.advertising=!0),null!=o&&o.indexOf("social")>-1&&(e.social=!0),null!=o&&o.indexOf("all")>-1&&(e.social=!0,e.advertising=!0,e.analytics=!0),e.analytics=void 0!==e.analytics,e.social=void 0!==e.social,e.advertising=void 0!==e.advertising,t.push(e),t}}else if("undefined"!=typeof lmd&&void 0!==lmd.cc&&"us"!==lmd.cc.toLowerCase()&&0==_satellite.getVar("GDPR Compliant Countries"))return e.social=!0,e.advertising=!0,e.analytics=!0,t;return t}catch(e){console.log("Error in Evidon Category Variable",e)}}}},"Profile Interest":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!==lmd.survey.ProfileInterest&&""!==lmd.survey.ProfileInterest?lmd.survey.ProfileInterest:""}}},"Video Tracking: Video Status":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.videoInfo.videoStatus"}},"events 1-100 Object - DCR Checkout 1":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={event57:{value:1}},t=_satellite.getVar("getCheckoutProduct"),o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");if("lenovonzpub"==r){e.event98={value:.88},e.event30={value:.88};var a=localStorage.getItem("score");(parseFloat(a)+.88).toFixed(2)}else"lenovotwpub"==r?(e.event98={value:1},e.event30={value:1},a=localStorage.getItem("score"),(parseFloat(a)+1).toFixed(2)):"lenovoinpub"==r&&(e.event98={value:.33},e.event30={value:.33},a=localStorage.getItem("score"),(parseFloat(a)+.33).toFixed(2))}return e}catch(e){console.log("Error in DCR checkout 1 events 1-100 "+e)}}}},"Internal Search Unsuccessful Search Main":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==window.lmd.intSearchResults&&("zero"==lmd.intSearchResults||"zero"==lmd.intSearchResults||"0"==lmd.intSearchResults||"0"==lmd.intSearchResults||0==lmd.intSearchResults))return 1}}},"event 1-100 Object : Instant Saving Offer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid,o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovobrpub"==r?e={event98:{value:.7},event30:{value:.7}}:"lenovonzpub"==r?e={event98:{value:.82},event30:{value:.82}}:"lenovogbpub"==r?e={event98:{value:.32},event30:{value:.32}}:("lenovoaupub"==r||"lenovoglobaldev"==r)&&(e={event98:{value:.74},event30:{value:.74}})}return e}catch(e){console.log("Error in event 1-100 Object : Instant Saving Offer "+e)}}}},"Purchase : Product List Name String":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.purchase.allProducts;if(productListItemsString="",null!=lmd){for(var t=0;t<e.length;t++)productListItemsString+=e[t].productName,t!=e.length-1&&(productListItemsString+="|");return productListItemsString}}}},"XDM Object for Current Step Product Configurator":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Configuration Steps",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%events 1-100 Object : Current Step Product Configurator%",event201to300:"%events 201-300 Object : Current Step Product Configurator%",event301to400:"%events 301-400 Object : Current Step Product Configurator%",customDimensions:{eVars:"%Custom Dimension : eVar Object : Current Step Product Configurator%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Video Tracking: Video Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Video Name:"+lmd.videoInfo.videoName}}},"Product Code Common":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.productcode"}},"XDM Object for Add to Cart : Product Page CTO":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Add to Cart : Product Page CTO",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%event 1-100 Object : Add to Cart : Product Page CTO%",event201to300:{event289:{value:1}},event301to400:"%event 301-400 Object : Add to Cart : Product Page CTO%",customDimensions:{eVars:"%Custom Dimension : eVar Object : Add to Cart : Product Page CTO%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:[{name:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"Skip & Done-Continue  (e400-e500) ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};return void 0!==lmd.survey.ButtonClicked&&""!==lmd.survey.ButtonClicked&&("Continue"===lmd.survey.ButtonClicked&&(e.event428={value:1}),"Skip & Done"===lmd.survey.ButtonClicked&&(e.event427={value:1})),e}}},"User Email ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){_satellite.logger.log(JSON.stringify(lmd,null,2),null,2);var e=function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&"undefined"!=typeof global&&global.crypto&&(t=global.crypto),!t&&"function"==typeof require)try{t=require("crypto")}catch(e){}var o=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},n=Object.create||function(){function e(){}return function(t){var o;return e.prototype=t,o=new e,e.prototype=null,o}}(),r={},a=r.lib={},s=a.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,o=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<r;a++){var s=o[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=s<<24-(n+a)%4*8}else for(a=0;a<r;a+=4)t[n+a>>>2]=o[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,o=this.sigBytes;t[o>>>2]&=4294967295<<32-o%4*8,t.length=e.ceil(o/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new c.init(t,e)}}),i=r.enc={},l=i.Hex={stringify:function(e){for(var t=e.words,o=e.sigBytes,n=[],r=0;r<o;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,o=[],n=0;n<t;n+=2)o[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(o,t/2)}},d=i.Latin1={stringify:function(e){for(var t=e.words,o=e.sigBytes,n=[],r=0;r<o;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,o=[],n=0;n<t;n++)o[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(o,t)}},u=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},m=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var o,n=this._data,r=n.words,a=n.sigBytes,s=this.blockSize,i=a/(4*s),l=(i=t?e.ceil(i):e.max((0|i)-this._minBufferSize,0))*s,d=e.min(4*l,a);if(l){for(var u=0;u<l;u+=s)this._doProcessBlock(r,u);o=r.splice(0,l),n.sigBytes-=d}return new c.init(o,d)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(a.Hasher=m.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,o){return new e.init(o).finalize(t)}},_createHmacHelper:function(e){return function(t,o){return new g.HMAC.init(e,o).finalize(t)}}}),r.algo={});return r}(Math);if(function(t){var o=e,n=o.lib,r=n.WordArray,a=n.Hasher,s=o.algo,c=[],i=[];!function(){function e(e){for(var o=t.sqrt(e),n=2;n<=o;n++)if(!(e%n))return!1;return!0}function o(e){return 4294967296*(e-(0|e))|0}for(var n=2,r=0;r<64;)e(n)&&(r<8&&(c[r]=o(t.pow(n,.5))),i[r]=o(t.pow(n,1/3)),r++),n++}();var l=[],d=s.SHA256=a.extend({_doReset:function(){this._hash=new r.init(c.slice(0))},_doProcessBlock:function(e,t){for(var o=this._hash.words,n=o[0],r=o[1],a=o[2],s=o[3],c=o[4],d=o[5],u=o[6],m=o[7],g=0;g<64;g++){if(g<16)l[g]=0|e[t+g];else{var p=l[g-15],f=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,_=l[g-2],v=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;l[g]=f+l[g-7]+v+l[g-16]}var b=n&r^n&a^r&a,h=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),C=m+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&d^~c&u)+i[g]+l[g];m=u,u=d,d=c,c=s+C|0,s=a,a=r,r=n,n=C+(h+b)|0}o[0]=o[0]+n|0,o[1]=o[1]+r|0,o[2]=o[2]+a|0,o[3]=o[3]+s|0,o[4]=o[4]+c|0,o[5]=o[5]+d|0,o[6]=o[6]+u|0,o[7]=o[7]+m|0},_doFinalize:function(){var e=this._data,o=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return o[r>>>5]|=128<<24-r%32,o[14+(r+64>>>9<<4)]=t.floor(n/4294967296),o[15+(r+64>>>9<<4)]=n,e.sigBytes=4*o.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});o.SHA256=a._createHelper(d),o.HmacSHA256=a._createHmacHelper(d)}(Math),_satellite.getVar("Email Id - Cookie"))return e.SHA256(_satellite.getVar("Email Id - Cookie").toLowerCase().trim()).toString().toUpperCase()}}},"XDM Object for Internal Search New Design Header Rule":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search New Design Header Rule",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar159:"%Internal Search: New Design Header Rule%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Country Code":{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return null==document.querySelector('meta[name="country"]')?null!==document.querySelector('meta[name="Lenovo.Country"]')?e=document.querySelector('meta[name="Lenovo.Country"]').content:void 0!==_satellite.getVar("locale")?e=_satellite.getVar("locale").split("_")[1].toLowerCase():"undefined"!=typeof lmd&&void 0!==lmd.cc&&(e=lmd.cc.toLowerCase()):e=document.querySelector('meta[name="country"]').content.toLowerCase(),(void 0===e||void 0!==e&&""==e)&&(location.href&&location.href.indexOf(".confirmit.com")>-1&&location.href.split("?")[1]&&location.href.split("?")[1].indexOf("cc=")>-1?e=location.href.split("?")[1].substring(location.href.split("?")[1].indexOf("cc=")+3,location.href.split("?")[1].indexOf("cc=")+5):void 0!==document.referrer&&null!==document.referrer&&document.referrer.indexOf(".confirmit.com")>-1&&document.referrer.split("?")[1]&&document.referrer.split("?")[1].indexOf("cc=")>-1&&(e=document.referrer.split("?")[1].substring(document.referrer.split("?")[1].indexOf("cc=")+3,document.referrer.split("?")[1].indexOf("cc=")+5))),e}}},"Product List - Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[];if(void 0!==lmd.purchase&&void 0!==lmd.purchase.allProducts)for(var t=lmd.purchase.allProducts,o=0;o<t.length;o++){var n={},r=t[o].productID.indexOf("-")>0?t[o].productID.split("-")[0]:t[o].productID;n.name=r,n.SKU=r,void 0!==t[o].quantity?n.quantity=parseInt(t[o].quantity)||0:n.quantity=0;var a=0;void 0!==t[o].USDPrice&&0!==n.quantity?a=(parseFloat(t[o].USDPrice.toString().replace(",",""))||0)*n.quantity:void 0!==t[o].priceUSD&&0!==n.quantity&&(a=(parseFloat(t[o].priceUSD.toString().replace(",",""))||0)*n.quantity),n.priceTotal=Math.round(100*a)/100;var s={},c={},i={};if(0===o){var l=lmd.purchase.shipping?Number(lmd.purchase.shipping):0,d=lmd.purchase.tax?Number(lmd.purchase.tax):0;c.event60={value:l},c.event61={value:d}}var u=t[o].bundleID;void 0!==u&&(s.eVar25=u);var m=t[o].subseries;void 0!==m&&(s.eVar168=m);var g=t[o].shopRunnerType;void 0!==g&&(s.eVar239=g),void 0!==t[o].reorderdproduct&&(i.event701={value:1}),n._experience={analytics:{customDimensions:{eVars:s},event1to100:c,event701to800:i}},e.push(n)}return e}catch(e){console.log("Error in Product List - Purchase DE "+e)}}}},"XDM Object - Consent Interaction":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Evidon Consent Interaction",type:"other",linkClicks:{value:1}},webPageDetails:{name:"%Page Name%"}},_lenovo:{AdformID:"%Adform ID%",RegionCode:"%Region Code%"},_experience:{analytics:{event201to300:{event296:{value:"%User Acceptance (e414)%"},event297:{value:"%User Declined (e415)%"}}}}},sandbox:{name:"prod"}}},reportSuite:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("util:isValidProdDomain")){if(1==_satellite.getVar("AnalyticsDevelopmentEnvironment")||1==_satellite.getVar("Staging_header")||-1==window.location.hostname.toLowerCase().indexOf("tele-hybris.lenovo")&&window.location.hostname.toLowerCase().indexOf("hybris")>-1||"lenovo.hashconnect.in"===window.location.hostname||window.location.hostname.toLowerCase().indexOf("flash")>-1||window.location.hostname.toLowerCase().indexOf("lenovouat")>-1||window.location.hostname.toLowerCase().indexOf("pre-www")>-1||window.location.hostname.toLowerCase().indexOf("test-tele")>-1||window.location.hostname.toLowerCase().indexOf("preaccount.lenovo.com")>-1)return"lenovoglobaldev";var e=_satellite.getVar("cc");return window.location.href.indexOf("Locale=pl_PL")>-1&&(e="pl"),window.location.href.indexOf("Locale=pl_PL")>-1&&(e="ck"),window.location.href.indexOf("Locale=es_ES")>-1&&(e="es"),window.location.href.indexOf("Locale=sv_SE")>-1&&(e="se"),window.location.href.indexOf("Locale=fr_BE")>-1&&(e="be"),window.location.href.indexOf("Locale=nl_NL")>-1&&(e="nl"),window.location.href.indexOf("Locale=de_CH")>-1&&(e="ch"),window.location.href.indexOf("Locale=de_DE")>-1&&(e="de"),window.location.href.indexOf("Locale=en_CH")>-1&&(e="ch"),window.location.href.indexOf("Locale=da_DK")>-1&&(e="dk"),window.location.href.indexOf("Locale=fi_FI")>-1&&(e="fi"),window.location.href.indexOf("Locale=it_IT")>-1&&(e="it"),window.location.href.indexOf("Locale=pt_PT")>-1&&(e="pt"),window.location.href.indexOf("Locale=en_IE")>-1&&(e="ie"),window.location.href.indexOf("Locale=fr_FR")>-1&&(e="fr"),window.location.href.indexOf("Locale=de_AT")>-1&&(e="at"),window.location.href.indexOf("Locale=fr_CH")>-1&&(e="ch"),window.location.href.indexOf("Locale=en_GB")>-1&&(e="gb"),window.location.href.indexOf("Locale=nl_BE")>-1&&(e="be"),
window.location.href.indexOf("Locale=no_NO")>-1&&(e="no"),"start"==window.location.hostname.split(".").shift()?"lenovostart":e?"le"===_satellite.getVar("lmd_bu")||"le"===_satellite.getVar("storeType")?"lenovole":"ww"===e?"lenovoglobal":"lenovo"+e+"pub":"lenovoglobaldev"}return _satellite.getVar("util:isValidDevDomain")?"lenovoglobaldev":"lenovoglobalerrors"}catch(e){return"lenovoglobalerrors"}}}},"Target: getDecisionScopes_FLASH - Order Confirmation ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];return"Flash"==$("meta[name='platform']").attr("content")&&window.location.href.indexOf("/thankyou.html")>-1&&e.push("orderConfirmPage-mbox"),e}}},"events 101-200 Object : Confirmit_Survey_Finish":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return void 0!==window.lmd&&void 0!==window.lmd.survey&&window.lmd.survey.satisfaction>=0&&(e.event176={value:lmd.survey.satisfaction},e.event177={value:1}),e.event190={value:1},e}catch(e){}}}},"Async Library Counter":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==$("script[src*='/launch-']").attr("async")&&"async"==$("script[src*='/launch-']").attr("async")?1:0}}},"Product Compare":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;if("undefined"!=typeof lmd&&void 0!==lmd.compare&&void 0!==lmd.compare.tool.ProductID){for(t=0;t<lmd.compare.tool.ProductID.length;t++)e+=lmd.compare.tool.ProductID[t]+"|";return e}}}},"Login Info Login Status":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.loginInfo&&lmd.loginInfo.loginStatus?String(lmd.loginInfo.loginStatus):""}}},"Evidon Cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_evidon_consent_cookie"}},"XDM Object For Custom Interaction (All sites)":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Custom Interactions",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event29:{value:1}},customDimensions:{eVars:{eVar16:"%CTA layout | Image%",eVar23:"%custom interaction%",eVar34:"%CTA hyperlink%",eVar179:"%Facets Final Selection%",eVar192:"%omostoreID%"},props:{prop2:"%position%"}}}},productListItems:"%Product ID Common For Flash%"},sandbox:{name:"prod"}}},currencyCode:{defaultValue:"USD",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.currency"}},"Facet Category":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.facets.category"}},"XDM Object For Confirmit Survey Screen Start":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Confirmit Survey Screen Start",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"Survey Start : Survey Screen Displayed",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Custom Dimension - eVars Object - Banner Interaction : All Site (Flash)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={};t={eVar5:_satellite.getVar("Country Code"),eVar12:_satellite.getVar("storeID"),eVar15:_satellite.getVar("Section Details"),eVar21:_satellite.getVar("CustomerID"),eVar32:_satellite.getVar("Business unit"),eVar58:_satellite.getVar("pageName"),eVar63:_satellite.getVar("Report Suite"),eVar75:_satellite.getVar("URL"),eVar108:_satellite.getVar("Error_CustomReferrer"),eVar147:_satellite.getVar("Language"),eVar169:_satellite.getVar("ECID"),eVar171:_satellite.getVar("User Agent"),eVar180:_satellite.getVar("BPID")|_satellite.getVar("storeID"),eVar193:_satellite.getVar("GroupID")},"Knexus"==lmd.Platform&&(t.eVar150="knexus : "+_satellite.getVar("Banner Interaction")),"Knexus"!=lmd.Platform&&(t.eVar23=_satellite.getVar("Banner Interaction")),t.eVar31=_satellite.getVar("Login ID"),t.eVar47=_satellite.getVar("login Status"),void 0!==window.lmd.value&&(t.eVar230=_satellite.getVar("SMB Value(Employee Size)")),void 0!==lmd.smbdetails&&(t.eVar86=_satellite.getVar("SMB Details")),void 0!==lmd.segment&&(t.eVar94=lmd.segment),void 0!==lmd.domainlenovoid&&(t.eVar235=lmd.domainlenovoid),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),""!=localStorage.getItem("cur_eng_score")&&""!=localStorage.getItem("cur_eng_score")&&"Undefined"!=localStorage.getItem("cur_eng_score")&&null!=localStorage.getItem("cur_eng_score")&&"undefined"!=localStorage.getItem("cur_eng_score")||localStorage.setItem("cur_eng_score",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);var o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+o),t.eVar57&&o<=100){if("lenovouspub"==_satellite.getVar("reportSuite")){t.eVar57="Custom Interaction|0.57",t.eVar219="+0.57",t.eVar221="+0.57";var n=localStorage.getItem("score");e=(parseFloat(n)+.57).toFixed(2),console.log("Final Engagement Score  evar of custom interaction: ",e)}localStorage.setItem("score",e)}return t}catch(e){}}}},"Hashed Email Placement Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.user&&void 0!==lmd.user.placementName&&""!==lmd.user.placementName)return"Hashed email: "+lmd.user.placementName}}},"Knexus Custom Dimension - eVars Object - Custom Interaction : All Site (Flash, Hybris)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return{eVar5:_satellite.getVar("Country Code"),eVar12:_satellite.getVar("storeID"),eVar15:_satellite.getVar("Section Details"),eVar21:_satellite.getVar("CustomerID"),eVar23:lmd.customKnx,eVar32:_satellite.getVar("Business unit"),eVar58:_satellite.getVar("pageName"),eVar63:_satellite.getVar("Report Suite"),eVar75:_satellite.getVar("URL"),evar109:lmd.customindex,eVar147:_satellite.getVar("Language"),eVar169:_satellite.getVar("ECID"),eVar171:_satellite.getVar("User Agent"),eVar180:_satellite.getVar("BPID")|_satellite.getVar("storeID"),eVar193:_satellite.getVar("GroupID")}}catch(e){}}}},"1 Config  : DCSC Page Name ":{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.language,t=lmd.cc+"_"+e+":"+lmd.pagename;if(void 0!==window.lmd)return t}}},"productDetails : Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t=null,o="";return"checkout"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.checkout,o="checkout"):"cart"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.cart,o="cart"):/orderconfirmation|thankyou/i.test(document.URL.toLowerCase())&&(t=lmd.purchase,o="purchase"),t&&t.allProducts&&(e=t.allProducts),e.map((function(e){return e.productName}))}catch(e){console.log("Error in "+o+" Product List DE: "+e)}}}},"configutator mode":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"configuratorMode",caseInsensitive:!0}},"Criteo Account Id APEM":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"in"==_satellite.getVar("Country Code").toLocaleLowerCase()?60252:"kr"==_satellite.getVar("Country Code").toLocaleLowerCase()?61954:"my"==_satellite.getVar("Country Code").toLocaleLowerCase()?61747:"sg"==_satellite.getVar("Country Code").toLocaleLowerCase()?26310:"tw"==_satellite.getVar("Country Code").toLocaleLowerCase()?39820:"th"==_satellite.getVar("Country Code").toLocaleLowerCase()?65705:"ph"==_satellite.getVar("Country Code").toLocaleLowerCase()?95055:"hk"==_satellite.getVar("Country Code").toLocaleLowerCase()?110623:void 0}}},"Internal Search : Shop By Category(No Result)":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.SBC"}},Colombia:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc.toString().toLowerCase()=="CO".toLowerCase()||_satellite.getVar("Target : Country").toString().toLowerCase()=="CO".toLowerCase()}}},"Plugin : getValOnce":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},"Tag Exclusion Condition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/ca/en/faqs/".toLowerCase())>-1)return"excludetag"}}},"Compare Product Cart Addition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;if("undefined"!=typeof lmd&&void 0!==lmd.cart&&"undefined"!=lmd.cart.allProducts){for(e=0;e<lmd.cart.allProducts.length;e++)lmd.cart.allProducts[e];for(e=0;e<lmd.compare.tool.ProductID.length;e++)lmd.compare.tool.ProductID[e]}}}},"Taxonomy Type":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.taxonomytype"}},"DCSC : Events Object 301-400":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{switch(e.identifier){case"dcsc_SWans":""!=lmd["SW comment"]&&(t.event313={value:1});break;case"dcsc-page-load":1==lmd.dcsc.config.expressstatus&&(t.event313={value:1})}return t}catch(e){console.log("Error in DCSC Global Event Object 301-400 DE",e)}}}},"Evidon - Analytics (DOM)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.regioncode&&("latam"==lmd.regioncode.toLowerCase()&&"br"!==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"au"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"nz"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"mea"==lmd.regioncode.toLowerCase()||"ca"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"jp"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()))return!0;if(void 0!==_satellite.getVar("Evidon Cookie")&&void 0!==JSON.parse(_satellite.getVar("Evidon Cookie")).categories&&(cookie_category=JSON.parse(_satellite.getVar("Evidon Cookie")).categories),"undefined"!=typeof cookie_category&&void 0!==cookie_category[1])return 1==cookie_category[1]||void 0!==cookie_category[1].analytics&&1==cookie_category[1].analytics;if("undefined"==typeof cookie_category||void 0===cookie_category[1]){if(1!=_satellite.getVar("GDPR Compliant Countries"))return(null==window.evidon||null==window.evidon.notice||null==window.evidon.notice.userGpcEnabled||1!=window.evidon.notice.userGpcEnabled||"us"!=lmd.cc.toLowerCase())&&(null==navigator.globalPrivacyControl||1!=navigator.globalPrivacyControl||"us"!=lmd.cc.toLowerCase()&&!document.URL.toLowerCase().includes("/us/"));var e=_satellite.getVar("has_consent_cookie");if(null!=e&&(e.indexOf("analytics")>-1||e.indexOf("all")>-1))return!0}}}},"Consent Decline (e297)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){if(e){var t=e.target,o=e.target.closest("button");return""!==_satellite.getVar("Country Code")&&"us"!==_satellite.getVar("Country Code")?t.getAttribute("id")&&"evidon-prefdiag-decline"==t.getAttribute("id")||"_evidon-barrier-declinebutton"==t.getAttribute("id")||null==t.getAttribute("id")&&o&&o.getAttribute("id")&&"evidon-prefdiag-decline"==o.getAttribute("id")?1:0:""!==_satellite.getVar("Country Code")&&"us"==_satellite.getVar("Country Code")&&"evidon-prefdiag-accept"==t.getAttribute("id")&&-1==$(".evidon-prefdiag-subtitle>#prc-tp-cat-all-toggle>.evidon-switch-slider")[0].className.indexOf("slideron")?1:0}}}},"XDM Object For Efficacy Pages Widget":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Efficacy Pages Widget",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar245:"%Prev Page Interaction%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"events 201-300 Object - Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(void 0!==lmd.idme&&void 0!==lmd.idme.discountAmountUSD&&void 0!==lmd.idme.discountPercent){var t=Number(lmd.idme.discountPercent),o=Number(lmd.idme.discountAmountUSD);e={event281:{value:isNaN(t)?0:t},event282:{value:isNaN(o)?0:o}}}return e}catch(e){return console.error("Error processing events: ",e),{}}}}},"Serial Id for Cart Checkout":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("checkout:cartID")+_satellite.getVar("cc")+_satellite.getVar("storeID")}}},"events 501-600 Object - SR Cart View ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={event518:{value:1}};return e.event519={id:_satellite.getVar("cart:cartID")+_satellite.getVar("cc")+_satellite.getVar("storeID"),value:1},e}catch(e){}}}},"XDM Object - SR Cart Add":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"SR Add to cart",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_lenovo:{Teads:{auctid:"%teadsAuctidVal%"},Reddit:{Uid:"%Reddit UID%",Clickid:"%Reddit Click ID%"},AdformID:"%Adform ID%",RegionCode:"%Region Code%",cartDetails:{productName:"%Cart Product Name%",currencyLocal:"%currencyCode%",subTotalLocal:"%Cart Sub Total%",totalCartQuantity:"%Cart Quantity Sum%"},FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"},MidasContactID:"%Midas Contact ID%"},_experience:{analytics:{event501to600:"%events 501-600 Object - SR Cart Add%",customDimensions:{eVars:"%Custom Dimension - eVars Object - SR Cart Add%",props:"%Custom Dimension - props Object - SR Cart Add%"}}},productListItems:"%Product List - SR Cart Add%"},sandbox:{name:"prod"}}},"XDM Object for Story Name":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Story Name",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event312:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar149:"%Story Name%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Geo Tracking Location":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"MLK Location : "+lmd.location}}},"Target : sheeridverified":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(document.URL.toLowerCase().indexOf("lenovopro")>-1){var e=lmd.sheeridverified;if(e)return e}}catch(e){console.log("Error in product view event"+e)}}}},"Form Type":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.formType"}},"View Content Product Value":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof lmd&&lmd.cc&&"ar"==lmd.cc.toLowerCase()&&void 0!==lmd.productsaleprice?parseFloat(lmd.productsaleprice.replace(".","").replace(/,/g,".")):"undefined"==typeof lmd||!lmd.cc||"mx"!=lmd.cc.toLowerCase()&&"pe"!=lmd.cc.toLowerCase()||void 0===lmd.productsaleprice?"undefined"==typeof lmd||!lmd.cc||"co"!=lmd.cc.toLowerCase()&&"cl"!=lmd.cc.toLowerCase()||void 0===lmd.productsaleprice?"undefined"!=typeof lmd&&lmd.cc&&"ar"==lmd.cc.toLowerCase()&&void 0!==lmd.productprice?parseFloat(lmd.productprice.replace(".","").replace(/,/g,".")):"undefined"==typeof lmd||!lmd.cc||"mx"!=lmd.cc.toLowerCase()&&"pe"!=lmd.cc.toLowerCase()||void 0===lmd.productprice?"undefined"==typeof lmd||!lmd.cc||"co"!=lmd.cc.toLowerCase()&&"cl"!=lmd.cc.toLowerCase()||void 0===lmd.productprice?"undefined"!=typeof lmd&&lmd.cc&&"br"==lmd.cc.toLowerCase()&&void 0!==lmd.productsaleprice?Number(lmd.productsaleprice.replaceAll(".","").replace(/,/g,".")):"subseriespage"==lmd.taxonomytype.toLowerCase()?_satellite.getVar("Subseries Value"):"not set":Number(lmd.productprice.replaceAll(".","").replace(/,/g,".")):Number(lmd.productprice.replace(",","")):Number(lmd.productsaleprice.replaceAll(".","").replace(/,/g,".")):Number(lmd.productsaleprice.replace(",",""))}}},"Not DCG Service":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!/\/data-center\/services\/support$/i.test(location.pathname)}}},"Indirect Site":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!lmd.bu.toLowerCase().includes("indirect")}}},"XDM Object For Add to Cart : PDP Accessory Page":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Add to Cart : PDP Accessory Page",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:{productListAdds:{value:1}},_experience:{analytics:{event201to300:{event293:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:[{name:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"RRID Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"rrid",caseInsensitive:!0}},"Target : Customecode Product Type":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t="";return void 0!==document.querySelectorAll("meta[name='platform']")[0]&&(e=document.querySelectorAll("meta[name='platform']")[0].content),void 0!==document.querySelectorAll("meta[name='configtype']")[0]&&(t=document.querySelectorAll("meta[name='configtype']")[0].content),void 0!==document.querySelectorAll("meta[name='pagetype']")[0]&&e.indexOf("Flash")>-1?document.querySelectorAll("meta[name='pagetype']")[0].content:location.href.indexOf("accessories")>-1&&window.location.href.indexOf("/p/")>-1?"Accessory":("MTM"==t||"CTO"==t)&&window.location.href.indexOf("/p/")>-1?"Modal":""==t&&window.location.href.indexOf("/p/")>-1?"Subseries":void 0}}},"events 1-100 Object : SMB registration":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};if(void 0!==lmd.UniqueID&&""!==lmd.UniqueID)var t=lmd.UniqueID;return void 0!==lmd.lenovoID&&""!==lmd.lenovoID&&(t=lmd.lenovoID),"Flash"==lmd.platform?e.event28={value:1}:e.event28={id:"event28:"+t+_satellite.getVar("cc"),value:1},e}}},"Events 1-100 Object : Product Page 360 View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t={value:1},o=lmd.productid;console.log("test the call",+o);var n,r=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+a),r&&a<=100){var s=_satellite.getVar("reportSuite");if("lenovouspub"==s){e={event98:{value:.15},event30:{value:.15}},console.log("Starting Engagement Score: ",n);var c=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",c),console.log("New Score added: ",.15),n=(parseFloat(c)+.15).toFixed(2),console.log("Final Engagement Score:"+n)}else"lenovofrpub"==s?(e={event98:{value:.29},event30:{value:.29}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Score added: ",.29),n=(parseFloat(c)+.29).toFixed(2),console.log("Final Engagement Score:"+n)):"lenovonzpub"==s?(e={event98:{value:.14},event30:{value:.14}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Score added: ",.14),n=(parseFloat(c)+.14).toFixed(2),console.log("Final Engagement Score:"+n)):"lenovodepub"==s?(e={event98:{value:.48},event30:{value:.48}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Score added: ",.48),n=(parseFloat(c)+.48).toFixed(2),console.log("Final Engagement Score:"+n)):"lenovoinpub"==s&&(e={event98:{value:.17},event30:{value:.17}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Score added: ",.17),n=(parseFloat(c)+.17).toFixed(2),console.log("Final Engagement Score:"+n));localStorage.setItem("score",n)}return e.event108=t,e}catch(e){console.log("Exception in events 1-100 object for product page 360 view",e)}}}},"Target : Meta HD":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='hard_drive']"}},"is Not Thankyou":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("/orderConfirmation".toLowerCase())<0&&location.search.toString().toLowerCase().indexOf("thankyoupage".toLowerCase())<0}}},"XDM Object - Evidon Consent Impression":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Evidon Banner Impression",linkClicks:{value:1}},webPageDetails:{name:"%Page Name%"}},_experience:{analytics:{event401to500:{event413:{value:1}}}}},sandbox:{name:"prod"}}},"XDM Object for Chat Initiation":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Chat Initiation",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event201to300:{event257:{value:1}},customDimensions:{eVars:{eVar150:"%Chat%"},props:{prop61:"%Source%"}}}}},sandbox:{name:"prod"}}},"event 201-300 Object : Add to cart : Product Page MTM":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=lmd.productid,n=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");"lenovoaupub"==a?t={event219:{value:.89},event30:{value:.89}}:"lenovonzpub"==a?t={event219:{value:1},event30:{value:1}}:"lenovodepub"==a?t={event219:{value:.74},event30:{value:.74}}:"lenovobrpub"==a?t={event219:{value:.7},event30:{value:.7}}:"lenovokrpub"==a?t={event219:{value:.74},event30:{value:.74}}:"lenovofrpub"==a?t={event219:{value:.67},event30:{value:.67}}:"lenovogbpub"==a?t={event219:{value:.89},event30:{value:.89}}:"lenovomypub"==a?t={event219:{value:.67},event30:{value:.67}}:"lenovoinpub"==a&&(t={event219:{value:.58},event30:{value:.58}}),localStorage.setItem("score",e)}return t}catch(e){console.log("Error in event 201-300 Object : Add to cart : Product Page MTM"+e)}}}},"Target : Page Type":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='pagetype'],meta[name='PageType']"}},"ANZ Marketing Pixel Toggle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"www.lenovo.com"!=location.hostname&&"account.lenovo.com"!=location.hostname&&"pre-www.lenovo.com"!=location.hostname||"le"===lmd.bu.toLowerCase()?"toggleoff":"toggleon"}}},"XDM Object - SR Cart View":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"SR Cart View",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event501to600:"%events 501-600 Object - SR Cart View %",customDimensions:{eVars:"%Custom Dimension - eVars Object - SR Cart View%",props:"%Custom Dimension - props Object - SR Cart View%"}}},productListItems:"%Product List - SR Cart View %"},sandbox:{name:"prod"}}},"XDM Object For ol Invitation Prompt":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"ol Invitation Prompt",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event101to200:{event188:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},orderTax:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.purchase&&void 0!==lmd.purchase.tax&&null!==lmd.purchase.tax?parseFloat(lmd.purchase.tax):0}}},"Internal Search Selection Value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.searchCategory_facetvalue.split("|");return e[e.length-1].split(":")[1]}}},"XDM Object for Error Message Page":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:" Error Message Page",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event400:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar145:"%Error Message%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},has_consent_cookie:{storageDuration:"session",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"has_consent_cookie"}},orderBasePrice:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.purchase&&void 0!==lmd.purchase.basePrice&&null!==lmd.purchase.basePrice?parseFloat(lmd.purchase.basePrice):0}}},Tab:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.tab"}},"Facebook - WE":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^(de|dk|es|fr|gb|no|be|ie|nl|ch|pt|fi|it|at|se)$/i.test(lmd.cc.toLowerCase())}}},"Espot Placement Name":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.espot.placementName"}},"Midas Contact ID":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"rrid"}},Quote:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.QuoteInformation.QuoteNumber"}},"Login ID":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.loginInfo&&null!=lmd.loginInfo.lenovoID?String(lmd.loginInfo.lenovoID):""}}},"Product ID Common For Flash":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];if(void 0!==lmd.productID&&""!==lmd.productID&&null!==lmd.productID)return(Array.isArray(lmd.productID)?lmd.productID:[lmd.productID]).forEach((function(t){var o={};t.indexOf("CTO")>-1&&t.length>10?(o.SKU=String(t.slice(0,10))||"",o.name=String(t.slice(0,10))||""):(o.SKU=String(t)||"",o.name=String(t)||""),e.push(o)})),e}}},Conversationid:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.Conversationid"}},"Target : Business Type":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='area'],meta[name='Area']"}},RepID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.repID"}},Pathname:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"location.pathname"}},"user status":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.userType)return lmd.userType+" "+lmd.loyaltyuserType}}},"Product List - DCR View Order":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t={};for(x=0;x<lmd.reorder.reorderproductStatus.length;x++)(t={}).name=lmd.reorder.reorderproductStatus[x],e.push(t);return e}catch(e){console.log("error in product list - dcr view order de"+e)}}}},SheerIdVerificationId:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheerIdVerificationId']"}},"Partner Mapping1":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.visitorType&&void 0!==lmd.visitorType["Partner Mapping1"])return lmd.visitorType["Partner Mapping1"]}}},"Cart Recc Index ( Type : Interaction )":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.Index&&""!==lmd.Index&&null!==typeof lmd.Index)return lmd.Index}}},
"Target: getDecisionScopes-Product_Page&Order_Confirmation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){$("meta[name='platform']").attr("content");var e=[];return window.location.href.indexOf("/p/")>-1&&e.push("product-page-mbox"),window.location.href.indexOf("/checkout/orderConfirmation")>-1&&e.push("orderConfirmPage-mbox"),window.location.href.indexOf("checkout.lenovo.com")>-1&&(window.location.href.indexOf("reqID=")>-1||window.location.href.indexOf("requisitionID=")>-1)&&e.push("orderConfirmPage-mbox"),e}}},"Video Tracking 25 - complete ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("25 - complete"==lmd.videoInfo.videoStatus)return 1}}},"event 1-100 Object : Add to Cart : Product Page CTO":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid;_satellite.notify(JSON.stringify(lmd,null,2),null,2);var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovonzpub"==a){e={event98:{value:.59},event30:{value:.59}},console.log("Engagement Starting Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.59),o=(parseFloat(s)+.59).toFixed(2),console.log("Final Engagement Score: ",o)}else"lenovoinpub"==a?(e={event98:{value:.75},event30:{value:.75}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.75),o=(parseFloat(s)+.75).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovokrpub"==a?(e={event98:{value:.44},event30:{value:.44}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.44),o=(parseFloat(s)+.44).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovogbpub"==a?(e={event98:{value:.26},event30:{value:.26}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.26),o=(parseFloat(s)+.26).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovofipub"==a?(e={event98:{value:.41},event30:{value:.41}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.41),o=(parseFloat(s)+.41).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovosgpub"==a?(e={event98:{value:.55},event30:{value:.55}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.55),o=(parseFloat(s)+.55).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoptpub"==a?(e={event98:{value:.72},event30:{value:.72}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.72),o=(parseFloat(s)+.72).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoespub"==a&&(e={event98:{value:.29},event30:{value:.29}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.29),o=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score: ",o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in event1-100 object for Add to Cart : Product Page CTO",e)}}}},"AR + CL + MX + PE + CO":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc.toString().toLowerCase()=="AR".toLowerCase()&&_satellite.getVar("Target : Country").toString().toLowerCase()=="AR".toLowerCase()||lmd.cc.toString().toLowerCase()=="CL".toLowerCase()&&_satellite.getVar("Target : Country").toString().toLowerCase()=="CL".toLowerCase()||lmd.cc.toString().toLowerCase()=="CO".toLowerCase()&&_satellite.getVar("Target : Country").toString().toLowerCase()=="CO".toLowerCase()||lmd.cc.toString().toLowerCase()=="MX".toLowerCase()&&_satellite.getVar("Target : Country").toString().toLowerCase()=="MX".toLowerCase()||lmd.cc.toString().toLowerCase()=="PE".toLowerCase()&&_satellite.getVar("Target : Country").toString().toLowerCase()=="PE".toLowerCase()}}},"XDM Object - DCR Purchase":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Order Confirmation",type:"other",linkClicks:{value:1}}},_lenovo:{Teads:{auctid:"%teadsAuctidVal%"},Reddit:{Uid:"%Reddit UID%",SHA256:"%Reddit Hash%",Clickid:"%Reddit Click ID%"},AdformID:"%Adform ID%",LinkedIn:{li_fat_id:"%li_fat_id value%"},NextJump:{nextjump:"%NextJump Cookie%",perksOffer:"%perksoffer%"},lenovoId:"%Lenovo ID%",Connexity:{ConnexityCookie:"%Connexity Cookie%"},RegionCode:"%Region Code%",ShopRunner:{list:"%shoprunner_list%",isMOV:"%shoprunner_isMov%",sr_token:"%Shoprunner Token%",tendertype:"%shoprunner_tendertype%"},orderTotal:"%Purchase Total Price%",GA_ClientID:"%GA Client ID%",Flashtalking:{guid:"%Flashtalking GUID%",productname:"%Product Name - Purchase%"},ImpactRadius:{Sid:"%IR - SID%",ClickId:"%Impact Click Id%"},googleSHA256:"%Google Sha256%",orderDetails:{tax:"%orderTax%",shipping:"%orderShipping%",basePrice:"%orderBasePrice%",totalPrice:"%orderTotalPrice%",shippingZip:"%orderShippingZip%",ProductLocal:{allProducts:"%Order allProduct Array%"}},Currency_Code:"%currencyCode%",FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"},purchaseSHA256:"%Email Sha256%",PurchaseDetails:{eventType:"purchase",purchaseID:"%purchase:orderID%",productList:"%Product List - DCR Purchase%",productName:"%Purchase Product Name Arr%"}},commerce:{order:{payments:[{paymentType:"%purchase:paymentMethod%",transactionID:"%purchase:orderID%"}],purchaseID:"%purchase:orderID%",currencyCode:"USD"},purchases:{id:"%Purchase ID%",value:1}},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event1to100:"%event 1-100 Object : DCR Purchase%",event101to200:{event195:{value:1}},event201to300:"%events 201-300 Object - Purchase%",event301to400:"%event 300-400 Object : DCR Purchase%",event401to500:"%event 400-500 Object : DCR Purchase%",customDimensions:{eVars:"%Custom Dimension - eVars Object -  DCR Purchase%",lists:{list1:"%PB&&CTO_Addons%",list2:"%Order Page Full Product List%"},props:"%Custom Dimension - props Object - Purchase%"}}},identityMap:"%Custom Attribute%",productListItems:"%Product List - DCR Purchase%"},sandbox:{name:"prod"}}},"Search page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/search".toLowerCase())>-1)return!0}}},"XDM Object For SMB_registration":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"SMB Registration",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_lenovo:{AdformID:"%Adform ID%",LinkedIn:{li_fat_id:"%li_fat_id value%"},RegionCode:"%Region Code%",ImpactRadius:{ClickId:"%Impact Click Id%"},FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"}},_experience:{analytics:{event1to100:"%events 1-100 Object : SMB registration%",event301to400:{event340:{value:1}},customDimensions:{eVars:"%Custom Dimension : eVar Object : SMB Registration%"}}},identityMap:"%Custom Attribute%"},sandbox:{name:"prod"}}},"XDM Object for Tab Tracking : All Sites":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Tab Tracking : All Sites",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar109:"%Cart Recc Index ( Type : Interaction )%",eVar147:"%Language%",eVar150:"%Tab%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:"%Product ID Common For Flash%"},sandbox:{name:"prod"}}},"Not Checkout or Account":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("checkout".toLowerCase())<0&&"true"!=_satellite.getVar("EMEA - B countries")&&location.hostname.toString().toLowerCase()!="account.lenovo.com".toLowerCase()||[location.hostname].toString().toLowerCase()!="checkout.lenovo.com".toLowerCase()&&"true"==_satellite.getVar("EMEA - B countries")&&location.hostname.toString().toLowerCase()!="account.lenovo.com".toLowerCase()||location.pathname.toString().toLowerCase().indexOf("orderconfirmation".toLowerCase())>-1||location.search.toString().toLowerCase().indexOf("thankyoupage".toLowerCase())>-1||location.search.toString().toLowerCase().indexOf("YourOrderIsBeingProcessedPage".toLowerCase())>-1)return!0}}},"Windows - EPB":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Window EPB:"+lmd.EPB}}},"Registration Enrollment ":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.enrollment"}},"Page Subseries ID ":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.list_id&&lmd.list_id.subseriescode&&"undefined"!=lmd.list_id.subseriescode?toString(lmd.list_id.subseriescode):""}}},"Serial ID for Payment Page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Cart/Checkout ID")+_satellite.getVar("cc")+_satellite.getVar("storeID")}}},"events 1-100 Object : recommend_cart_add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t={};t.eVar58=_satellite.getVar("pageName"),t.eVar75="D=g";var o=t.eVar58,n=lmd.cart.product.productID;n=";"+n+";;;;eVar214="+o;var r,a=getValOnce(n,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var s=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+s),a&&s<=100){var c=_satellite.getVar("reportSuite");if("lenovonzpub"==c){e={event98:{value:.36},event30:{value:.36}},console.log("Engagement Starting Score: ",r);var i=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.36),r=(parseFloat(i)+.36).toFixed(2),console.log("Final Engagement Score: ",r)}else"lenovodepub"==c?(e={event98:{value:.41},event30:{value:.41}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.41),r=(parseFloat(i)+.41).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovofrpub"==c?(e={event98:{value:.25},event30:{value:.25}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.25),r=(parseFloat(i)+.25).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovogbpub"==c?(e={event98:{value:.27},event30:{value:.27}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.27),r=(parseFloat(i)+.27).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovochpub"==c&&(e={event98:{value:.45},event30:{value:.45}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.45),r=(parseFloat(i)+.45).toFixed(2),console.log("Final Engagement Score: ",r));localStorage.setItem("score",r)}return e}catch(e){console.log("Exception in events 1-100 object recommend_cart_add",e)}}}},"XDM Object For Survey Finish":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Survey Finish",linkClicks:{value:1}}},_experience:{analytics:{event101to200:{event190:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar119:"%Survey Respondentid%",eVar135:"%Survey Satisfaction%",eVar136:"%Survey Purpose Of Visit%",eVar141:"%Survey Type%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar227:"%Survey Purpose Complete%",eVar228:"%Survey Ease Of Use%",eVar229:"%Survey Recommendation%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},Chat:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.Chat"}},"checkout:shippingMethod":{defaultValue:"",forceLowerCase:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.checkout.shippingMethod"}},"Custom Dimension : eVar Object : Product Page Gallery View":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=lmd.productid,n=getValOnce(";"+o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovoaupub"==a){t.eVar57="Product Gallery Views|0.33",t.eVar219="+0.33",t.eVar221="+0.33",t.eVar219,console.log("Engagement Starting Score: ",e);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.33),e=(parseFloat(s)+.33).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovouspub"==a?(t.eVar57="Product Gallery View|0.54",t.eVar219="+0.54",t.eVar221="+0.54",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.54),e=(parseFloat(s)+.54).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovogbpub"==a?(t.eVar57="Product Gallery View|0.5",t.eVar219="+0.5",t.eVar221="+0.5",t.eVar219,console.log("Starting Engagement Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.5),e=(parseFloat(s)+.5).toFixed(2),console.log("Final Engagement Score:"+e)):"lenovomypub"==a?(t.eVar57="Product Gallery View|0.41",t.eVar219="+0.41",t.eVar221="+0.41",t.eVar219,console.log("Starting Engagement Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.41),e=(parseFloat(s)+.41).toFixed(2),console.log("Final Engagement Score:"+e)):("lenovoarpub"==a||"lenovomxpub"==a)&&(t.eVar57="Product Gallery View|0.69",t.eVar219="+0.69",t.eVar221="+0.69",t.eVar219,console.log("Starting Engagement Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.69),e=(parseFloat(s)+.69).toFixed(2),console.log("Final Engagement Score:"+e));localStorage.setItem("score",e)}return t}catch(e){console.log("Error in Custom Dimension : eVar Object : Product Page Gallery View "+e)}}}},"Partner Mapping2":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.visitorType&&void 0!==lmd.visitorType["Partner Mapping2"])return lmd.visitorType["Partner Mapping2"]}}},"Survey not display reason":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="exitsurveynotdisplayed=",t=decodeURIComponent(document.cookie).split(";");for(let o=0;o<t.length;o++){let n=t[o].trim();if(0==n.indexOf(e)){let t=n.substring(e.length,n.length);return console.log(t),"Survey Reason: "+(isNaN(t)?t:String(t))}}let o="Survey Reason: No survey reason found.";return console.log(o),o}}},"Target : FLASH Subseries Cart Page":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.cart.allProducts.length-1,t=lmd.cart.allProducts,o="";return"MTMproductModel"!=t[e].configType&&"CTO"!=t[e].configType||(o=t[e].subseries),o}}},"Survey Recommendation":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.survey.recommendation"}},"custom interaction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.Custom&&""!==lmd.Custom?lmd.Custom:lmd.custom}}},"XDM Object for Facet Interaction (Flash)":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Facet Interaction",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event342:{value:"%Facet Condition of Checked (Flash) %"},event343:{value:"%Facet Condition of Unchecked (Flash)%"}},customDimensions:{eVars:{eVar109:"%Facet Index%",eVar126:"%Facet Category%",eVar127:"%Facet Values%"}}}}},sandbox:{name:"prod"}}},"XDM Object For Loyalty Splash Sign in":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Loyalty Splash Sign in",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar19:"%RepID%",eVar21:"%CustomerID%",eVar23:"%Loyalty User Interaction%",eVar32:"%Business unit%",eVar47:"%Loyalty User Status%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Internal Search Successful Search Main":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==window.lmd.intSearchResults&&"zero"!==lmd.intSearchResults&"zero"!==lmd.intSearchResults&"0"!==lmd.intSearchResults&"0"!==lmd.intSearchResults&0!==lmd.intSearchResults)return 1}}},"Custom Dimension - eVars Object - Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return e.eVar18=_satellite.getVar("purchase:paymentMethod"),e.eVar20=_satellite.getVar("purchase:shippingMethod"),e.eVar24=_satellite.getVar("purchase:orderID"),e.eVar142=_satellite.getVar("User Email ID"),e.eVar172=_satellite.getVar("Purchase Ecoupon Code"),e.eVar238=lmd.shippinghashid,e.eVar162=_satellite.getVar("ATP Checkout"),void 0!==lmd.thirdPartyProductAdded&&void 0!==lmd.thirdPartyProductName&&(e.eVar154=lmd.thirdPartyProductName),e.eVar192=_satellite.getVar("Purchase omostoreID"),e}catch(e){}}}},"Target : Customecode Saleprice":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$("meta[name='productpromotionprice']").attr("content"),t=$("meta[name='productsaleprice']").attr("content"),o=($("meta[name='productprice']").attr("content"),"");if($(".banner_content_desc .price_box .final-price").length&&(o=$(".banner_content_desc .price_box .final-price").text()),"undefined"!==o&&""!==o&&$('meta[name="platform"]').attr("content").indexOf("Flash")>-1)return o;if(null!=e&&""!=e&&""==o&&$('meta[name="platform"]').attr("content").indexOf("Flash")>-1){var n=parseFloat(e).toFixed(2);return n=flash_fe_core_tool.$priceFormat.split3(n)}return null!=e&&"Flash"!=$('meta[name="platform"]').attr("content")?e:null!=t&&"Flash"!=$('meta[name="platform"]').attr("content")?t:""}}},"Custom Dimension : events 1-100 Object : Virtual Page Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return(lmd.intSearchCount>"0"||lmd.intSearchCount>0)&&(e.event6={value:1}),e}catch(e){}}}},"XDM Object - DCR Checkout 1":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Checkout Begin"}},_lenovo:{AdformID:"%Adform ID%",RegionCode:"%Region Code%",pageDetails:{currency:"%currency lmd%",totalPrice:"%Checkout : Price Total%"},productDetails:"%Checkout Product List%"},_experience:{analytics:{event1to100:"%events 1-100 Object - DCR Checkout 1%",event301to400:"%events 301-400 Object - DCR Checkout 1%",customDimensions:{eVars:"%Custom Dimension - eVars Object - DCR Checkout 1%",lists:{list1:"%PB&&CTO_Addons%"}}}},identityMap:"%Custom Attribute%",productListItems:"%checkout:products%"},sandbox:{name:"prod"}}},"XDM Object for Internal Search: Compare Category":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search Compare Category",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event401to500:{event500:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar109:"%Internal Search : Compare Category%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:"%Product ID Common%"},sandbox:{name:"prod"}}},"Config Step":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.configstep"}},"FTV - Exclude":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase()!="/ar/es".toLowerCase()&&location.pathname.toString().toLowerCase()!="/cl/es".toLowerCase()&&location.pathname.toString().toLowerCase()!="/co/es".toLowerCase()&&location.pathname.toString().toLowerCase()!="/mx/es".toLowerCase()&&location.pathname.toString().toLowerCase()!="/pe/es".toLowerCase()&&location.pathname.toString().toLowerCase()!="/ar/es/".toLowerCase()&&location.pathname.toString().toLowerCase()!="/cl/es/".toLowerCase()&&location.pathname.toString().toLowerCase()!="/co/es/".toLowerCase()&&location.pathname.toString().toLowerCase()!="/mx/es/".toLowerCase()&&location.pathname.toString().toLowerCase()!="/pe/es/".toLowerCase()}}},"Target : Meta Sub Taxonomy Type":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='subtaxonomy'],meta[name='subtaxonomy']"}},Experience:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.experience"}},"Login Info Source":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.loginInfo.source"}},"util:isValidDevDomain":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=["www.gl.lenovouat.com","gc.digitalriver.com","leni2.com","ondemand.com","drhadmin-cte.digitalriver.com","qas-hybris.lenovo.com","crt-hybris.lenovo.com","con-c-hybris.lenovo.com","con-r-hybris.lenovo.com","pre-c-hybris.lenovo.com","origin-pre-c-hybris.lenovo.com","tun-c-hybris.lenovo.com","origin-tun-c-hybris.lenovo.com","tun-r-hybris.lenovo.com","origin-tun-r-hybris.lenovo.com","admin-prod-c-hybris.lenovo.com","drhadmin-cte-drx.drextenv.net","drhadmin-int-drx.drextenv.net","drhadmin-sys-drx.drextenv.net","lenovo.ndslindia.com","shop.geekmark.cn","community-lenovo-com.telligenthosting.net","gaming-lenovo-com.telligenthosting.net","education-lenovo-com.telligenthosting.net","stage-education-lenovo-com.telligenthosting.net","stage-community-lenovo-com.telligenthosting.net","stage-gaming-lenovo-com.telligenthosting.net"];for(var t in e)if(location.hostname.match(new RegExp(".*\\."+e[t].replace(".","\\.")+"$"))||location.hostname===e[t])return!0;if(s.Util.getQueryParam("reqID")){var o=s.Util.getQueryParam("reqID");if("00"==o.substring(o.length-2,o.length))return!0}return!1}}},GroupID:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("Affinity"==lmd.bu&&void 0!==lmd.groupID&&void 0!==lmd.sid&&void 0!==lmd.storeid)var e=lmd.platform+"|"+lmd.storeid+"|"+lmd.sid;else e="Affinity"==lmd.bu&&void 0!==lmd.groupID&&void 0!==lmd.sid&&void 0!==lmd.storeID?lmd.platform+"|"+lmd.storeID+"|"+lmd.sid:lmd.platform+"|Other Stores";return e}catch(e){console.log("Error in condition"+e)}}}},"XDM Object for Internal Search : Content Click: News Link Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : News Link Tracking",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%Events 1-100 Object: Internal Search : Content Click: News Link Tracking: All Sites %",event201to300:{event213:{value:1}},event301to400:"%Events 301-400 Object: Internal Search : Content Click: News Link Tracking: All Sites %",customDimensions:{eVars:"%Custom Dimension: eVars Object: Internal Search : Content Click: News Link Tracking: All Sites%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Target : regioncode":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="regioncode"]'}},"XDM Object for Product View":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Product View",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:{productViews:{value:1}},_experience:{analytics:{event101to200:{event101:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:[{SKU:"%Product View product string%"}]},sandbox:{name:"prod"}}}," Custom Dimension - eVars Object - Internal Search - Main - Ecomm Site":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={};if(void 0!==window.lmd.errorType&&void 0!==window.lmd.errorDetail){var o=lmd.errorType+":"+lmd.errorDetail;t.eVar76=o}if(void 0!==window.lmd.intSearchLoc){var n=lmd.intSearchLoc;t.eVar85=n}if(void 0!==window.lmd.intSearchResults&&lmd.intSearchResults,void 0!==window.lmd.intSearchTerm){var r=lmd.intSearchTerm;t.eVar2=r}if(void 0!==window.lmd.intSearchResults)if("zero"==lmd.intSearchResults||"zero"==lmd.intSearchResults||"0"==lmd.intSearchResults||"0"==lmd.intSearchResults||0==lmd.intSearchResults){_satellite.getVar("Plugin : getValOnce");var a=getValOnce("s.products_evar","s_eVar57",0);""==localStorage.getItem("score")||""==localStorage.getItem("score")||"Undefined"==localStorage.getItem("score")||null==localStorage.getItem("score")||localStorage.getItem("score"),"NaN"==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||"Undefined"==localStorage.getItem("tot_rfd_score")||"undefined"==localStorage.getItem("tot_rfd_score")||null==localStorage.getItem("tot_rfd_score")||localStorage.getItem("tot_rfd_score");var s=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2),c=(getValOnce(s,"s_tot_rfd",0),parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)));if(a&&c<=100)var i=_satellite.getVar("reportSuite")}else console.log("set to s.events event6");if(_satellite.getVar("Plugin : getValOnce"),a=getValOnce("s.products_evar","s_eVar57",0),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),s=parseFloat(localStorage.getItem("/tot_prev_score")).toFixed(2),getValOnce(s,"s_tot_rfd",0),c=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+c),a&&c<=100){if("lenovouspub"==(i=_satellite.getVar("reportSuite"))){t.eVar57="Internal Searches|0.58",t.eVar219="+0.58",t.eVar221="+0.58",console.log("Engagement Starting Score: ",e);var l=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",l),console.log("New Engagement Score added: ",.58),e=(parseFloat(l)+.58).toFixed(2),console.log("Final Engagement Score from usa site internal search evar: ",e),cur_eng_score=.58,localStorage.setItem("cur_eng_score",cur_eng_score)}else"lenovoaupub"==i?(t.eVar57="Internal Searches|0.54",t.eVar219="+0.54",t.eVar221="+0.54",console.log("Engagement Starting Score: ",e),l=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",l),console.log("New Engagement Score added: ",.54),e=(parseFloat(l)+.54).toFixed(2),console.log("Final Engagement Score: ",e),cur_eng_score=.54,localStorage.setItem("cur_eng_score",cur_eng_score)):"lenovonzpub"==i&&(t.eVar57="Internal Searches|0.47",t.eVar219="+0.47",t.eVar221="+0.47",console.log("Engagement Starting Score: ",e),
l=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",l),console.log("New Engagement Score added: ",.47),e=(parseFloat(l)+.47).toFixed(2),console.log("Final Engagement Score: ",e),cur_eng_score=.47,localStorage.setItem("cur_eng_score",cur_eng_score));localStorage.setItem("score",e)}return t.eVar170=lmd.fusionABSessionID+"|"+lmd.fusionExpID+"|"+lmd.fusionQueryID,t.eVar175=lmd.fusionExpID,t.eVar187||t.eVar2&&(t.eVar187="Internal search"),t}catch(e){console.log("Error in evars Object : internal search - main-ecomm site"+e)}}}},"Section Details":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.taxonomytype&&void 0!==lmd.subtaxonomytype&&""!==lmd.subtaxonomytype)var e=lmd.taxonomytype+" : "+lmd.subtaxonomytype;else if(void 0===lmd.taxonomytype||void 0!==lmd.subtaxonomytype&&""!=lmd.subtaxonomytype)e="Other Page Type";else var e=lmd.taxonomytype;return e}}},"SMB Value(Employee Size)":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(void 0!==lmd.value)return"SMB:Employee Size "+lmd.value}catch(e){}}}},"events 401-500":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};let t=lmd.sheeridverified.toLowerCase();return e.event417={value:_satellite.getVar("Async Library Counter")},"no"===t&&(e.event461={value:1}),"yes"===t&&(e.event460={value:1}),e}catch(e){console.log("Error in events 401-500 "+e)}}}},"Meta Data : Business Unit":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='bu']"}},"CSF Query String parameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"csf",caseInsensitive:!0}},"Facebook Content Value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof lmd&&void 0!==lmd.purchase&&void 0!==lmd.purchase.totalPrice?parseFloat(lmd.purchase.totalPrice):void 0!==lmd.cart&&void 0!==lmd.cart.totalPrice?parseFloat(lmd.cart.totalPrice):location.pathname.indexOf("/p/")>-1&&"undefined"!=typeof lmd&&void 0!==lmd.productInfo&&void 0!==lmd.productInfo.priceusd?lmd.productInfo.priceusd:location.pathname.indexOf("/p/")>-1&&void 0!==_satellite.getVar("Subseries Value")?_satellite.getVar("Subseries Value"):void 0}}},Social:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.social"}},"Per\xfa":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.cc.toString().toLowerCase()=="PE".toLowerCase()||_satellite.getVar("Target : Country").toString().toLowerCase()=="PE".toLowerCase())return!0}}},"XDM Object - Hybris Product View":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Hybris Product View",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_lenovo:{RegionCode:"%Region Code%",Flashtalking:{guid:"%Flashtalking GUID%",productId:"%Meta Product Id - Flashtalking%",productname:"%Target : Entity Name%"}},commerce:{productViews:{value:1}},_experience:{analytics:{event101to200:"%events 1-100 Object - Hybris Product View%",event301to400:"%events 301-400 Object - Hybris Product View%",event401to500:{event414:{value:"%User Acceptance (e414)%"},event415:{value:"%User Declined (e415)%"}},customDimensions:{eVars:"%Custom Dimension - eVars Object - Hybris Product View%"}}},productListItems:"%Product List - Hybris Product View%"},sandbox:{name:"prod"}}},"Target : Taxonomy Type V1":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='taxonomytype'],meta[name='TaxonomyType']"}},"Report Suite":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("util:isValidProdDomain")){if(1==_satellite.getVar("AnalyticsDevelopmentEnvironment")||1==_satellite.getVar("Staging_header")||-1==window.location.hostname.toLowerCase().indexOf("tele-hybris.lenovo")&&window.location.hostname.toLowerCase().indexOf("hybris")>-1||"lenovo.hashconnect.in"===window.location.hostname||window.location.hostname.toLowerCase().indexOf("flash")>-1||window.location.hostname.toLowerCase().indexOf("lenovouat")>-1||window.location.hostname.toLowerCase().indexOf("pre-www")>-1||window.location.hostname.toLowerCase().indexOf("test-tele")>-1||window.location.hostname.toLowerCase().indexOf("preaccount.lenovo.com")>-1)return"lenovoglobaldev";var e=_satellite.getVar("lmd_cc");return window.location.href.indexOf("Locale=pl_PL")>-1&&(e="pl"),window.location.href.indexOf("Locale=pl_PL")>-1&&(e="ck"),window.location.href.indexOf("Locale=es_ES")>-1&&(e="es"),window.location.href.indexOf("Locale=sv_SE")>-1&&(e="se"),window.location.href.indexOf("Locale=fr_BE")>-1&&(e="be"),window.location.href.indexOf("Locale=nl_NL")>-1&&(e="nl"),window.location.href.indexOf("Locale=de_CH")>-1&&(e="ch"),window.location.href.indexOf("Locale=de_DE")>-1&&(e="de"),window.location.href.indexOf("Locale=en_CH")>-1&&(e="ch"),window.location.href.indexOf("Locale=da_DK")>-1&&(e="dk"),window.location.href.indexOf("Locale=fi_FI")>-1&&(e="fi"),window.location.href.indexOf("Locale=it_IT")>-1&&(e="it"),window.location.href.indexOf("Locale=pt_PT")>-1&&(e="pt"),window.location.href.indexOf("Locale=en_IE")>-1&&(e="ie"),window.location.href.indexOf("Locale=fr_FR")>-1&&(e="fr"),window.location.href.indexOf("Locale=de_AT")>-1&&(e="at"),window.location.href.indexOf("Locale=fr_CH")>-1&&(e="ch"),window.location.href.indexOf("Locale=en_GB")>-1&&(e="gb"),window.location.href.indexOf("Locale=nl_BE")>-1&&(e="be"),window.location.href.indexOf("Locale=no_NO")>-1&&(e="no"),"start"==window.location.hostname.split(".").shift()?"lenovostart":e?"le"===_satellite.getVar("lmd_bu")||"le"===_satellite.getVar("storeType")?"lenovole":"ww"===e?"lenovoglobal":"lenovo"+e+"pub":"lenovoglobaldev"}return _satellite.getVar("util:isValidDevDomain")?"lenovoglobaldev":"lenovoglobalerrors"}catch(e){return"lenovoglobalerrors"}}}},"events 301-400 Object - Product Page Gallery View copy":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid,o=getValOnce(";"+t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?e={event329:{value:.33},event317:{value:.33}}:"lenovouspub"==r?e={event329:{value:.54},event317:{value:.54}}:"lenovogbpub"==r?e={event329:{value:.5},event317:{value:.5}}:"lenovomypub"==r?e={event329:{value:.41},event317:{value:.41}}:("lenovoarpub"==r||"lenovomxpub"==r)&&(e={event329:{value:.69},event317:{value:.69}})}return e}catch(e){console.log("Error in events 301-400 Object - Product Page Gallery View "+e)}}}},"Target : Customcode Processor":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Flash"==$("meta[name='platform']").attr("content")&&void 0!==$("meta[name='Processor']").attr("content")?$("meta[name='Processor']").attr("content"):$("meta[name='processor']").attr("content")}}},"Target : Cart Mbox Flash":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=lmd.cart.allProducts.length-1,t=lmd.cart.allProducts,o={target:{}},n={},r=_satellite.getVar("LISA Engagement RFD Score"),a=_satellite.getVar("Target : LISA Subseries Subseries+Cart"),s=_satellite.getVar("Target : Inventory"),c=_satellite.getVar("Target : Business Type"),i=jQuery(".tabbedBrowse-productListings li .dr-msg:contains('In stock')").length;(s>0||i>0||window.location.href.indexOf("/cart")>-1)&&(o.target.LISA=r,o.target.LISAsubseriesID=a,o.target.businessType=c);var l=$("meta[name='platform']").attr("content");if("service"==t[e].configType.toLowerCase()&&(e-=1),"Flash"==l&&("MTMproductModel"==t[e].configType||"CTO"==t[e].configType))return o.target.subseries=t[e].subseries,o.target.last_productid=_satellite.getVar("Target : FLASH ProductID Cart Page"),o.target["entity.id"]=void 0!==lmd.storeID?_satellite.getVar("Target : FLASH ProductID Cart Page")+"_"+lmd.storeID:_satellite.getVar("Target : FLASH ProductID Cart Page"),o.target.last_productname=_satellite.getVar("Target : FLASH Product Name Cart Page"),n.__adobe=o,n;if("Flash"!=l){var d=_satellite.getVar("Target : Capture Subseries + Cart Page"),u=_satellite.getVar("Target : Capture Product Name + Cart Page");return o.target.subseries=d,o.target.productname=u,n.__adobe=o,n}}catch(e){console.error("Error:",e)}}}},"event 301-400 Object : Promo Deals Facets Click":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=$(this).parents(".facetFilter-item-list").attr("data-value-name");if($(this).parents(".facetFilter-item-list").attr("data-facet-name"),void 0!==lmd.facets)if(void 0!==lmd.facets.refinementSelection)var o=lmd.facets.refinementSelection;else o="#$%*&^%%";else o="#$%*&^%%";if(!0!==o.includes(t)){$(this).parents(".facetFilter-item-list").attr("data-facet-name");var n=$(this).parents(".facetFilter-item-list").attr("data-value-name")}var r,a=getValOnce(n,"s_eVar57",0),s=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+s),a&&n&&s<=100){var c=_satellite.getVar("reportSuite");"lenovoaupub"==c?e={event329:{value:.79}}:"lenovouspub"==c?e={event329:{value:.81}}:"lenovothpub"==c?e={event329:{value:.6}}:"lenovohkpub"==c||"lenovofrpub"==c?e={event329:{value:1}}:"lenovokrpub"==c?e={event329:{value:.72}}:"lenovonopub"==c?e={event329:{value:.87}}:"lenovodkpub"==c?e={event329:{value:.76}}:"lenovonzpub"==c?e={event329:{value:.82}}:"lenovodepub"==c?e={event329:{value:.89}}:"lenovogbpub"==c?(console.log("Engagement Starting Score: ",r),e={event329:{value:.79}}):"lenovochpub"==c?e={event329:{value:1}}:"lenovotwpub"==c?e={event329:{value:.99}}:"lenovomypub"==c?e={event329:{value:.89}}:"lenovoinpub"==c?e={event329:{value:1}}:"lenovofipub"==c?e={event329:{value:.88}}:("lenovoptpub"==c||"lenovoglobaldev"==c)&&(e={event329:{value:.99}})}else console.log("eVar127 is undefined");return e}catch(e){console.log("Error in event 301-400 Object : Promo Deals Facets Click"+e)}}}},"Homepage: Recommendation Tracking":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(void 0!==lmd.homepageRecommendation&&""!==lmd.homepageRecommendation)return String(lmd.homepageRecommendation);if(void 0!==lmd.ReccType&&""!==lmd.ReccType)return String(lmd.ReccType)}catch(e){console.log("Error : eVar158 Recommendation Error"+e)}}}},"Custom Dimension - eVars Object : Knexus Video Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return e.eVar66="Knexus : "+lmd.videoInfo.videoName,e.eVar67=lmd.videoInfo.videoStatus,e}catch(e){console.log("Exception in evars object video tracking",e)}}}},"DCR Global Web Interaction Link Click Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t;try{switch(e.identifier){case"SeeMore_Clicked":t="DCG Resources See More Tracking";break;case"DCGTools&resources":t="DCG Tools and resources";break;case"dcgCustomInteraction":t="DCG Custom Interaction";break;case"DCGServices":t="DCG services";break;case"DCG_LetsTalk":t="DCG Letstalk";break;case"ldr-interaction":t="DCG LDR Interactions";break;case"CaseStudy_Clicked":t="DCG Resources CaseStudy Tracking";break;case"Brochure_Clicked":t="DCG Resources Brochure Tracking";break;case"Contactus_Clicked ":t="DCG Contact Us Click";break;case"BannerTab":t="DCG Banner Tab";break;case"ResourcesSearch":t="DCG Resources Search Tracking";break;case"DownloadPDF_Clicked":t="DCG Resources Download PDF Tracking";break;case"ResourcesNoResult":t="DCG Resources No results Tracking";break;case"CLV Basket":t="CLV Cart Recommendation";break;case"recommend_cart_add":t="recommend_cart_add";break;case"BusinesDirect Call":t="Business Days Add to Cart";break;case"PDP_ATCustomize":t="Add to Cart : Product Page CTO";break;case"Compared_And_Cart_Addition":t="Compare Product Cart Addition";break;case"Cartremoval":t="Cartremoval";break;case"PDP_ATCart":t="Add to Cart : Product Page MTM";break;case"PDPAccessory_ATCart":t="Add to Cart : PDP Accessory Page";break;case"smb_re_addtocart":t="Reorder add to cart";break;case"Collapse_All_Categories":t="B2B CTO Collapse All";break;case"Expand_All_Categories":t="B2B CTO Expand All";break;case"Configurator_Preview_Time_Spend":t="B2B CTO Config Time Spend";break;case"Configurator_Preview":t="B2B CTO Configurator Preview";break;case"Reset_To_Base_Spec":t="B2B CTO Reset To Base Spec";break;case"Configurator_Tabs":t="B2B Configurator Tabs"}return t}catch(e){console.log("Error in DCR Global Web Interaction Link Click Name DE",e)}}}},"LAS indirect":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.cc&&"bo"==lmd.cc.toLowerCase()||"ec"==lmd.cc.toLowerCase()||"py"==lmd.cc.toLowerCase()||"uy"==lmd.cc.toLowerCase()||"ve"==lmd.cc.toLowerCase()||"pa"==lmd.cc.toLowerCase()||"cr"==lmd.cc.toLowerCase()||"hn"==lmd.cc.toLowerCase()||"ni"==lmd.cc.toLowerCase()||"sv"==lmd.cc.toLowerCase()||"gt"==lmd.cc.toLowerCase()||"do"==lmd.cc.toLowerCase()||"bz"==lmd.cc.toLowerCase())return!0}}},"DCG Resources":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.PDF;if(void 0!==lmd.PDF)return"DCG Resources:"+e}}},"XDM Object - DCR Product View":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{server:"%domain%",pageViews:{value:1}}},_lenovo:{Teads:{auctid:"%teadsAuctidVal%"},Reddit:{Uid:"%Reddit UID%",Clickid:"%Reddit Click ID%"},AdformID:"%Adform ID%",LinkedIn:{li_fat_id:"%li_fat_id value%"},snapchat:{ScCid:"%SnapchatScCid Value%"},RegionCode:"%Region Code%",GA_ClientID:"%GA Client ID%",pageDetails:{hashE:"%Email SHA256 Logged In%"},Flashtalking:{guid:"%Flashtalking GUID%",productname:"%Target : Entity Name%"},ImpactRadius:{ClickId:"%Impact Click Id%"},FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"},MidasContactID:"%Midas Contact ID%",subseriesPrice:"%Subseries Value%",subseriesProductID:"%Subseries ID%"},commerce:{productViews:{value:1}},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event101to200:{event101:{value:1}}}},productListItems:"%Product List - DCR Product View%"},sandbox:{name:"prod"}}},"LAS direct":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.cc&&("ar"==lmd.cc.toLowerCase()||"co"==lmd.cc.toLowerCase()||"mx"==lmd.cc.toLowerCase()||"cl"==lmd.cc.toLowerCase()||"pe"==lmd.cc.toLowerCase()))return!0}}},"DCSC : Events Object 1-100 ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{switch(e.identifier){case"dcsc-Internal-Search":t[0===e.intSearchCount||"0"===e.intSearchCount?"event94":"event6"]={value:1};break;case"dcsc-user-login":t.event58={value:"logged in"===lmd.loginInfo.loginStatus?1:0}}return t}catch(e){console.log("Error in DCSC Global Event Object 1-100 DE",e)}}}},"Product List - Deals Page Identifier":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{_satellite.logger.log(JSON.stringify(lmd,null,2),null,2),_satellite.logger.log("deals page identifier");var e=[],t={};if(void 0!==lmd.productinfo&&void 0!==lmd.productinfo[0].productcodeimpressions){var o=lmd.productinfo;if(o)for(var n=o.length,r=0;r<n;)(t={}).SKU=o[r].productcodeimpressions,t.name=o[r].productcodeimpressions,e.push(t),r++}return e}catch(e){console.log("Error in DCR Prod View DE"+e)}}}},"Target : LISA Subseries Subseries+Cart":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(-1==location.pathname.indexOf("/cart")&&"/"!=location.pathname){function e(e){for(var t=document.getElementsByTagName("meta"),o=0;o<t.length;o++)if(t[o].getAttribute("name")===e)return t[o].getAttribute("content");return""}return e("subseriesPHcode")}if(-1!=location.pathname.indexOf("/cart")&&"/"!=location.pathname){for(var t=document.querySelectorAll('meta[key="configType"]'),o=document.querySelectorAll('meta[key="subseries"]'),n="",r=0;r<t.length;r++)1==t.length?n+=o[r].content:n=n+o[r].content+",";return n}}}},"XDM Object For  Promo Deals Learn More":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Promo Deals Learn More",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%events 1-100 Object - Promo Deals Learn More%",event201to300:{event291:{value:1}},event301to400:"%events 301-400 Object - Promo Deals Learn More%",customDimensions:"%Custom Dimension : eVar Object : Promo Deals Learn More%"}},productListItems:[{name:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"Survey Respondentid":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.survey.respondentid"}},"ProductFinder pfsurveytype":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.Pfsurveytype&&""!==lmd.Pfsurveytype?lmd.Pfsurveytype:lmd.pfsurveytype}}},"Type Ahead Search":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.TypeAheadSearch"}}," Custom Dimension - props Object - Internal Search - Main - Ecomm Site ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(console.log(lmd.fusionABSessionID+"|"+lmd.fusionExpID+"|"+lmd.fusionQueryID),void 0!==window.lmd.errorType&&void 0!==window.lmd.errorDetail){var t=lmd.errorType+":"+lmd.errorDetail;e.prop55=t}if(void 0!==window.lmd.intSearchResults){var o=lmd.intSearchResults;e.prop23=o}if(void 0!==window.lmd.intSearchTerm){var n=lmd.intSearchTerm;e.prop2=n}return e}catch(e){console.log("Error in props Object : internal search - main-ecomm site"+e)}}}},"Product View product string":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(void 0!==lmd.productinfo&&void 0!==lmd.productinfo[0].productcodeimpressions){var e="",t=lmd.productinfo;if(t){for(var o=t.length,n=0;n<o;)e+=n==o-1?";"+t[n++].productcodeimpressions:";"+t[n++].productcodeimpressions+",";";"!==e?s.products=e:";"==e&&(s.products=";"+lmd.productID)}}}catch(e){}}}},"Is Vantage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return navigator.userAgent.toLowerCase().includes("lenovovantage")}}},"Target : Entity ThumbnailUrl":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="thumbnail"]'}},"Cart Quantity Sum":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.cart&&lmd.cart.allProducts){for(var e=lmd.cart.allProducts,t=[],o=0;o<e.length;o++)t.push(Number(e[o].quantity));let n=0;for(let e=0;e<t.length;e++)n+=t[e];return isNaN(n)?0:n}return 0}}},"Exclude tags on FAQ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0}}},"cart:event:name":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"value",elementSelector:"#hidden_cartevent_name"}},"Target : EntityID TargetNew StoreID 2":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t="";return void 0!==document.querySelectorAll("meta[name='lenovo.country']")[0]&&document.querySelectorAll("meta[name='lenovo.country']")[0].content,void 0!==document.querySelectorAll("meta[name='storeinfo.storeid']")[0]&&(t=document.querySelectorAll("meta[name='storeinfo.storeid']")[0].content),void 0!==document.querySelectorAll("meta[name='productcode']")[0]&&(e=document.querySelectorAll("meta[name='productcode']")[0].content+"_"+t),e}}},"checkout:cartID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.checkout.cartID"}},"PID : URL QSP":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"PID",caseInsensitive:!0}},"Purchase Ecoupon Code":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.purchase.eCouponCode&&""!==lmd.purchase.eCouponCode&&void 0!==lmd.purchase.cartThresholdEcoupon&&""!==lmd.purchase.cartThresholdEcoupon?lmd.purchase.eCouponCode+":"+lmd.purchase.cartThresholdEcoupon:void 0!==lmd.purchase.eCouponCode&&""!==lmd.purchase.eCouponCode?lmd.purchase.eCouponCode:void 0!==lmd.purchase.cartThresholdEcoupon&&""!==lmd.purchase.cartThresholdEcoupon?lmd.purchase.cartThresholdEcoupon:""}}},"XDM Object for LPP Notification Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"LPP Notification Tracking",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event29:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"%LPP Notification Tracking%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar86:"%LPP Company Name | Company ID%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar204:"%LPP LenovoPartnerDetails%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"productDetails : Quantity":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t=null,o="";return"checkout"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.checkout,o="checkout"):"cart"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.cart,o="cart"):/orderconfirmation|thankyou/i.test(document.URL.toLowerCase())&&(t=lmd.purchase,o="purchase"),t&&t.allProducts&&(e=t.allProducts),e.map((function(e){return e.quantity}))}catch(e){console.log("Error in "+o+" Product List DE: "+e)}}}},"AR + CL ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc&&lmd.cc.toString().toLowerCase()=="ar".toLowerCase()||lmd.cc.toString().toLowerCase()=="cl".toLowerCase()}}},"View Content Product Name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return null!=lmd.productInfo?lmd.productInfo.name:"subseriespage"==lmd.taxonomytype.toLowerCase()?lmd.subseries:"not set"}}},"Bluecore Advertising Consent Rules":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("blue-core")&&getConsentVendors("blue-core")}}},"Only - MX":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc&&lmd.cc.toString().toLowerCase()=="mx".toLowerCase()}}},"Checkout Product List":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.checkout&&lmd.checkout.allProducts){var e=lmd.checkout.allProducts,t=[];if(void 0!==lmd){for(var o=0;o<e.length;o++){var n={};n.name=null!==e[o].productName?String(e[o].productName):"",n.price=null!==e[o].price?String(e[o].price):"",n.quantity=null!==e[o].quantity?String(e[o].quantity):"",n.SKU=null!==e[o].bundleID?String(e[o].bundleID):"",n.type=null!==e[o].type?String(e[o].type):"",t.push(n)}return t}}}catch(e){console.log("Error in Checkout Product List DE: "+e)}}}},"Recommended Product":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"clvRecommendations.pn"}},"SPON Query String parameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"spon",caseInsensitive:!0}},"events 301-400 Object - Homepage : Recommendation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};console.log("lisa starts");var t,o=getValOnce("s_event_part2_recommend","s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?(e={event317:{value:.3},event329:{value:.3}},console.log("Final Engagement Score from part 2 of recommendation: ",t)):"lenovouspub"==r?(e={event317:{value:.43},event329:{value:.43}},console.log("Final Engagement Score from part 2 of recommendation: ",t)):"lenovochpub"==r&&(e={event317:{value:.3},event329:{value:.3}},console.log("Final Engagement Score from part 2 of recommendation: ",t))}return e}catch(e){console.log("Error in events 301-400 Object : homepage:recommendation"+e)}}}},"Payment Method":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.paymentMethod"}},"Adobe Consent Cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"kndctr_F6171253512D2B8C0A490D45_AdobeOrg_consent"}},"XDM Object for Windows - EPB":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Windows - EPB",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event318:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"%Windows - EPB%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar174:"%Windows - EPB%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"XDM Object - Confirmit_Survey_Finish":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_experience:{analytics:{event1to100:"%events 1-100 Object : Confirmit_Survey_Finish%",event101to200:"%events 101-200 Object : Confirmit_Survey_Finish%",event301to400:"%events 301-400 Object : Confirmit_Survey_Finish%",event501to600:"%events 501-600 Object : Confirmit_Survey_Finish%",customDimensions:{eVars:"%Custom Dimension : eVar Object : Confirmit_Survey_Finish%"}}}},sandbox:{name:"prod"}}},"Target : OS":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='operating_system']"}},"Facebook : fbc":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_fbc"}},"XDM Object Out of stock Products":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Out of Stock",type:"other",linkClicks:{value:1}},webPageDetails:{name:"%pageName%",server:"%domain%",siteSection:"%Page Channel%"}},_lenovo:{Midas:"%Midas Object%",Criteo:{userId:"%Criteo Cookie%",Taxonomy:"%Target : Meta Taxonomy Type%"},FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"}},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event101to200:{event111:{value:"%Error Page Event%"}},event201to300:{event215:{value:"%After instant Saving present%"}},event301to400:{event334:{value:1}},event401to500:"%event 400-500 Object : Deals Page%",customDimensions:{eVars:{eVar4:"%Tracking Code%",eVar7:"%Email segment Query String%",eVar22:"%Tracking Code%",eVar26:"%eValueDealCode%",eVar31:"%Lenovo ID%",eVar47:"%User Status%",eVar64:"%Page Filter ID%",eVar108:"%Error_CustomReferrer%",eVar217:"%GCLID Query String%",eVar219:"%LISA Engagement RFD Score%",eVar232:"%Algorithm name%",eVar242:"%Page Subseries ID %",eVar248:"%Lenovo Le_id%"},props:{prop56:"%pageTitle%"}}}},identityMap:"%Custom Attribute%",productListItems:"%Product List -Out of Stock for Page Load Global%"},sandbox:{name:"prod"}}},"exclude homepage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.getVar("Target : Meta Taxonomy Type").toString().toLowerCase().indexOf("homepage".toLowerCase())<0&&_satellite.getVar("Target : Meta Taxonomy Type").toString().toLowerCase().indexOf("hompage".toLowerCase())<0)return!0}}},"GCLID QSP":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"gclid",caseInsensitive:!0}},MobilePerformanceCookie:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"ABtestSign"}},"XDM Object Page Load":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{name:"%pageName%",server:"%domain%",pageViews:{value:1},siteSection:"%Page Channel%"}},_lenovo:{Midas:"%Midas Object%",Teads:{auctid:"%teadsAuctidVal%"},Criteo:{userId:"%Criteo Cookie%",Taxonomy:"%Target : Meta Taxonomy Type%"},Reddit:{Uid:"%Reddit UID%",Clickid:"%Reddit Click ID%"},AdformID:"%Adform ID%",LinkedIn:{li_fat_id:"%li_fat_id value%"},snapchat:{ScCid:"%SnapchatScCid Value%"},RegionCode:"%Region Code%",GA_ClientID:"%GA Client ID%",pageDetails:{hashE:"%Email SHA256 Logged In%",timeOnSite:"%Timer Tracker%"},Currency_Code:"%currencyCode%",FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"},MidasContactID:"%Midas Contact ID%",subseriesPrice:"%Subseries Value%",subseriesProductID:"%Subseries ID%"},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event1to100:{event1:{value:"%Tracking code event%"}},event101to200:{event111:{value:"%Error Page Event%"}},event201to300:{event215:{value:"%After instant Saving present%"}},event301to400:{event334:{value:1}},event401to500:"%events 401-500%",event501to600:{event525:{value:"%Mobile Transformation%"}},customDimensions:{eVars:{eVar4:"%Tracking Code%",eVar7:"%Email segment Query String%",eVar16:"%CTA layout | Image%",eVar22:"%Tracking Code%",eVar23:"%custom interaction%",eVar26:"%eValueDealCode%",eVar30:"%PID : URL %",eVar31:"%Lenovo ID%",eVar34:"%CTA hyperlink%",eVar41:"%RTID - ROKT%",eVar47:"%User Status%",eVar64:"%Page Filter ID%",eVar93:"%MobilePerformanceCookie%",eVar108:"%Error_CustomReferrer%",eVar116:"%Survey not display reason%",eVar138:"%Namogoo Localstorage%",eVar217:"%GCLID Query String%",eVar219:"%LISA Engagement RFD Score%",eVar232:"%Algorithm name%",eVar242:"%Page Subseries ID %",eVar248:"%Lenovo Le_id%"},props:{prop56:"%pageTitle%"}}}},identityMap:"%Custom Attribute%"},sandbox:{name:"prod"}}},"Custom Dimension : eVar Object : recommend_cart_add":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};e.eVar5=lmd.cc,e.eVar32=lmd.bu,e.eVar58=e.pageName,e.eVar75="D=g",e.pageName;var t=lmd.cart.product.productID;t=";"+t+";;;;eVar214="+e.pageName;var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovonzpub"==a){e.eVar57="CLV Recommendation|0.36",e.eVar219="+0.36",e.eVar221="+0.36",e.eVar219,console.log("Engagement Starting Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.36),o=(parseFloat(s)+.36).toFixed(2),console.log("Final Engagement Score: ",o)
}else"lenovodepub"==a?(e.eVar57="CLV Recommendation|0.41",e.eVar219="+0.41",e.eVar221="+0.41",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.41),o=(parseFloat(s)+.41).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovofrpub"==a?(e.eVar57="CLV Recommendation|0.25",e.eVar219="+0.25",e.eVar221="+0.25",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.25),o=(parseFloat(s)+.25).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovogbpub"==a?(e.eVar57="CLV Recommendation|0.27",e.eVar219="+0.27",e.eVar221="+0.27",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.27),o=(parseFloat(s)+.27).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovochpub"==a&&(e.eVar57="CLV Recommendation|0.45",e.eVar219="+0.45",e.eVar221="+0.45",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.45),o=(parseFloat(s)+.45).toFixed(2),console.log("Final Engagement Score: ",o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in evars object recommend_cart_add",e)}}}},"Midas Object":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"cart"==lmd.taxonomytype?{Email:_satellite.getVar("SheerIdEmail"),OrgName:_satellite.getVar("SheerIdOrgName"),Segment:_satellite.getVar("SheerIdSegment"),LastName:_satellite.getVar("SheerIdLastName"),FirstName:_satellite.getVar("SheerIdFirstName"),PhoneNumber:_satellite.getVar("SheerIdPhone"),sheerIdVerified:_satellite.getVar("SheerIdVerified"),sheerIdVerificationID:_satellite.getVar("SheerIdVerificationId"),cartId:_satellite.getVar("cart:cartID")}:{}}}},"purchase:shippingMethod":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.purchase.shippingMethod"}},"events 1-100 Object : Confirmit_Survey_Finish":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return void 0!==window.lmd&&void 0!==window.lmd.survey&&window.lmd.survey.recommendation>=0&&(e.event33={value:lmd.survey.recommendation},e.event34={value:1}),e}catch(e){}}}},"CID Cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"cidZ"}},StoreID:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.storeID"}},"Target : Entity Value":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$(".banner_content_desc .price_box .final-price").text();return"undefined"!==e&&""!==e&&"Flash"==$('meta[name="platform"]').attr("content")?(e=e.substr(1),Number(e.replace(/[^0-9\-]+/g,""))):$('meta[name="productprice').attr("content")?Number($('meta[name="productprice').attr("content").replace(/[^0-9\-]+/g,"")):void 0}}},"LPP LenovoPartnerDetails":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.visitorType.PartnerDetails"}},"Profile Path":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.profilePath"}},"ProductFinder pfzeroresultfilt":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.Pfzeroresultfilt&&""!==lmd.Pfzeroresultfilt&&null!==lmd.Pfzeroresultfilt?toString(lmd.Pfzeroresultfilt):""}}},"Product List -Out of Stock for Page Load Global":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=lmd.Subseriesstatus;if(_satellite.logger.log(JSON.stringify(lmd,null,2),null,2),"Available"!==e){var t=[],o={};if(void 0!==lmd.productinfo){if(void 0!==lmd.productinfo[0].productcodeimpressions){var n=lmd.productinfo;if(n)for(var r=n.length,a=0;a<r;)(o={}).SKU=n[a].productcodeimpressions||"",o.name=n[a].productcodeimpressions||"",t.push(o),a++}}else(o={}).SKU=lmd.productID||"",o.name=lmd.productID||"",t.push(o);return t}}catch(e){console.log("Error in DCR Prod View DE"+e)}}}},"Custom Index":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.customindex"}},Mexico:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.cc.toString().toLowerCase()=="MX".toLowerCase()||_satellite.getVar("Target : Country").toString().toLowerCase()=="MX".toLowerCase())return!0}}},"Banner Interaction":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.bannerinteraction"}},"XDM Object For Cart:LastAddedSystemID":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Cart: LastAddedSystemID",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:{productListViews:{value:1}}},sandbox:{name:"prod"}}},"RTID - ROKT":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"rtid",caseInsensitive:!0}},"visitor:compatibleID":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVisitorId(),t=e.getAnalyticsVisitorID();if(void 0!==t&&""!==t)return"[CS]v1|"+t+"[CE]";var o=e.getMarketingCloudVisitorID();if(void 0!==o&&""!==o)return o}catch(e){}}}},Question:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.question"}},"Product Finder Quiz Event":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{if(e)return!e.target.getAttribute("id")||"next"!=e.target.getAttribute("id")&&"result"!=e.target.getAttribute("id")?0:1}catch(e){console.log("Error in Product Finder Quiz Event DE",e.message)}}}},"Survey Interaction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t="";return e=sessionStorage.getItem("ConfirmITGroup"),void 0!==lmd.survey&&void 0!==lmd.survey.interaction&&(t=lmd.survey.interaction),""!==t&&""!==e?t+":"+e:""!==t?t:void 0}}},storeType:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.storeInfo.storeType"}},"Survey Satisfaction":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.survey.satisfaction"}},"XDM Object for OMO Cart Addition":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"OMO Cart Addition",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:{productListAdds:{value:1},productListOpens:{id:"%Serial Id for Cart Open%",value:1},productListViews:{value:1}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%Page Name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar171:"%User Agent%",eVar192:"%omostoreID%",eVar193:"%GroupID%"}}}},productListItems:"%Product ID Common For Flash%"},sandbox:{name:"prod"}}},"Custom Dimension : eVar Object : Virtual Page Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return e.eVar58=lmd.pageName,void 0!==window.lmd.intSearchTerms&&(e.eVar2=lmd.intSearchTerms),void 0!==lmd.searchResult&&(e.eVar23="SMB Search Result : "+lmd.searchResult),void 0!==lmd.errorType&&void 0!==lmd.errorDetail&&""!==lmd.errorType&&""!==lmd.errorDetail&&(e.eVar76=lmd.errorType+":"+lmd.errorDetail),e}catch(e){}}}},"SnapchatScCid Value":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("SnapchatScCid cookie");return null==e||isNaN(e)?"":String(e)}}},"Target : Meta Memory":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='memory']"}},"PB&&CTO_Addons":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){const o=[];for(const[n,r]of Object.entries(e)){const e=n.replace(/["\r\n]/g,""),a=r.replace(/,/g,"|").replace(/"/g,""),s=t.systemcomponent?`${t.manualSubseriesCode}:${t.productID}:${e}:${a}`:"NA";o.push({value:s})}return o}function t(t){const o=[];for(const n of t)if(n.systemcomponent){const t=e(n.systemcomponent,n);o.push(...t)}return o}try{var o={};let e;"cart"===lmd.taxonomytype&&void 0!==lmd.cart&&void 0!==lmd.cart.allProducts?e=lmd.cart.allProducts:location.href.indexOf("/checkout")>=0&&void 0!==lmd.checkout&&void 0!==lmd.checkout.allProducts?e=lmd.checkout.allProducts:(location.href.indexOf("/thankyou")>=0||location.href.indexOf("/orderConfirmation")>=0||location.href.indexOf("/checkout")>=0)&&void 0!==lmd.purchase&&void 0!==lmd.purchase.allProducts&&(e=lmd.purchase.allProducts);const n=t(e);return o.list=n,o}catch(e){console.error("Error in main logic:",e)}}}},Argentina:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc.toString().toLowerCase()=="AR".toLowerCase()||_satellite.getVar("Target : Country").toString().toLowerCase()=="AR".toLowerCase()}}},"Lenovo Le_id":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.le_id"}},"Indirect Site and Mobile Devices":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!(!_satellite.getVar("Indirect Site")||!_satellite.getVar("Mobile Devices"))}}},"Motorola Pages":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("/phones".toLowerCase())>-1}}},SheerIdVerified:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheerIdVerified']"}},"Facets Final Selection":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.facetsfinalselection&&""!==lmd.facetsfinalselection&&null!=lmd.facetsfinalselection)return String(lmd.facetsfinalselection)}}},"Profile Path & Profile Type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.notify(JSON.stringify(lmd,null,2),null,2),_satellite.getVar("Profile Path")+"|"+_satellite.getVar("ProfileType Sheer ID")}}},"XDM Object For SR Sign Up":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"SR Sign Up",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event501to600:{event514:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar236:"%Payment Gateway%",eVar237:"%Shop Login Status%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"ONLY pre-c":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"pre-c-hybris.lenovo.com"===location.hostname}}},"LPP Notification Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"LPP:"+lmd.notification}}},"SMB Details":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.smbdetails"}},"XDM Object for DCR Global":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%DCR Global Web Interaction Link Click Name%",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:"%DCR Global Commerce Object%",_experience:{analytics:{event1to100:"%DCR Global Event Object 1-100%",event201to300:"%DCR Global Event Object 201-300%",event301to400:"%DCR Global Event Object 301-400%",customDimensions:{eVars:"%DCR Global eVar%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},environment:{domain:"%domain%"},productListItems:"%DCR Global Product List Items%"},sandbox:{name:"prod"}}},"Product List - SR Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){console.log("SR Add to Cart");try{for(var e,t=document.getElementsByClassName("cart-item").length,o=[],n={},r=(t=document.getElementsByClassName("cart-item").length,[]),a=[],s=[],c=[],i=[],l=[],d=[],u=[],m=0;m<t;m++)if("true"==document.getElementsByClassName("cart-item")[m].getAttribute("data-is-cto")){e=(e=(e=document.getElementsByClassName("cart-item")[m].getAttribute("data-p-configuration")).replace("[","{").replace("]","}")).replace(/\:/g,'":"');var g=/_/gi,p=JSON.parse(e);r[m]=p.NB_CPU?p.NB_CPU:p.NB_SP?p.NB_SP:p.DTCPU?p.DTCPU:p.EPCPU?p.EPCPU:p.ISESP?p.ISESP:p.ISESP1?p.ISESP1:p.DUM_DTCPU_M600?p.DUM_DTCPU_M600:p.NBCPUCP?p.NBCPUCP:p.DUM_DTCPU_M600?p.DUM_DTCPU_M600:p.DUM_DTCPU_X1?p.DUM_DTCPU_X1:"Not Found",r[m].indexOf("_")>=0&&(r[m]=r[m].replace(g," ")),a[m]=p.NB_OSL?p.NB_OSL:p.NB_PRELOAD_OS?p.NB_PRELOAD_OS:p.DTOS?p.DTOS:p.DTPRELOAD_OS?p.DTPRELOAD_OS:p.EPOS?p.EPOS:p.EPPRELOAD_OS?p.EPPRELOAD_OS:p.ISEOS?p.ISEPRELOAD_OS:p.NBY70015ISKOTHER2?p.NBY70015ISKOTHER2:p.NBMARKETINGOS?p.NBMARKETINGOS:"Not Found",a[m].indexOf("_")>=0&&(a[m]=a[m].replace(g," ")),s[m]=p.NB_DPY?p.NB_DPY:p.NB_TS?p.NB_TS:p.NB_DISPLAY?p.NB_DISPLAY:p.NBLCD?p.NBLCD:"Not Found",s[m].indexOf("_")>=0&&(s[m]=s[m].replace(g," ")),c[m]=p.NB_MEM?p.NB_MEM:p.DTMEMORY?p.DTMEMORY:p.Memory?p.Memory:p.EPMEMORY?p.EPMEMORY:p.EPMEMORY1?p.EPMEMORY1:p.ISEMEM1?p.ISEMEM1:p.NBRAM?p.NBRAM:p.NBONBOARDRAM?p.NBONBOARDRAM:"Not Found",c[m].indexOf("_")>=0&&(c[m]=c[m].replace(g," ")),i[m]=p.NB_HDD?p.NB_HDD:p.DTHDD1?p.DTHDD1:p.ISEHDD1?p.ISEHDD1:p.DTFIRST_HARD_DRIVE?p.DTFIRST_HARD_DRIVE:p.NB_HDD1?p.NB_HDD1:p.NB_HDD3?p.NB_HDD3:p.NB_HDD?p.NB_HDD:"Not Found",i[m].indexOf("_")>=0&&(i[m]=i[m].replace(g," ")),l[m]=p.NB_BAT?p.NB_BAT:p.NBBATTERY?p.NBBATTERY:"Not Found",l[m].indexOf("_")>=0&&(l[m]=l[m].replace(g," ").replace("FRONT","F")),d[m]=p.NB_BAT2?p.NB_BAT2:"Not Found",d[m].indexOf("_")>=0&&(d[m]=d[m].replace(g," ").replace("REAR","R")),u[m]=p.NB_BODY_COLOR?p.NB_BODY_COLOR:p.NBBASE?p.NBBASE:"Not Found",u[m].indexOf("_")>=0&&(u[m]=u[m].replace(g," ")),_satellite.notify(r[m],1),_satellite.notify(a[m],1),_satellite.notify(s[m],1),_satellite.notify(c[m],1),_satellite.notify(i[m],1),_satellite.notify(l[m],1),_satellite.notify(d[m],1),_satellite.notify(u[m],1)}var f=lmd.cart.allProducts;for(m=0;m<f.length;m++)f[m].productID=f[m].productID.indexOf("-")>0?f[m].productID.split("-")[0]:f[m].productID;var _=0,v=f[f.length-1];return console.log(v.productID+"'"+v.quantity),"CTO"==v.configType?("undefined"!==v.shopRunnerType||void 0!==v.shopRunnerType||void 0!==v.shopRunnerType?((n={}).name=v.productID,n.priceTotal="",n.quantity="",n.SKU="",n._experience={event501to600:{event520:{id:"",value:v.quantity},event521:{id:"",value:v.price}},customDimensions:{eVars:{eVar208:r[_],eVar209:a[_],eVar210:s[_],eVar211:c[_],eVar212:i[_],eVar213:l[_]+"|"+d[_]+"|"+u[_],eVar239:v.shopRunnerType}}},o.push(n)):((n={}).name=v.productID,n.priceTotal="",n.quantity="",n.SKU="",n._experience={event501to600:{event520:{id:"",value:v.quantity},event521:{id:"",value:v.price}},customDimensions:{eVars:{eVar208:r[_],eVar209:a[_],eVar210:s[_],eVar211:c[_],eVar212:i[_],eVar213:l[_]+"|"+d[_]+"|"+u[_]}}},o.push(n)),_++):void 0!==v.shopRunnerType||"string"==typeof v.shopRunnerType||typeof v.shopRunnerType==string||"undefined"!==v.shopRunnerType||void 0!==v.shopRunnerType||void 0!==v.shopRunnerType?((n={}).name=v.productID,n.priceTotal="",n.quantity="",n.SKU="",n._experience={event501to600:{event520:{id:"",value:v.quantity},event521:{id:"",value:v.price}},customDimensions:{eVars:{eVar239:v.shopRunnerType}}},o.push(n)):((n={}).name=v.productID,n.priceTotal="",n.quantity="",n.SKU="",n._experience={event501to600:{event520:{id:"",value:v.quantity},event521:{id:"",value:v.price}},customDimensions:{eVars:{}}},o.push(n)),o}catch(e){}}}},"Not SMB Register":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return-1==_satellite.getVar("URL").indexOf("goaccountverfy")}}},"Appnexus Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("appnexus")&&getConsentVendors("appnexus")}}},"View Content Product ID":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd&&void 0!==lmd.productname)return lmd.productname;if("subseriespage"==lmd.taxonomytype.toLowerCase()){if(""!=_satellite.getVar("Subseries Ids"))return _satellite.getVar("Subseries Ids");if(void 0!==lmd.productID&&"n/a"!==lmd.productID.toLowerCase())return lmd.productID;if(void 0!==document.querySelector('meta[name="productname"]'))return document.querySelector('meta[name="productname"]').content}}}},"GA4 Init":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(!(document.domain.toLowerCase().includes("truscale")||document.URL.toLowerCase().includes("billdeskload")||document.URL.toLowerCase().includes("mid_loading")||document.URL.toLowerCase().includes("/forget")||document.URL.toLowerCase().includes("/reset")||document.referrer.toLowerCase().includes("/reset")||document.URL.toLowerCase().includes("/what-is-hotmail-preview"))){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];var t=document.createElement("script");t.type="text/javascript",t.src="https://www.googletagmanager.com/gtag/js?id=G-LXNLK45HZF",$("head").append(t);var o=document.querySelector('meta[name="lenovo.country"]').content.toLowerCase();_satellite.logger.info("Gtag Init Started"),null!=document.querySelector('meta[name="lenovo.country"]')?console.log(o):"undefined"!==_satellite.getVar("locale")?o=_satellite.getVar("locale").split("_")[1].toLowerCase():(o=_satellite.getVar("Checkout Lenovo CC"),console.log("This is GA4:"+o)),e("js",new Date),e("config","G-LXNLK45HZF",{send_page_view:!1}),"us"==o&&(e("config","G-1RPSEV71KD",{send_page_view:!1}),e("config","G-X0H82YEL7G",{send_page_view:!1})),"ca"==o&&(e("config","G-1RPSEV71KD",{send_page_view:!1}),e("config","G-C9DSQC5706",{send_page_view:!1})),"gb"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-XKJTHS007F",{send_page_view:!1}),e("config","G-K1R42ZM57S",{send_page_view:!1})),"ie"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-XKJTHS007F",{send_page_view:!1}),e("config","G-EX5VJWD5BC",{send_page_view:!1})),"fr"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-XKJTHS007F",{send_page_view:!1}),e("config","G-XFHBXKYKV3",{send_page_view:!1})),"de"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-XKJTHS007F",{send_page_view:!1}),e("config","G-WH6W2P5JQC",{send_page_view:!1})),"at"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-XKJTHS007F",{send_page_view:!1}),e("config","G-WHV010P17B",{send_page_view:!1})),"be"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-WGE9FJ6VKF",{send_page_view:!1})),"ch"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-EM9Z2W84C9",{send_page_view:!1})),"dk"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-Q507YKBLSH",{send_page_view:!1})),"es"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-E45WLL4J03",{send_page_view:!1})),"fi"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-5W9TMVQW5W",{send_page_view:!1})),"it"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-T5YLZ1CFPC",{send_page_view:!1})),"nl"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-8Y2DTT8QY8",{send_page_view:!1})),"no"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-0W4M6JH32C",{send_page_view:!1})),"pl"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-W0KR8FYQ5N",{send_page_view:!1})),"pt"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-X47ZV0LBVS",{send_page_view:!1})),"se"==o&&(e("config","G-VBYSKTNF8V",{send_page_view:!1}),e("config","G-E8EM1CEGC0",{send_page_view:!1}),e("config","G-8571WY1KYX",{send_page_view:!1})),"mx"==o&&(e("config","G-YF4MBY08PJ",{send_page_view:!1}),e("config","G-VZV8QEZHP7",{send_page_view:!1}),e("config","G-CEWX2CFGJQ",{send_page_view:!1})),"cl"==o&&(e("config","G-YF4MBY08PJ",{send_page_view:!1}),e("config","G-VZV8QEZHP7",{send_page_view:!1}),e("config","G-GF53Y4MFH3",{send_page_view:!1})),"co"==o&&(e("config","G-YF4MBY08PJ",{send_page_view:!1}),e("config","G-VZV8QEZHP7",{send_page_view:!1}),e("config","G-4B5BEY2W1L",{send_page_view:!1})),"ar"==o&&(e("config","G-YF4MBY08PJ",{send_page_view:!1}),e("config","G-VZV8QEZHP7",{send_page_view:!1}),e("config","G-4M8F0THF58",{send_page_view:!1})),"pe"==o&&(e("config","G-YF4MBY08PJ",{send_page_view:!1}),e("config","G-VZV8QEZHP7",{send_page_view:!1}),e("config","G-CDNY62MC7S",{send_page_view:!1})),"br"==o&&(e("config","G-YF4MBY08PJ",{send_page_view:!1}),e("config","G-1X0P7YKFM5",{send_page_view:!1})),"hk"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-J8SGMCQXDJ",{send_page_view:!1}),e("config","G-GEVCFZGR30",{send_page_view:!1})),"kr"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-J8SGMCQXDJ",{send_page_view:!1}),e("config","G-QEPDXGSB71",{send_page_view:!1})),"my"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-J8SGMCQXDJ",{send_page_view:!1}),e("config","G-L3NRX2T13B",{send_page_view:!1})),"ph"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-J8SGMCQXDJ",{send_page_view:!1}),e("config","G-MT7JVQKEFR",{send_page_view:!1})),"sg"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-J8SGMCQXDJ",{send_page_view:!1}),e("config","G-3R1J6TEEBK",{send_page_view:!1})),"th"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-J8SGMCQXDJ",{send_page_view:!1}),e("config","G-RQ3Z2DXKS4",{send_page_view:!1})),"tw"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-J8SGMCQXDJ",{send_page_view:!1}),e("config","G-KJ5XTPJFM1",{send_page_view:!1})),"jp"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-TG8K625LTS",{send_page_view:!1}),e("config","G-RBSPRX9VPL",{send_page_view:!1})),"in"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-BWVL3VXBFV",{send_page_view:!1})),"au"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-S747NZ5XE2",{send_page_view:!1}),e("config","G-740XK5GERP",{send_page_view:!1})),"nz"==o&&(e("config","G-LNFXZCR83J",{send_page_view:!1}),e("config","G-S747NZ5XE2",{send_page_view:!1}),e("config","G-PBBKT3WWSJ",{send_page_view:!1})),_satellite.logger.log("Gtag Init Complete")}}}},"Events 301-400 Object: Internal Search : Content Click: News Link Tracking: All Sites ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid;lmd.searchCategory_newsLink,lmd.searchCategory_NewsIndex,void 0!==lmd.searchCategory_newsLink||lmd.searchCategory_NewsIndex;var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovonzpub"==a){e={event317:{value:.12},event329:{value:.12}},console.log("Engagement Starting Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.12),o=(parseFloat(s)+.12).toFixed(2),console.log("Final Engagement Score: ",o)}else"lenovotwpub"==a?(e={event317:{value:.07},event329:{value:.07}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.07),o=(parseFloat(s)+.07).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovomypub"==a?(e={event317:{value:.3},event329:{value:.3}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.3),o=(parseFloat(s)+.3).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovomxpub"==a&&(e={event317:{value:.48},event329:{value:.48}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.48),o=(parseFloat(s)+.48).toFixed(2),console.log("Final Engagement Score: ",o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in events 301-400 object for product compare",e)}}}},lmd_eDealCode:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.eDealCode"}},"XDM Object for Pop Up tracking rule: Slider email Capture Cancel":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Pop Up tracking rule: Slider email Capture Cancel",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event29:{value:1}},customDimensions:{eVars:{eVar23:"Popup : Slider email Capture Cancel"}}}}},sandbox:{name:"prod"}}},"Google Adwords Consent Rules":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("google-adwords")&&getConsentVendors("google-adwords")}}},"Custom Dimension - eVars Object - Hybris Product View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};lmd.selectiontype&&lmd.selectionvalue&&(e.eVar126=lmd.selectiontype,e.eVar127=lmd.selectionvalue),_satellite.notify(JSON.stringify(lmd,null,2),null,2),void 0!==lmd.productInfo.shopRunnerType&&(console.log("lmd.shopRunnerType"+lmd.productInfo.shopRunnerType),e.eVar239=lmd.productInfo.shopRunnerType);var t,o="";""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),t=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){if("lenovodepub"==_satellite.getVar("reportSuite")){e.eVar57="Product Views|0.89",e.eVar219="+0.89",e.eVar221="+0.89",e.eVar219,console.log("Engagement Starting Score: ",t);var r=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",r),console.log("New Engagement Score added: ",.89),t=(parseFloat(r)+.89).toFixed(2),console.log("Final Engagement Score: ",t)}localStorage.setItem("score",t)}return e}catch(e){}}}},"Target : PID StoreID New":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$("meta[name='purchase.orderID']").attr("content"),t=$("meta[name='purchase.totalPrice']").attr("content");if(null!=e&&null!=t){var o="";void 0!==$("meta[name=productid]").attr("content")&&$("meta[name=productid]").attr("content"),void 0!==$("meta[name='lenovo.country']").attr("content")&&$("meta[name='lenovo.country']").attr("content"),void 0!==$("meta[name='storeinfo.storeid']").attr("content")&&(o=$("meta[name='storeinfo.storeid']").attr("content"));var n=0;void 0!==lmd.purchase&&void 0!==lmd.purchase.allProducts&&(n=lmd.purchase.allProducts),void 0!==$("meta[name='lenovo.country']").attr("content")&&$("meta[name='lenovo.country']").attr("content"),void 0!==$("meta[name='storeinfo.storeid']").attr("content")&&(o=$("meta[name='storeinfo.storeid']").attr("content")),n=0,void 0!==lmd.purchase.allProducts&&(n=lmd.purchase.allProducts);var r="";for(x=0;x<n.length;x++)"Accessories"==lmd.purchase.allProducts[x].configType||(n[x].subseries=n[x].subseries.indexOf("-")>0?n[x].subseries.split("-")[0]:n[x].subseries,r+=","+n[x].subseries+"_"+o);var a,s="";for(x=0;x<n.length;x++){n[x].productID=n[x].productID.indexOf("-")>0?n[x].productID.split("-")[0]:n[x].productID,s+=""==s?";"+n[x].productID+"_"+o:",;"+n[x].productID+"_"+o;var c=0;if(void 0!==n[x].quantity?((c=parseInt(n[x].quantity))+""=="NaN"&&(quanity=0),s+=";"+n[x].quantity):s+=";",void 0!==n[x].USDPrice&&0!==c){var l=0;(d=parseFloat(n[x].USDPrice.toString().replace(",","")))+""=="NaN"&&(d=0),"function"==typeof(l=d*c).toFixed?s+=";"+l.toFixed(2):s+=";"+l}else if(void 0!==n[x].priceUSD&&0!==c){var d;l=0,(d=parseFloat(n[x].priceUSD.toString().replace(",","")))+""=="NaN"&&(d=0),"function"==typeof(l=d*c).toFixed?s+=";"+l.toFixed(2):s+=";"+l}else s+=";";if(0==x){var u=lmd.purchase.shipping,m=lmd.purchase.tax;void 0!==u?(s+=";event60="+u,void 0!==m&&(s+="|event61="+m)):s+=void 0!==m?";event61="+m:";"}else s+=";";var g=n[x].bundleID;void 0!==g&&0!==c&&(s+=";eVar25="+g)}if(""!=(a=s)){var p,f;p=a.split(",");var _=[];for(i=0;i<p.length;i++){f=p[i].split(";")[1],_.push(f);var v=_.join()}}var b=v+r;return b||""}}}},"IS Homepage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Target : Meta Taxonomy Type").toString().toLowerCase()=="homepage".toLowerCase()}}},"Target : Customcode Pageurl":{cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Flash"==$("meta[name='platform']").attr("content")&&void 0!==$("meta[name= 'internalsearchcanonical']").attr("content")?$("meta[name='internalsearchcanonical']")[0].baseURI.split("?")[0].replace(/"/g,"\u201d").replace(/'/g,"\u2019"):$("meta[name='productinfo.pageurl']")[0].baseURI.split("?")[0].replace(/"/g,"\u201d").replace(/'/g,"\u2019")}}},"Not Account & Checkout":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!(1!=location.pathname.toLowerCase().includes("checkout")&&"account.lenovo.com"!=location.hostname.toLowerCase()&&"checkout.lenovo.com"!=location.hostname.toLowerCase()||location.pathname.toLowerCase().includes("orderconfirmation")||location.search.toLowerCase().includes("thankyoupage")||document.URL.toLowerCase().includes("orderconfirmation"))}}},"XDM Object For Loyalty splash banner join now":{
modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Loyalty splash banner join now",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar19:"%RepID%",eVar21:"%CustomerID%",eVar23:"%Loyalty User Interaction%",eVar32:"%Business unit%",eVar47:"%Loyalty User Status%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},Download:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.download"}},"Custom Dimension - eVars Object - Hybris Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={};if(t={eVar5:_satellite.getVar("Country Code"),eVar12:_satellite.getVar("storeID"),eVar15:_satellite.getVar("Section Details"),eVar21:_satellite.getVar("CustomerID"),eVar32:_satellite.getVar("Business unit"),eVar58:_satellite.getVar("pageName"),eVar63:_satellite.getVar("Report Suite"),eVar75:_satellite.getVar("URL"),eVar108:_satellite.getVar("Error_CustomReferrer"),eVar147:_satellite.getVar("Language"),eVar169:_satellite.getVar("ECID"),eVar171:_satellite.getVar("User Agent"),eVar180:_satellite.getVar("BPID")|_satellite.getVar("storeID"),eVar193:_satellite.getVar("GroupID")},""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),last_promo&&localStorage.getItem("score")<100){var o=_satellite.getVar("reportSuite");if("lenovodkpub"==o){t.eVar57="Cart Additions|1.0",t.eVar219="+1.0",t.eVar221="+1.0",t.eVar219;var n=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",n),console.log("New Engagement Score added: ",1),e=(parseFloat(n)+1).toFixed(2),console.log("Final Score: ",e)}else"lenovosepub"==o||"lenovofipub"==o||"lenovonopub"==o?(t.eVar57="Cart Additions|1.0",t.eVar219="+1.0",t.eVar221="+1.0",t.eVar219,console.log("Starting Engagement Score: ",e),n=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",n),console.log("New Engagement Score added: ",1),e=(parseFloat(n)+1).toFixed(2),console.log("Final Score: ",e)):"lenovosgpub"==o&&(t.eVar57="Cart Additions|0.20",t.eVar219="+0.20",t.eVar221="+0.20",t.eVar219,console.log("Starting Engagement Score: ",e),n=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",n),console.log("New Engagement Score added: ",.2),e=(parseFloat(n)+.2).toFixed(2),console.log("Final Score: ",e))}return t.eVar63=reportSuite,t}catch(e){}}}},"Criteo Init APEM":{storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){var o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t())}:o.onload=function(){t()},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)}if("in"==_satellite.getVar("Country Code").toLowerCase())var t="https://dynamic.criteo.com/js/ld/ld.js?a=60252";"kr"==_satellite.getVar("Country Code").toLowerCase()&&(t="https://dynamic.criteo.com/js/ld/ld.js?a=61954"),"my"==_satellite.getVar("Country Code").toLowerCase()&&(t="https://dynamic.criteo.com/js/ld/ld.js?a=61747"),"sg"==_satellite.getVar("Country Code").toLowerCase()&&(t="https://dynamic.criteo.com/js/ld/ld.js?a=26310"),"tw"==_satellite.getVar("Country Code").toLowerCase()&&(t="https://dynamic.criteo.com/js/ld/ld.js?a=39820"),"th"==_satellite.getVar("Country Code").toLowerCase()&&(t="https://dynamic.criteo.com/js/ld/ld.js?a=65705"),"ph"==_satellite.getVar("Country Code").toLowerCase()&&(t="https://dynamic.criteo.com/js/ld/ld.js?a=95055"),"hk"==_satellite.getVar("Country Code").toLowerCase()&&(t="https://dynamic.criteo.com/js/ld/ld.js?a=110623"),null==window.criteoScriptLoaded&&(e(t,(function(){})),window.criteo_q=window.criteo_q||[]),window.criteoScriptLoaded=!0}}},"XDM Object For Register Complete":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Register Complete",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{event1to100:{event28:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar47:"%Login Info Login Status%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Fusion AB SessionID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.fusionABSessionID"}},"Registration Source":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.source"}},"Target : userType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=lmd.userType;if(e)return e}catch(e){console.log("Error in product view event"+e)}}}},"XDM Object For Type Ahead Search Recommended":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Type Ahead Search Recommended",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event207:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"TA Recommended Word : %Recommended Word%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar109:"%Recommended Index%",eVar144:"%Typed Term%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar170:"%Fusion AB SessionID% | %Fusion Exp ID% | %Fusion Query ID%",eVar171:"%User Agent%",eVar175:"%Fusion Exp ID%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"is NOT csat":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("csat".toLowerCase())<0}}},"NOT pre-c":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"pre-c-hybris.lenovo.com"!=location.hostname}}},"XDM Object Deals Page Identifier":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{name:"%pageName%",server:"%domain%",pageViews:{value:1},siteSection:"%Page Channel%"}},_lenovo:{Midas:"%Midas Object%",Criteo:{userId:"%Criteo Cookie%",Taxonomy:"%Target : Meta Taxonomy Type%"},FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"}},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event401to500:{event405:{value:1}},customDimensions:{eVars:{eVar4:"%Tracking Code%",eVar7:"%Email segment Query String%",eVar22:"%Tracking Code%",eVar26:"%eValueDealCode%",eVar31:"%Lenovo ID%",eVar47:"%User Status%",eVar64:"%Page Filter ID%",eVar108:"%Error_CustomReferrer%",eVar191:"%Algorithm name%",eVar217:"%GCLID Query String%",eVar219:"%LISA Engagement RFD Score%",eVar232:"%Algorithm name%",eVar242:"%Page Subseries ID %",eVar248:"%Lenovo Le_id%"},lists:{list1:{list:"%Product List for Deals Pages (Deal page identifier)%"}},props:{prop56:"%pageTitle%"}}}},identityMap:"%Custom Attribute%",productListItems:"%Product List - Deals Page Identifier%"},sandbox:{name:"prod"}}},"Wunderkind Consent Rules":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("bounce-exchange")&&getConsentVendors("bounce-exchange")}}},"XDM Object for LPP Notification Bell":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"LPP Notification Bell",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event29:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"LPP:Header Bell",eVar31:"%User ID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar86:"%LPP Company Name | Company ID%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar204:"%LPP LenovoPartnerDetails%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"DCR Global Event Object 1-100":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e){o.event98={value:e},o.event30={value:e}}var o={};try{switch(e.identifier){case"ldr-interaction":o.event29={value:1};break;case"Contactus_Clicked ":o.event9={value:1};break;case"DownloadPDF_Clicked":case"ResourcesSearch":o.event6={value:1};break;case"ResourcesNoResult":o.event94={value:1};break;case"recommend_cart_add":var n=getValOnce("s_event","s_eVar57",0),r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(n&&r<=100)switch(_satellite.getVar("reportSuite")){case"lenovonzpub":t(.36);break;case"lenovodepub":t(.41);break;case"lenovofrpub":t(.25);break;case"lenovogbpub":t(.27);break;case"lenovochpub":t(.45)}break;case"BusinesDirect Call":var a=lmd.productid;if(n=getValOnce(a,"s_eVar57",0),r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),n&&r<=100)switch(_satellite.getVar("reportSuite")){case"lenovodepub":case"lenovofrpub":t(1);break;case"lenovonzpub":t(.86);break;case"lenovoaupub":case"lenovoglobaldev":t(.82)}break;case"PDP_ATCustomize":o=_satellite.getVar("event 1-100 Object : Add to Cart : Product Page CTO");break;case"Cartremoval":o.event23={value:1},o.event59={value:1};break;case"PDP_ATCart":if(a=";"+lmd.productid,n=getValOnce(a,"s_eVar57",0),r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),n&&r<=100)switch(_satellite.getVar("reportSuite")){case"lenovoaupub":case"lenovogbpub":t(.89);break;case"lenovonzpub":case"lenovothpub":t(1);break;case"lenovouspub":t(.5);break;case"lenovodepub":t(.74);break;case"lenovokrpub":t(.78);break;case"lenovofrpub":case"lenovomypub":t(.67);break;case"lenovoinpub":t(.58);break;case"lenovosepub":t(.73);break;case"lenovosgpub":t(.7);break;case"lenovoptpub":t(.83);break;case"lenovoespub":t(.88)}}return o}catch(e){console.log("Error in DCR Global Event Object 1-100 DE",e)}}}},"Loyalty User Interaction":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.userInteraction"}},"Purchase Product ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];if("undefined"!=typeof lmd&&void 0!==lmd.purchase&&"undefined"!==lmd.purchase.allProducts){var t=lmd.purchase.allProducts;if(t.length>0)for(var o=0;o<t.length;o++)e.push(t[o].productID)}return e}}},"XDM Object For Cart View":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Cart View",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},commerce:{productListViews:{value:1}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Blue Core - Variant_ID":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"variant_id",caseInsensitive:!0}},"Email segment Query String":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("CSF Query String parameter")&&_satellite.getVar("SPON Query String parameter"))return"Email Segment: CSF:"+_satellite.getVar("CSF Query String parameter")+": SPON:"+_satellite.getVar("SPON Query String parameter");if(_satellite.getVar("CSF Query String parameter")&&!_satellite.getVar("SPON Query String parameter"))return"Email Segment: CSF:"+_satellite.getVar("CSF Query String parameter");if(!_satellite.getVar("CSF Query String parameter")&&_satellite.getVar("SPON Query String parameter"))return"Email Segment: SPON:"+_satellite.getVar("SPON Query String parameter")}catch(e){console.log("Exception in Custom Dimension : eVar7 Object: Email segment Query String",e)}}}},"UTM Content Query Parameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_content",caseInsensitive:!0}},"Default Consent Value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;return"us"==_satellite.getVar("Country Code")?(e=_satellite.getVar("Get Consent from LS"))&&(e.indexOf("all")>-1||e.indexOf("analytics")>-1)?"in":"out":"br"==_satellite.getVar("Country Code")||1==_satellite.getVar("GDPR Compliant Countries")?(e=_satellite.getVar("Get Consent from LS"))&&(e.indexOf("all")>-1||e.indexOf("analytics")>-1)?"in":"pending":"in"}}},LMD:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd}}},"Target : Capture Subseries + Cart Page":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e=document.querySelectorAll('meta[key="configType"]'),t=document.querySelectorAll('meta[key="subseries"]'),o="",n=0;n<e.length;n++)"MTM"!=e[n].content&&"CTO"!=e[n].content||(o=t[n].content);return o}}},"Movable Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("moveable-ink")&&getConsentVendors("moveable-ink")}}},"Target : Customecode Saving Percentage":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!!$('meta[name="productprice').attr("content")&&$('meta[name="productprice').attr("content"),t=$('meta[name="productInfo.promotionPrice').attr("content")?$('meta[name="productInfo.promotionPrice').attr("content"):$('meta[name="productInfo.salePrice').attr("content");if(e&&t)return e=parseFloat(e.replace(/[^0-9\-]+/g,"")),t=parseFloat(t.replace(/[^0-9\-]+/g,"")),Math.floor((e-t)/e*100)}}},"Add to Cart Promo Deals":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("CTO"===lmd.configType)return 1}}},"Connexity Cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"connexity_cnxclid_na"}},"Adform Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0===document.querySelector("meta[name=country]")||"br"!=document.querySelector("meta[name=country]").content.toLowerCase()||void 0!==getConsentVendors("adform")&&getConsentVendors("adform")}}},"XDM Object for Internal Search : No Result Suggested Word":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : No Result Suggested Word",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event204:{value:1}},customDimensions:{eVars:{eVar2:"%Internal Search Term Main%",eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar109:"%Internal Search: No result: Suggested Index%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar158:"%Internal Search : No Result Suggested Word%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Custom Dimension - props Object - SR Cart View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return{prop3:_satellite.getVar("URL"),prop36:_satellite.getVar("cc"),prop7:_satellite.getVar("sectionDetail"),prop22:_satellite.getVisitorId().getMarketingCloudVisitorID()}}catch(e){}}}},"event 1-100 Object : Product Page Video View :  All Site (Hybris)":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=lmd.productid,n=getValOnce(";"+o,"s_eVar57",0),r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovouspub"==a){t={event98:{value:.35},event30:{value:.35}};var s=localStorage.getItem("score");e=(parseFloat(s)+.49).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovofrpub"==a?(t={event98:{value:.29},event30:{value:.29}},s=localStorage.getItem("score"),e=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovochpub"==a?(t={event98:{value:.25},event30:{value:.25}},s=localStorage.getItem("score"),e=(parseFloat(s)+.25).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovomypub"==a?(t={event98:{value:.22},event30:{value:.22}},s=localStorage.getItem("score"),e=(parseFloat(s)+.22).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovobrpub"==a&&(t={event98:{value:.6},event30:{value:.6}},s=localStorage.getItem("score"),e=(parseFloat(s)+.6).toFixed(2),console.log("Final Engagement Score: ",e))}return t}catch(e){console.log("Exception in event1-100 object for Product Page Video View All Site (Hybris)",e)}}}},"Custom Dimension - eVars Object - DCR Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=lmd.cart.allProducts;for(i=0;i<1;i++)e[i].productID=e[i].productID.indexOf("-")>0?e[i].productID.split("-")[0]:e[i].productID;var t=e[e.length-1];return{eVar1:_satellite.getVar("internalPromotion"),eVar5:_satellite.getVar("Country Code"),eVar12:_satellite.getVar("storeID"),eVar13:_satellite.getVar("eCoupon"),eVar15:_satellite.getVar("Section Details"),eVar19:_satellite.getVar("lmd_repID"),eVar32:_satellite.getVar("Business unit"),eVar50:_satellite.getVar("Cart/Checkout ID"),eVar58:_satellite.getVar("pageName"),eVar63:_satellite.getVar("Report Suite"),eVar75:_satellite.getVar("URL"),eVar85:String(t.Source),eVar147:_satellite.getVar("Language"),eVar169:_satellite.getVar("ECID"),eVar171:_satellite.getVar("User Agent"),eVar179:String(lmd.facetsfinalselection),eVar180:_satellite.getVar("BPID")|_satellite.getVar("storeID"),eVar193:_satellite.getVar("GroupID")}}catch(e){}}}},"Recommended Index":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.recommendedIndex"}},"Target : LenovoProTier":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.smbdetails}}},"XDM Object - Track Order ID":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Track Order ID",type:"other",linkClicks:{value:1}},webPageDetails:{name:"%pageName%"}},_experience:{analytics:{customDimensions:{eVars:{eVar110:"%purchase:orderID%"}}}}},sandbox:{name:"prod"}}},pageName:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={cc:"ww",language:"en",section:"",subsection:""};try{if(location.hostname.match(/^www[0-9]*\.lenovo\.com$/)||"lenovo.com"===location.hostname)e.section="home";else{var t=location.hostname.match(/(.*)\.lenovo\.com/);e.section=t?t[1]:location.hostname}var o=location.pathname.match(/^\/([a-zA-Z]{2})\/([a-zA-Z]{2})(\/.*|$)/);if(o&&4===o.length)e.cc=o[1],e.language=o[2],"/"!==o[3]&&""!==o[3]&&(e.subsection=o[3]);else{e.subsection=location.pathname;try{if(e.subsection.match(/seuilibrary.*\/(.*)/i)){var n=e.subsection.match(/seuilibrary.*\/(.*)/i)[1].replace(".workflow","");if(e.subsection.match(/\/([^\/]*)\/stdaffinityportal/i)){var r=location.pathname.match(/\/([^\/]*)\/stdaffinityportal/i)[1];e.subsection="/"+r+"/"+n}else location.pathname.match(/enterstdaffinity/i)&&_satellite.getVar("url_qsp_affinity")?(r=_satellite.getVar("url_qsp_affinity"),e.subsection="/"+r+"/"+n):e.subsection="/"+n;location.pathname.match(/catalog\.workflow\:item\.detail/i)&&_satellite.getVar("url_qsp_accessoryCode")&&(e.subsection="/catalog:item:detail/"+_satellite.getVar("url_qsp_accessoryCode")+"/")}else if(location.hostname.match("checkout.lenovo.com")){var a=_satellite.getVar("lmd_analyticsName");if(a)e.subsection="/"+a;else{var s=_satellite.getVar("digitalRiver_pageID");s&&(e.subsection="/"+s)}}}catch(e){}}}catch(e){console.log("Error in first catch of pageName",e)}try{var c=_satellite.getVar("Country Code");void 0!==c&&(e.cc=c);var i=_satellite.getVar("Language");return void 0!==i&&(e.language=i),"undefined"!=typeof lmd&&(lmd.section&&(e.section=lmd.section),lmd.subsection&&(e.subsection=lmd.subsection)),e.subsection=decodeURI(e.subsection).replace(/\//g,":").replace(/\.[^\/]*$/,"").replace(/:$/,""),e.subsection.match(/.+:index$/)&&e.subsection.replace(/:index$/,"",""),(location.hostname.match(/^www[0-9]*\.lenovo\.com$/)||"lenovo.com"===location.hostname)&&(e.section="home"),""!==e.subsection?"home"===e.section?e.cc+"_"+e.language+e.subsection:e.cc+"_"+e.language+":"+e.section+(""!==e.subsection?e.subsection:""):e.cc+"_"+e.language+":"+e.section}catch(e){console.log("Error in last catch of pageName",e)}}}},"Payment Gateway":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.shoploginInfo.paymentGateway"}},"Registration Lenovo ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.lenovoID&&null!==lmd.lenovoID?lmd.lenovoID.toString():""}}},"Top Suggested":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.topSuggested"}},"Evidon Consent Checker BR":{storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(t,o){if(t===o)return!0;if("object"!=typeof t||null===t||"object"!=typeof o||null===o)return!1;let n=Object.keys(t),r=Object.keys(o);if(n.length!==r.length)return!1;for(let a of n)if(!r.includes(a)||!e(t[a],o[a]))return!1;return!0}function t(){var t=localStorage.getItem("evidonBRCheck"),o=localStorage.getItem("_evidon_consent_ls_40895");if(!t)return!1;if(!o)return!0;try{return e(JSON.parse(t),JSON.parse(o))}catch(e){return console.error("Error parsing JSON:",e),!1}}return!!t()}}},"Internal Search: No result recommended/ best seller product index":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd&&lmd.productIndex?String(lmd.productIndex):""}}},"Product Quantity Arr":{defaultValue:"Not Set",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("Cart Product Name")&&""!=_satellite.getVar("Cart Product Name")?_satellite.getVar("Cart Product Quantity"):void 0!==_satellite.getVar("Purchase Product Name Arr")&&""!==_satellite.getVar("Purchase Product Name Arr")?_satellite.getVar("Purchase Product Quantity Arr"):"1"}}},"Anchor Tab Value":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.anchorTab"}},"XDM Object - Internal Search : Product Category":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : Product Category",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%events 1-100 Object - Internal Search : Product Category%",event201to300:{event210:{value:1}},event301to400:"%events 301-400 Object - Internal Search : Product Category%",customDimensions:{eVars:"%Custom Dimension - eVars Object - Internal Search : Product Category%"}}},productListItems:"%Product List - Internal Search : Product Category%"},sandbox:{name:"prod"}}},"Evidon - Advertising (DOM)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.regioncode&&("latam"==lmd.regioncode.toLowerCase()&&"br"!==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"au"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"nz"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"mea"==lmd.regioncode.toLowerCase()||"ca"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"jp"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()))return!0;if(void 0!==_satellite.getVar("Evidon Cookie")&&void 0!==JSON.parse(_satellite.getVar("Evidon Cookie")).categories&&(cookie_category=JSON.parse(_satellite.getVar("Evidon Cookie")).categories),"undefined"!=typeof cookie_category&&void 0!==cookie_category[1])return 1==cookie_category[1]||void 0!==cookie_category[1].advertising&&1==cookie_category[1].advertising;if("undefined"==typeof cookie_category||void 0===cookie_category[1]){if(1!=_satellite.getVar("GDPR Compliant Countries"))return!(null!=window.evidon&&null!=window.evidon.notice&&null!=window.evidon.notice.userGpcEnabled&&1==window.evidon.notice.userGpcEnabled&&"us"==lmd.cc.toLowerCase()||null!=navigator.globalPrivacyControl&&1==navigator.globalPrivacyControl&&"us"==lmd.cc.toLowerCase());var e=_satellite.getVar("has_consent_cookie");if(null!=e&&(e.indexOf("advertising")>-1||e.indexOf("all")>-1))return!0}}}},"events 1-100 Object - Product Page Gallery View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid,o=getValOnce(";"+t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?e={event98:{value:.33},event30:{value:.33}}:"lenovouspub"==r?e={event98:{value:.54},event30:{value:.54}}:"lenovogbpub"==r?e={event98:{value:.5},event30:{value:.5}}:"lenovomypub"==r?e={event98:{value:.41},event30:{value:.41}}:("lenovoarpub"==r||"lenovomxpub"==r)&&(e={event98:{value:.69},event30:{value:.69}})}return e}catch(e){console.log("Error in events 1-100 Object - Product Page Gallery View "+e)}}}},"Plugin : getPreviousPage":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},"Custom Attribute Data elements":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"==_satellite.getVar("User Email ID")?_satellite.getVar("Hashed Email ID"):_satellite.getVar("User Email ID")}}},"Target : Meta Storeid":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="storeID"]'}},"Internal Search Selection Type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.searchCategory_facetvalue){var e=lmd.searchCategory_facetvalue.split("|");return e[e.length-1].split(":")[0]}}}},"Namogoo Localstorage":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=localStorage.getItem("nb");if(null!==e){let t=parseFloat(e);if(!isNaN(t))return String(t)}}}},"events 301-400 Object - Internal Search : Product Category":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(void 0!==lmd.searchCategory_ProductIndex&&(_satellite.getVar("Plugin : getValOnce"),getValOnce("s.products_event2","s_eVar57",0)&&sessionscoreengrfd<=100)){var t=_satellite.getVar("reportSuite");"lenovonzpub"==t?(e.event317={value:.35},e.event329={value:.35}):"lenovofrpub"==t?(e.event317={value:.63},e.event329={value:.63}):"lenovouspub"==t?(e.event317={value:.71},e.event329={value:.71}):"lenovogbpub"==t?(e.event317={value:.59},e.event329={value:.59}):"lenovokrpub"==t?(e.event317={value:.44},e.event329={value:.44}):"lenovothpub"==t?(e.event317={value:.35},e.event329={value:.35}):"lenovohkpub"==t?(e.event317={value:.83},e.event329={value:.83}):"lenovonopub"==t?(e.event317={value:.4},e.event329={value:.4}):"lenovomypub"==t?(e.event317={value:.81},e.event329={value:.81},console.log("Final Engagement Score coming from product category eventpart2: 0.81")):"lenovoinpub"==t?(e.event317={value:.5},e.event329={value:.5}):"lenovodkpub"==t?(e.event317={value:.76},e.event329={value:.76}):"lenovosepub"==t?(e.event317={value:.82},e.event329={value:.82}):"lenovofipub"==t?(e.event317={value:.59},e.event329={value:.59},e.event30={value:.59}):"lenovosgpub"==t?(e.event317={value:.6},e.event329={value:.6}):"lenovoptpub"==t&&(e.event317={value:.39},e.event329={value:.39})}return e}catch(e){console.log("Error in events 301-400 Object - Internal Search : Product Category"+e)}}}},"Story Name":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.StoryName"}},"event 301-400 Object : Homepage : Header Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){_satellite.logger.log(JSON.stringify(lmd,null,2),null,2);try{var e,t={},o=lmd.productid,n=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovochpub"==a){t={event317:{value:.7},event329:{value:.7}},console.log("Engagement Starting Score: ",e);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.7),e=(parseFloat(s)+.7).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovotwpub"==a?(t={event317:{value:.93},event329:{value:.93}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.93),e=(parseFloat(s)+.93).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovokrpub"==a?(t={event317:{value:1},event329:{value:1}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovonopub"==a?(t={event317:{value:.53},event329:{value:.53}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.53),e=(parseFloat(s)+.53).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovomypub"==a?(t={event317:{value:1},event329:{value:1}},onsole.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),
console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoaupub"==a?(t={event317:{value:1},event329:{value:1}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovodkpub"==a?(t={event317:{value:.94},event329:{value:.94}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.94),e=(parseFloat(s)+.94).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovogbpub"==a?(t={event317:{value:.89},event329:{value:.89}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.89),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoinpub"==a?(t={event317:{value:.83},event329:{value:.83}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.83),e=(parseFloat(s)+.83).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovofipub"==a?(t={event317:{value:.65},event329:{value:.65}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.65),e=(parseFloat(s)+.65).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovosgpub"==a?(t={event317:{value:.5},event329:{value:.5}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.5),e=(parseFloat(s)+.5).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoptpub"==a?(t={event317:{value:.72},event329:{value:.72}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.72),e=(parseFloat(s)+.72).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoespub"==a&&(t={event317:{value:1},event329:{value:1}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e));localStorage.setItem("score",e)}return t}catch(e){console.log("Exception in event 301-400 Object : Homepage : Header Tracking",e)}}}},"Custom Dimension : eVar Object : Product Page Video View :  All Site (Hybris)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=lmd.productid,n=getValOnce(";"+o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovouspub"==a){t.eVar57="Product Video Views|0.35",t.eVar219="+0.35",t.eVar221="+0.35",t.eVar219;var s=localStorage.getItem("score");e=(parseFloat(s)+.49).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovofrpub"==a?(t.eVar57="Product Video Views|0.29",t.eVar219="+0.29",t.eVar221="+0.29",t.eVar219,s=localStorage.getItem("score"),e=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovochpub"==a?(t.eVar57="Product Video Views|0.25",t.eVar219="+0.25",t.eVar221="+0.25",t.eVar219,s=localStorage.getItem("score"),e=(parseFloat(s)+.25).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovomypub"==a?(t.eVar57="Product Video Views|0.22",t.eVar219="+0.22",t.eVar221="+0.22",t.eVar219,s=localStorage.getItem("score"),e=(parseFloat(s)+.22).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovobrpub"==a&&(t.eVar57="Product Video Views|0.60",t.eVar219="+0.60",t.eVar221="+0.60",t.eVar219,s=localStorage.getItem("score"),e=(parseFloat(s)+.6).toFixed(2),console.log("Final Engagement Score: ",e));localStorage.setItem("score",e)}return t}catch(e){console.log("Exception in evars object for Product Page Video View All Site (Hybris)",e)}}}},"Reddit UID":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_rdt_uuid"}},lmd_repID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.repID"}},"Lenovo ID":{defaultValue:"",forceLowerCase:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.lenovoID&&null!==lmd.lenovoID?lmd.lenovoID.toString():""}}},"Product List - Purchase Target Flash":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t="";for(x=0;x<e.length;x++)e[x].productcode=e[x].productcode.indexOf("-")>0?e[x].productcode.split("-")[0]:e[x].productcode,t+=""==t?e[x].productcode+"_"+_satellite.getVar("storeID"):","+e[x].productcode+"_"+_satellite.getVar("storeID");return t}}}},"GA Client ID":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_ga"}},"Bazaarvoice Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0===document.querySelector("meta[name=country]")||"br"!=document.querySelector("meta[name=country]").content.toLowerCase()||void 0!==getConsentVendors("bazaarvoice")&&getConsentVendors("bazaarvoice")}}},"Target : loyaltyuserType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=lmd.loyaltyuserType;if(e)return e}catch(e){console.log("Error in product view event"+e)}}}},"XDM Object For Confirmit Survey Next":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Confirmit Survey Next",linkClicks:{value:1}}},_experience:{analytics:{event301to400:{event321:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"User Acceptance (e414)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("Get Consent from LS");return e&&(e.indexOf("all")>-1||e.indexOf("analytics")>-1)?1:0}catch(e){console.log("Error in User Acceptance(e414) DE",e.message)}}}},"Purchase : Product List Price":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.purchase&&lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(e[o].price);return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"events 501-600 Object : Confirmit_Survey_Finish":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return void 0!==window.lmd&&void 0!==window.lmd.survey&&(window.lmd.survey.recommendation>=9&&window.lmd.survey.recommendation<=10&&(e.event512={value:1}),window.lmd.survey.recommendation>=0&&window.lmd.survey.recommendation<=6&&(s.events=s.apl(s.events,"event513",",",1),e.event513={value:1})),e}catch(e){}}}},"is CSAT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().includes("mxcsat")}}},"Purchase ID":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.purchaseID"}},"Target : Marketing Bullets":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.href.indexOf("accessories")>-1?$('meta[name="description"]').attr("content").replace(/"/g,"\u201d").replace(/'/g,"\u2019"):$('meta[name="Marketing_Bullets"]').attr("content").replace(/"/g,"\u201d").replace(/'/g,"\u2019")}}},"XDM Object for target":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Target Tool Loaded : Global Mbox",linkClicks:{value:0}},webPageDetails:{name:"%pageName%",pageViews:{value:0}}}},sandbox:{name:"prod"}}},"Target Global Profile Paramaters":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={__adobe:{target:{}}};try{""!==sessionStorage.segmentLISA&&(e.__adobe.target.LISAbucket=sessionStorage.segmentLISA),""!==_satellite.getVar("LISA Engagement RFD Score")&&(e.__adobe.target.LISA=_satellite.getVar("LISA Engagement RFD Score")),e.__adobe.target.pageName=_satellite.getVar("pageName"),_satellite.getVar("Target : Page Type")&&(e.__adobe.target.pageType=_satellite.getVar("Target : Page Type")),""!==_satellite.getVar("Target : EntityID TargetNew StoreID 2")&&(e.__adobe.target["entity.id"]=_satellite.getVar("Target : EntityID TargetNew StoreID 2")),_satellite.getVar("Target : Inventory")&&(e.__adobe.target.inventory=_satellite.getVar("Target : Inventory")),e.__adobe.target.LenovoProTier=_satellite.getVar("Target : LenovoProTier"),e.__adobe.target["entity.geo"]=_satellite.getVar("Target : Country"),e.__adobe.target["entity.storeName"]=_satellite.getVar("html_meta_storeID"),e.__adobe.target.browserWidth=_satellite.getVar("Target : Browser Width"),e.__adobe.target.businessType=_satellite.getVar("Target : Business Type"),_satellite.getVar("Target : Entity Brand New")&&(e.__adobe.target["entity.brand"]=_satellite.getVar("Target : Entity Brand New")),e.__adobe.target.taxonomyType=_satellite.getVar("Target : Taxonomy Type V1"),""!==_satellite.getVar("Target : Meta Entity Series New")&&(e.__adobe.target["entity.series"]=_satellite.getVar("Target : Meta Entity Series New")),e.__adobe.target["LISA Raw Score"]=_satellite.getVar("LISA Raw Score"),_satellite.getVar("Target : PageBreadcrumb")&&(e.__adobe.target.pageBreadcrumb=_satellite.getVar("Target : PageBreadcrumb")),_satellite.getVar("Target : LISA Subseries Subseries+Cart")&&(e.__adobe.target.LISAsubseriesID=_satellite.getVar("Target : LISA Subseries Subseries+Cart")),""!==_satellite.getVar("Target : Category ID CustomCode")&&(e.__adobe.target["entity.storeName"]=_satellite.getVar("Target : Store ID")),""!==_satellite.getVar("Target : Category ID CustomCode")&&(e.__adobe.target["entity.productCategory"]=_satellite.getVar("Target : Category ID CustomCode")),""!==_satellite.getVar("Target : Category ID CustomCode")&&(e.__adobe.target["entity.categoryId"]=_satellite.getVar("Target : Category ID CustomCode")),""!==_satellite.getVar("Target : Meta ConfigType 1")&&(e.__adobe.target["entity.configType"]=_satellite.getVar("Target : Meta ConfigType 1")),""!==_satellite.getVar("Target : ProductType CustomCode")&&(e.__adobe.target["entity.productType"]=_satellite.getVar("Target : ProductType CustomCode")),""!==_satellite.getVar("Target : Entity Subseseries ID Meta")&&(e.__adobe.target["entity.subseriesID"]=_satellite.getVar("Target : Entity Subseseries ID Meta")),""!==_satellite.getVar("Target : ProductStatus Meta")&&(e.__adobe.target["entity.productStatus"]=_satellite.getVar("Target : ProductStatus Meta")),e.__adobe.target.ipromoid=new URLSearchParams(window.location.search).get("IPromoID"),e.__adobe.target.LISAPropensityClassification=_satellite.getVar("LISA Model Classification"),e.__adobe.target["entity.URL"]=_satellite.getVar("URL"),0<$(".productcartHeader").length&&-1<$(".productcartHeader").text().trim().toLowerCase().indexOf("legion")&&(e.__adobe.target.isGamingProductPresent=!0)}catch(e){}return e}}},"Evidon - US Condition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"latam"==lmd.regioncode.toLowerCase()&&"br"!==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"au"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"nz"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"mea"==lmd.regioncode.toLowerCase()||"ca"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"jp"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||(void 0!==_satellite.getVar("Evidon Cookie")&&void 0!==JSON.parse(_satellite.getVar("Evidon Cookie")).categories&&(cookie_category=JSON.parse(_satellite.getVar("Evidon Cookie")).categories),"undefined"==typeof cookie_category||void 0===cookie_category[1]||1==cookie_category[1]||void 0!==cookie_category[1].analytics&&1==cookie_category[1].analytics)}}},"cart:products":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=lmd.cart.allProducts,t="";for(x=0;x<e.length;x++)if(""==t){var o=e[x].itadminrecommend;t+=void 0!==o?";"+e[x].productID+";;;;eVar23="+e[x].itadminrecommend:";"+e[x].productID}else t+=void 0!==o?",;"+e[x].productID+";;;;eVar23="+e[x].itadminrecommend:",;"+e[x].productID;return t}catch(e){console.log("Error in products"+e)}}}},"LA - Not Flash Platform":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"flash"===lmd.platform.toString().toLowerCase()||"preview"===lmd.platform.toString().toLowerCase()}}},"Marketing Toggle":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!(document.domain.toLowerCase().includes("truscale")||document.URL.toLowerCase().includes("billdeskload")||document.URL.toLowerCase().includes("mid_loading")||document.URL.toLowerCase().includes("/forget")||document.URL.toLowerCase().includes("/reset")||document.referrer.toLowerCase().includes("/reset")||document.URL.toLowerCase().includes("/what-is-hotmail-preview"))}}},"Namogoo Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase()?void 0!==getConsentVendors("namogoo")&&getConsentVendors("namogoo"):"br"!=lmd.cc.toLowerCase()||void 0}}},"XDM Object for Internal Search : Facet Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : Facet Tracking",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event501to600:{event511:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar126:"%Internal Search Selection Type%",eVar127:"%Internal Search Selection Value%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"GCLID Query String":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("GCLID QSP");return null!=e?e.toString():""}}},pageTitle:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.PageTitle"}},"Survey Finish":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){void 0!==window.lmd&&void 0!==window.lmd.survey&&(s.eVar119=lmd.survey.respondentid,s.eVar141=lmd.survey.surveytype,s.eVar135=lmd.survey.satisfaction,s.eVar136=lmd.survey.purposeofvisit,s.eVar227=lmd.survey.purposecomplete,s.eVar228=lmd.survey.easeofuse,s.eVar229=lmd.survey.recommendation)}}},"Internal Search Location Main":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.intSearchLoc"}},"XDM Object For Confirmit Survey Start":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Confirmit Survey Start",linkClicks:{value:1}}},_experience:{analytics:{event301to400:{event320:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Custom Dimension : events 101-200 Object : Virtual Page Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return void 0!==lmd.errorType&&void 0!==lmd.errorDetail&&""!==lmd.errorType&&""!==lmd.errorDetail&&(e.event103={value:1}),e}catch(e){}}}},"DCSC Global Product List Items":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[],o={};try{switch(e.identifier){case"dcsc-summary-complete":case"dcsc-workspace-complete":case"dcsc-integrated-workspace-complete":for(var n=lmd.dcsc.workspace.productid,r=lmd.dcsc.workspace.configid,a=0,s=0;a<Object.keys(n).length&&s<r.length;a++,s++)(o={}).name=n[a].productid,o._experience={customDimensions:{eVars:{eVar163:r[s]}}},t.push(o)}return t}catch(e){console.log("Error in DCSC Product List -  DE"+e)}}}},"event 301-400 Object : Add to Cart : Product Page CTO":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid;_satellite.notify(JSON.stringify(lmd,null,2),null,2);var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovonzpub"==a){e={event317:{value:.59},event329:{value:.59}},console.log("Engagement Starting Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.59),o=(parseFloat(s)+.59).toFixed(2),console.log("Final Engagement Score: ",o)}else"lenovoinpub"==a?(e={event317:{value:.75},event329:{value:.75}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.75),o=(parseFloat(s)+.75).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovokrpub"==a?(e={event317:{value:.44},event329:{value:.44}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.44),o=(parseFloat(s)+.44).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovogbpub"==a?(e={event317:{value:.26},event329:{value:.26}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.26),o=(parseFloat(s)+.26).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovofipub"==a?(e={event317:{value:.41},event329:{value:.41}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.41),o=(parseFloat(s)+.41).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovosgpub"==a?(e={event317:{value:.55},event329:{value:.55}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.55),o=(parseFloat(s)+.55).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoptpub"==a?(e={event317:{value:.72},event329:{value:.72}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.72),o=(parseFloat(s)+.72).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoespub"==a&&(e={event317:{value:.29},event329:{value:.29}},console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.29),o=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score: ",o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in event 301-400 Object : Add to Cart : Product Page CTO",e)}}}},"Tele hybris + tun-c + pre-c":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"tele-hybris.lenovo.com"==location.hostname||"origin-tele-hybris.lenovo.com"==location.hostname||"pre-u-hybris.lenovo.com"==location.hostname||"test-tele-hybris.lenovo.com"==location.hostname||"tun-c-hybris.lenovo.com"==location.hostname}}},"SMB Login Segment":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.segment&&""!==lmd.segment?lmd.segment:""}}},"Criteo Consent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("criteo")&&getConsentVendors("criteo")}}},pageViewCount:{modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"sessionPageViewCount"}},"XDM Object for OMO Checkoutpage1":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"OMO Checkoutpage1",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event57:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%Page Name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar171:"%User Agent%",eVar192:"%Checkout omostoreID %",eVar193:"%GroupID%"}}}},productListItems:"%checkout:products%"},sandbox:{name:"prod"}}},"XDM Object for Add to Cart : Product Page MTM":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Add to Cart : Product Page MTM",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%event 1-100 Object : Add to cart : Product Page MTM%",event201to300:{event290:{value:1}},event301to400:"%event 301-400 Object : Add to cart : Product Page MTM%",customDimensions:{eVars:"%Custom Dimension : eVar Object : Add to cart : Product Page MTM%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:[{name:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"TA Index":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.TAindex"}},"Target : PageBreadcrumb":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='pageBreadcrumb']"}},"XDM Object for Product Compare":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Product Compare",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%Events 1-100 Object: Product Compare%",event301to400:"%Events 301-400 Object : Product Compare%",event401to500:{event499:{value:1}},customDimensions:{eVars:"%Custom Dimension : eVars Object : Product Compare%",props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Order allProduct Array":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e=[],t=lmd.purchase.allProducts,o=0;o<t.length;o++){var n={};n.price=lmd.purchase&&void 0!==t[o].price&&null!==t[o].price?parseFloat(t[o].price):"",n.productID=lmd.purchase&&void 0!==t[o].productID&&null!==t[o].productID?String(t[o].productID):"",n.productName=lmd.purchase&&void 0!==t[o].productName&&null!==t[o].productName?String(t[o].productName):"",n.quantity=lmd.purchase&&void 0!==t[o].quantity&&null!==t[o].quantity?parseInt(t[o].quantity):"",n.subseries=lmd.purchase&&void 0!==t[o].subseries&&null!==t[o].subseries?String(t[o].subseries):"",n.type=lmd.purchase&&void 0!==t[o].type&&null!==t[o].type?String(t[o].type):"",e.push(n)}return e}}},"events 301-400 Object - Promo Deals Learn More":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid;console.log("productscode");var o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?e={event317:{value:.27},event329:{value:.27}}:"lenovodepub"==r?e={event317:{value:.47},event329:{value:.47}}:"lenovofrpub"==r?e={event317:{value:.36},event329:{value:.36}}:"lenovokrpub"==r?e={event317:{value:.33},event329:{value:.33}}:"lenovochpub"==r?e={event317:{value:.45},event329:{value:.45}}:"lenovotwpub"==r?e={event317:{value:.63},event329:{value:.63}}:"lenovobrpub"==r&&(e={event317:{value:.71},event329:{value:.71}})}return e}catch(e){console.log("Error in events 301-400 Object - Promo Deals Learn More "+e)}}}},"Cart Product Quantity":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];if("undefined"!=typeof lmd&&void 0!==lmd.cart&&"undefined"!==lmd.cart.allProducts){var t=lmd.cart.allProducts;if(t.length>0)for(var o=0;o<t.length;o++)e.push(t[o].quantity)}return e}}},SheerIdSegment:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheerIdSegment']"}},"Custom Dimension : eVar Object : Add to Cart : Product Page CTO":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};e.eVar12=lmd.storeID,e.eVar5=e.prop36=lmd.cc,e.eVar58=e.prop12=lmd.pageName,e.eVar75=e.prop3=_satellite.getVar("URL"),e.eVar147=lmd.language,e.eVar15="PDP Product Page";var t=";"+lmd.productid;_satellite.notify(JSON.stringify(lmd,null,2),null,2);var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovonzpub"==a){e.eVar57="Product Page-Add to Cart|0.59",e.eVar219="+0.59",e.eVar221="+0.59",e.eVar219,console.log("Engagement Starting Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.59),o=(parseFloat(s)+.59).toFixed(2),console.log("Final Engagement Score: ",o)}else"lenovoinpub"==a?(e.eVar57="Product Page-Add to Cart|0.75",e.eVar219="+0.75",e.eVar221="+0.75",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.75),o=(parseFloat(s)+.75).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovokrpub"==a?(e.eVar57="Product Page-Add to Cart|0.44",e.eVar219="+0.44",e.eVar221="+0.44",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.44),o=(parseFloat(s)+.44).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovogbpub"==a?(e.eVar57="Product Page-Add to Cart|0.26",e.eVar219="+0.26",e.eVar221="+0.26",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.26),o=(parseFloat(s)+.26).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovofipub"==a?(e.eVar57="Product Page-Add to Cart|0.41",e.eVar219="+0.41",e.eVar221="+0.41",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.41),o=(parseFloat(s)+.41).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovosgpub"==a?(e.eVar57="Product Page-Add to Cart|0.55",e.eVar219="+0.55",e.eVar221="+0.55",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.55),o=(parseFloat(s)+.55).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoptpub"==a?(e.eVar57="Product Page-Add to Cart|0.72",e.eVar219="+0.72",e.eVar221="+0.72",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.72),o=(parseFloat(s)+.72).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoespub"==a&&(e.eVar57="Product Page-Add to Cart|0.29",e.eVar219="+0.29",e.eVar221="+0.29",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.29),o=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score: ",o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in Custom Dimension : eVar Object : Add to Cart : Product Page CTO",e)}}}},orderShipping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.purchase&&void 0!==lmd.purchase.shipping&&null!==lmd.purchase.shipping?parseFloat(lmd.purchase.shipping):0}}},"XDM Object For Promo Deals Add To Cart":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:" Promo Deals Add To Cart",type:"other",linkClicks:{value:1}},
webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event289:{value:"%Add to Cart Promo Deals%"},event290:{value:"%Add to Cart Promo Deals copy MTM%"}}}},productListItems:"%Product ID Common For Flash%"},sandbox:{name:"prod"}}},"Cart : Product List Quantity":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.cart&&lmd.cart.allProducts){var e=lmd.cart.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(Number(e[o].quantity));return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"CTA hyperlink":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.Hyperlink?isNaN(lmd.Hyperlink)||"string"==typeof lmd.Hyperlink?null!=lmd.Hyperlink?String(lmd.Hyperlink):"":0==lmd.Hyperlink?"":null!=lmd.Hyperlink?String(lmd.Hyperlink):"":""}}},"Target : Product Page & Order Confirmation Parameters Update":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if($("meta[name='platform']").attr("content"),window.location.href.indexOf("/p/")>-1){var e={},t={},o={};return o={"entity.id":_satellite.getVar("Target : EntityID TargetNew StoreID 2"),"entity.name":_satellite.getVar("Target : Entity Name"),"entity.productStatus":_satellite.getVar("Target : Meta Productstatus 2"),browserWidth:_satellite.getVar("Target : Browser Width"),"entity.os":_satellite.getVar("Target : OS"),"entity.hd":_satellite.getVar("Target : Meta HD"),"entity.geo":_satellite.getVar("Target : Country"),"entity.message":_satellite.getVar("Target : Marketing Bullets"),"entity.brand":_satellite.getVar("Target : Entity Brand New"),"entity.value":_satellite.getVar("Target : Entity Value"),"entity.series":_satellite.getVar("Target : Entity Series"),"entity.display":_satellite.getVar("Target : Meta Display"),"entity.memory":_satellite.getVar("Target : Meta Memory"),"entity.pageUrl":_satellite.getVar("Target : Customcode Pageurl"),"entity.inventory":_satellite.getVar("Target : Meta Inventory"),"entity.processor":_satellite.getVar("Target : Customcode Processor"),"entity.saleValue":_satellite.getVar("Target : Customecode Saleprice"),"entity.storeName":_satellite.getVar("Target : Meta Storeid"),"entity.categoryId":_satellite.getVar("Target : Customecode Categoryid"),"entity.productCategory":_satellite.getVar("Target : Customecode Categoryid"),"entity.configType":_satellite.getVar("Target : Meta Configtype 2"),"entity.subseriesID":_satellite.getVar("Target : Meta Entity Subseriesid"),"entity.thumbnailUrl":_satellite.getVar("Target : Entity ThumbnailUrl"),"entity.productType":_satellite.getVar("Target : Customecode Product Type"),"entity.leadTime":_satellite.getVar("Target : Customecode Lead Time"),"entity.percentageOfSaving":_satellite.getVar("Target : Customecode Saving Percentage"),"user.categoryId":_satellite.getVar("Target : Customecode Categoryid"),"entity.listValue":_satellite.getVar("html_customcode_listvalue_lmd"),"entity.ratingAverage":_satellite.getVar("Target : Rating Average"),taxonomyType:_satellite.getVar("Target : Meta Taxonomy Type"),sheeridverified:_satellite.getVar("Target : sheeridverified"),userType:_satellite.getVar("Target : userType"),loyaltyuserType:_satellite.getVar("Target : loyaltyuserType"),deviceType:_satellite.getVar("Target : deviceType"),segment:_satellite.getVar("Target : segment"),persona:_satellite.getVar("Target : persona"),smbdetails:_satellite.getVar("Target : smbdetails"),value:_satellite.getVar("Target : value")},e.target=o,t.__adobe=e,t}if(window.location.href.indexOf("/checkout/orderConfirmation")>-1){e={},t={};var n={};return n={orderId:_satellite.getVar("Target : Purchase OID"),orderTotal:_satellite.getVar("Target : Revenue"),productPurchasedId:_satellite.getVar("Target : PID StoreID New"),at_property:_satellite.getVar("Target : AT Property Code")},e.target=n,t.__adobe=e,t}if(window.location.href.indexOf("checkout.lenovo.com")>-1&&(window.location.href.indexOf("reqID=")>-1||window.location.href.indexOf("requisitionID=")>-1))return e={},t={},n={},n={orderId:_satellite.getVar("Target : Purchase OID"),orderTotal:_satellite.getVar("Target : Revenue"),productPurchasedId:_satellite.getVar("Target : PID StoreID New")},e.target=n,t.__adobe=e,t}catch(e){console.log("Error in Data Element Target : Product Page & Order Confirmation Parameters Update"+e)}}}},"util:isValidProdDomain":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(location.hostname.match(/.*\.?lenovo\.com$/)||"lenovo.com"===location.hostname||"lenovo.secure.force.com"===location.hostname)return!0;for(var e=["store.digitalriver.com","lenovo.secure.force.com","survey.us.confirmit.com","opinionlab.com","subs-maint.com","lenovojp.com","lenovonavigator.com","shop.lenovo.ru","lenovooffers.com","shop.lenovo.ua","www.shoplenovo.co.in","lenovozone.pl","motorolapolska.pl","lenovogaming.pl","buyalenovo.com","lenovo.hashconnect.in","lenovobeijing.sharepoint.com","windows.lenovo.com.yextpages.net","www.lenovopartnerhub.com","lenovobeijing.sharepoint.com","www.lenovo.com","lenovolatenightit.cio.com"],t=0;t<e.length;t++)if(location.hostname.match(new RegExp(".*\\."+e[t].replace(".","\\.")+"$"))||location.hostname===e[t])return!0;return!1}}},"XDM Object for Pop Up tracking rule: Temp unavail EOL  recommendation":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Pop Up tracking rule: Temp unavail EOL  recommendation",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event29:{value:1}},customDimensions:{eVars:{eVar23:"Popup : Temp unavail EOL  recommendation"}}}}},sandbox:{name:"prod"}}},"User ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.userID&&null!==lmd.userID?lmd.userID.toString():""}}},"Custom Dimension - props Object - SR Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return{prop3:_satellite.getVar("URL"),prop36:_satellite.getVar("cc"),prop7:_satellite.getVar("sectionDetail"),prop22:_satellite.getVisitorId().getMarketingCloudVisitorID()}}catch(e){}}}},"Fusion Exp ID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.fusionExpID"}},"Target : Revenue":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=0;void 0!==lmd.purchase&&void 0!==lmd.purchase.allProducts&&(e=lmd.purchase.allProducts);var t,o="";for(x=0;x<e.length;x++){e[x].productID=e[x].productID.indexOf("-")>0?e[x].productID.split("-")[0]:e[x].productID,o+=""==o?";"+e[x].productID:",;"+e[x].productID;var n=0;if(void 0!==e[x].quantity?((n=parseInt(e[x].quantity))+""=="NaN"&&(quanity=0),o+=";"+e[x].quantity):o+=";",void 0!==e[x].USDPrice&&0!==n){var r=0;(a=parseFloat(e[x].USDPrice.toString().replace(",","")))+""=="NaN"&&(a=0),"function"==typeof(r=a*n).toFixed?o+=";"+r.toFixed(2):o+=";"+r}else if(void 0!==e[x].priceUSD&&0!==n){var a;r=0,(a=parseFloat(e[x].priceUSD.toString().replace(",","")))+""=="NaN"&&(a=0),"function"==typeof(r=a*n).toFixed?o+=";"+r.toFixed(2):o+=";"+r}else o+=";";if(0==x){var s=lmd.purchase.shipping,c=lmd.purchase.tax;void 0!==s?(o+=";event60="+s,void 0!==c&&(o+="|event61="+c)):o+=void 0!==c?";event61="+c:";"}else o+=";";var l=e[x].bundleID;void 0!==l&&0!==n&&(o+=";eVar25="+l)}if(""!=(t=o)){var d,u,m;d=t.split(","),u=parseFloat(d[0].split("event60=").pop().split("|")[0]),m=parseFloat(d[0].split("|event61=").pop().split(";eVar25=")[0]);var g,p=[],f=0;for(i=0;i<d.length;i++){var _=parseFloat(d[i].split(";")[3]);p.push(_),f+=_}g=parseFloat(u+m+f).toFixed(2)}return g?g.toString():""}}},"Custom Dimension : Props Object : Virtual Page Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return void 0!==window.lmd.intSearchTerms&&(e.prop31=lmd.intSearchTerms),"0"!==lmd.intSearchCount&&0!==lmd.intSearchCount||(e.prop23="0"),(lmd.intSearchCount>"0"||lmd.intSearchCount>0)&&(e.prop23=lmd.intSearchCount),void 0!==lmd.errorType&&void 0!==lmd.errorDetail&&""!==lmd.errorType&&""!==lmd.errorDetail&&(e.prop55=lmd.errorType+":"+lmd.errorDetail),e.prop12=lmd.pageName,e}catch(e){}}}},"XDM Object For IDME Cart Page Canada (Hybris)":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"IDME Cart Page : Canada (Hybris)",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event279:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"%Idme Info%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar173:"%Idme Info%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"DCR Global Event Object 301-400":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e){n.event317={value:e},n.event329={value:e}}function o(e){n.event329={value:e}}var n={};try{switch(e.identifier){case"dcgCustomInteraction":n.event340={value:1};break;case"DCG_LetsTalk":case"DCG_Contactus":n.event309={value:1};break;case"DCG_ServicesNeeds":n.event310={value:1};break;case"recommend_cart_add":var r=getValOnce("s_event_part2","s_eVar57",0),a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(r&&a<=100)switch(_satellite.getVar("reportSuite")){case"lenovonzpub":t(.36);break;case"lenovodepub":t(.41);break;case"lenovofrpub":t(.25);break;case"lenovogbpub":t(.27);break;case"lenovochpub":t(.45)}break;case"BusinesDirect Call":var s=lmd.productid;if(r=getValOnce(s,"s_eVar57",0),a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),r&&a<=100)switch(_satellite.getVar("reportSuite")){case"lenovodepub":case"lenovofrpub":o(1);break;case"lenovonzpub":o(.86);break;case"lenovoaupub":case"lenovoglobaldev":o(.82)}break;case"PDP_ATCustomize":n=_satellite.getVar("event 301-400 Object : Add to Cart : Product Page CTO");break;case"PDP_ATCart":if(s="s_event_MTMpart2",r=getValOnce(s,"s_eVar57",0),a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),r&&a<=100)switch(_satellite.getVar("reportSuite")){case"lenovoaupub":case"lenovogbpub":t(.89);break;case"lenovonzpub":case"lenovothpub":t(1);break;case"lenovouspub":t(.5);break;case"lenovodepub":t(.74);break;case"lenovokrpub":t(.78);break;case"lenovofrpub":case"lenovomypub":t(.67);break;case"lenovoinpub":t(.58);break;case"lenovosepub":t(.73);break;case"lenovosgpub":t(.7);break;case"lenovoptpub":t(.83);break;case"lenovoespub":t(.88)}break;case"smb_re_addtocart":n.event304={value:1}}return n}catch(e){console.log("Error in DCR Global Event Object 301-400 DE",e)}}}},"events 301-400 Object - DCR Checkout 1":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=_satellite.getVar("getCheckoutProduct"),o=getValOnce(t,"s_eVar57",0);e.event340={value:1};var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");if("lenovonzpub"==r){e.event317={value:.88},e.event329={value:.88};var a=localStorage.getItem("score");(parseFloat(a)+.88).toFixed(2)}else"lenovotwpub"==r?(e.event317={value:1},e.event329={value:1},a=localStorage.getItem("score"),(parseFloat(a)+1).toFixed(2)):"lenovoinpub"==r&&(e.event317={value:.33},e.event329={value:.33},a=localStorage.getItem("score"),(parseFloat(a)+.33).toFixed(2))}return e}catch(e){console.log("Error in DCR checkout 1 events 301-400 "+e)}}}},"Typed Term":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.typedterm"}},orderShippingZip:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.purchase&&void 0!==lmd.purchase.shippingZip&&null!==lmd.purchase.shippingZip?lmd.purchase.shippingZip:""}}},URL:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.location.href"}},"DCR Global Event Object 201-300":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{switch(e.identifier){case"SeeMore_Clicked":t.event284={value:1};break;case"SolutionBriefs_Clicked":t.event283={value:1};break;case"recommend_cart_add":t.event224={value:1};break;case"BusinesDirect Call":t.event230={value:1};break;case"PDP_ATCustomize":t.event289={value:1};break;case"Compared_And_Cart_Addition":t.event285={value:1};break;case"PDP_ATCart":t.event290={value:1};break;case"PDPAccessory_ATCart":t.event293={value:1}}return t}catch(e){console.log("Error in DCR Global Event Object 201-300 DE",e)}}}},"XDM Object For Product Reorder":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Product Reorder",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{event301to400:{event302:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"XDM Object for Pop Up tracking rule: Entrance email Capture Cancel":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Pop Up tracking rule: Entrance email Capture Cancel",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event29:{value:1}},customDimensions:{eVars:{eVar23:"Popup : Entrance email Capture Cancel"}}}}},sandbox:{name:"prod"}}},"Only CO":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc&&lmd.cc.toString().toLowerCase()=="co".toLowerCase()}}},"Cart/Checkout ID":{storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.cart&&void 0!==lmd.cart.cartID?(sessionStorage.cartID=lmd.cart.cartID,lmd.cart.cartID):void 0!==lmd.checkout&&void 0!==lmd.checkout.cartID?lmd.checkout.cartID:void 0!==sessionStorage.cartID?sessionStorage.cartID:void 0}}},"CTA productID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.productID"}},"Tealium ATC Product":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.cart.event.productID"}},"Reddit Click Id Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"rdt_cid",caseInsensitive:!0}},"Subseries Value":{defaultValue:"1800",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("subseriespage"==lmd.taxonomytype)return document.getElementsByTagName("meta").productpromotionprice.content}}},ResponsysID:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"rrid",caseInsensitive:!0}},"Events 301-400 Object : Product Page 360 View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid;console.log("test the call",+t);var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovouspub"==a){e={event317:{value:.15},event329:{value:.15}},console.log("Starting Engagement Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.15),o=(parseFloat(s)+.15).toFixed(2),console.log("Final Engagement Score:"+o)}else"lenovofrpub"==a?(e={event317:{value:.29},event329:{value:.29}},console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.29),o=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score:"+o)):"lenovonzpub"==a?(e={event317:{value:.14},event329:{value:.14}},console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.14),o=(parseFloat(s)+.14).toFixed(2),console.log("Final Engagement Score:"+o)):"lenovodepub"==a?(e={event317:{value:.48},event329:{value:.48}},console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.48),o=(parseFloat(s)+.48).toFixed(2),console.log("Final Engagement Score:"+o)):"lenovoinpub"==a&&(e={event317:{value:.17},event329:{value:.17}},console.log("Starting Engagement Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Score added: ",.17),o=(parseFloat(s)+.17).toFixed(2),console.log("Final Engagement Score:"+o));localStorage.setItem("score",o)}return e}catch(e){console.log("Exception in events 301-400 object for product page 360 view",e)}}}},"XDM Object - DCR Cart Removal":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Cartremoval"}},commerce:{productListViews:{value:1},productListRemovals:{value:1}},_experience:{analytics:{event1to100:{event23:{value:1},event59:{value:1}}}},environment:{domain:"%domain%"}},sandbox:{name:"prod"}}},"Facet Index":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.facets.categoryindex"}},"Snapchat ScCid":{storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"ScCid",caseInsensitive:!0}},"Total Discount":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.purchase.eCouponDiscount"}},Domain:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.location.hostname"}},"LPP Bid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"LPP: "+lmd.bid}}},"event 301-400 Object : Product Page Video View :  All Site (Hybris)":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=lmd.productid,n=getValOnce(";"+o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovouspub"==a){t={event317:{value:.35},event329:{value:.35}};var s=localStorage.getItem("score");e=(parseFloat(s)+.49).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovofrpub"==a?(t={event317:{value:.29},event329:{value:.29}},s=localStorage.getItem("score"),e=(parseFloat(s)+.29).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovochpub"==a?(t={event317:{value:.25},event329:{value:.25}},s=localStorage.getItem("score"),e=(parseFloat(s)+.25).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovomypub"==a?(t={event317:{value:.22},event329:{value:.22}},s=localStorage.getItem("score"),e=(parseFloat(s)+.22).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovobrpub"==a&&(t={event317:{value:.6},event329:{value:.6}},s=localStorage.getItem("score"),e=(parseFloat(s)+.6).toFixed(2),console.log("Final Engagement Score: ",e));localStorage.setItem("score",e)}return t}catch(e){console.log("Exception in event301-400 object for Product Page Video View All Site (Hybris)",e)}}}},"Bing Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0===document.querySelector("meta[name=country]")||"br"!=document.querySelector("meta[name=country]").content.toLowerCase()||void 0!==getConsentVendors("microsoft-advertising")&&getConsentVendors("microsoft-advertising")}}},"XDM Object for Form Submit":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Form Submit",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event73:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar240:"%Form Type%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Survey Purpose Complete":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.survey.purposecomplete"}},"Google Sha256":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==sessionStorage.google_sha256&&null!==sessionStorage.google_sha256?sessionStorage.google_sha256:""}}},"checkout:products":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=lmd.checkout.allProducts,t="",o=(e=lmd.checkout.allProducts,[]),n={};if(lmd&&lmd.checkout&&lmd.checkout.allProducts&&null!=lmd){for(var r=0;r<e.length;r++)(n={}).name=e[r].productID,n.priceTotal=0,n.quantity=0,n.SKU=e[r].productID,o.push(n);return o}for(x=0;x<e.length;x++){if(e[x].productID=e[x].productID.indexOf("-")>0?e[x].productID.split("-")[0]:e[x].productID,""==t){var a=e[x].shopRunnerType;(n={}).name=e[x].productID,n.priceTotal=0,n.quantity=0,n.SKU=e[x].productID,n._experience={customDimensions:{eVars:{eVar239:e[x].shopRunnerType}}}}else void 0!==a?((n={}).name=e[x].productID,n.priceTotal=0,n.quantity=0,n.SKU=e[x].productID,n._experience={customDimensions:{eVars:{eVar239:e[x].shopRunnerType}}}):((n={}).name=e[x].productID,n.priceTotal=0,n.quantity=0,n.SKU=e[x].productID);o.push(n)}return o}catch(e){console.log("Error in Checkout :Product DE"+e)}}}},"XDM Object - Login Analysis":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Login Analysis",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event58:{value:1}},customDimensions:{eVars:"%Custom Dimension - eVars Object -  Login Analysis%",props:"%Custom Dimension - props Object - Login Analysis%"}}}},sandbox:{name:"prod"}}},"XDM Object for Homepage : Recommendation":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Homepage : Recommendation",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%events 1-100 Object - Homepage : Recommendation%",event201to300:{event237:{value:1}},event301to400:"%events 301-400 Object - Homepage : Recommendation%",customDimensions:{eVars:"%Custom Dimension : eVars Object : Homepage : Recommendation%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%",prop51:"%Referrer URL%"}}}},productListItems:[{SKU:"%CTA productID%",name:"%CTA productID%"}]},sandbox:{name:"prod"}}},Language:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.language"}},CustomerID:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.customerID)return lmd.customerID.indexOf("null")>-1?"":toString(lmd.customerID)}}},"Survey Ease Of Use":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.survey.easeofuse"}},"Target : Rating Average":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=$("meta[name='platform']").attr("content"),t=$(".banner_content_desc .rating-container").attr("data-rating-star"),o=$(".hero-container .bv_main_container").length>0?$(".hero-container .bv_main_container").attr("aria-label").split("out")[0].trim():"";return void 0!==t&&""!==t&&"Flash"==e?t:void 0!==o&&""!==o&&e.indexOf("Flash")>-1?o:BV.rating_summary.data[0]?BV.rating_summary.data[0].data.reviewSummary.primaryRating.average:BV.rating_summary.data[1]?BV.rating_summary.data[1].data.reviewSummary.primaryRating.average:0}catch(e){console.log("Error in Rating"+e)}}}},"XDM Object for Internal Search Main: Ecomm Site":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : Ecomm Site",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event1to100:"%events 1-100 Object - Internal Search : Main - Ecomm Site%",event301to400:"%events 301-400 Object - Internal Search : Main - Ecomm Site %",customDimensions:{eVars:"% Custom Dimension - eVars Object - Internal Search - Main - Ecomm Site%",props:"% Custom Dimension - props Object - Internal Search - Main - Ecomm Site %"}}}},sandbox:{name:"prod"}}},"DCR Global Product List Items":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[],o={};try{const n=lmd.productid?lmd.productid.toString():"",r=lmd.productid?lmd.productid.toString():"";switch(e.identifier){case"recommend_cart_add":o={SKU:n,name:_satellite.getVar("recommend_cart_add for product ID")},t[0]=o;break;case"BusinesDirect Call":case"PDP_ATCustomize":case"PDP_ATCart":case"PDPAccessory_ATCart":case"smb_re_addtocart":o={SKU:n,name:r},t[0]=o;break;case"Cartremoval":t=_satellite.gVar("ProductList - DCR Cart Removal");break;case"Configurator_Time_Spend":o={SKU:n,name:lmd.configproduct},t[0]=o}return t}catch(e){console.log("Error in DCR Product List Items DE",e)}}}},"Custom Dimension - props Object - Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return{prop53:_satellite.getVar("purchase:orderID")}}catch(e){}}}},AnalyticsDevelopmentEnvironment:{defaultValue:"0",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"analyticsdevenv",caseInsensitive:!0}},"Region Code":{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.regioncode"}},"ConfirmIT Live Deploy":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc&&lmd.cc.toString().toLowerCase()=="ca".toLowerCase()||"tun-c-hybris.lenovo.com"==location.hostname||"pre-c-hybris.lenovo.com"==location.hostname||"pre-u-hybris.lenovo.com"==location.hostname||lmd.cc&&lmd.cc.toString().toLowerCase()=="us".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="we".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="sasia".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="japan".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="latam".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="anz".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="htk".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="asean".toLowerCase()||_satellite.getVar("Target : regioncode").toString().toLowerCase()=="las".toLowerCase()}}},"Cart Product List":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.cart&&lmd.cart.allProducts){for(var e=lmd.cart.allProducts,t=[],o=0;o<e.length;o++){var n={};n.name=void 0!==e[o].productName&&null!==e[o].productName?String(e[o].productName):"",n.price=void 0!==e[o].price&&null!==e[o].price?String(e[o].price):"0",n.quantity=void 0!==e[o].quantity&&null!==e[o].quantity?String(e[o].quantity):"1",n.SKU=void 0!==e[o].bundleID&&null!==e[o].bundleID?String(e[o].bundleID):"",n.type=void 0!==e[o].type&&null!==e[o].type?String(e[o].type):"",t.push(n)}return t}}catch(e){console.log("Error in Cart Product List DE: "+e)}}}},"XDM Object for Download":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Download",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event44:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar33:"%Download%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},locale:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"locale",caseInsensitive:!0}},"CLV Cart Recommendation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"CLV Basket|"+_satellite.getVar("Recommended Product")}}},"XDM Object for Registration":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Registration",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event58:{value:1}},event301to400:{event340:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar17:"%Registration Source%",eVar21:"%CustomerID%",eVar23:"%Registration Enrollment %",eVar31:"%Registration Lenovo ID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar127:"%Hashed Email Placement Name%",eVar142:"%Hashed Email ID%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},identityMap:"%Custom Attribute%"},sandbox:{name:"prod"}}},"XDM Object For Confirmit Survey Interaction":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Confirmit Survey Interaction",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"%Survey Interaction%",eVar32:"%Business unit%",
eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"XDM Object for Video Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Video Tracking AEM Smarter",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%Events 1-100 Object : Video Tracking%",event101to200:"%Events 101-200 Object : Video Tracking%",event301to400:"%Events 301-400 Object : Video Tracking%",customDimensions:{eVars:"%Custom Dimension - eVars Object : Video Tracking%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Custom Dimension - eVars Object : Video Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(e.eVar75=pageURL,"start"==lmd.video.videoInfo.videoStatus&&(e.eVar66=lmd.video.videoInfo.videoName,e.eVar67=lmd.video.videoInfo.videoStatus),"lenovotwpub"==(r=_satellite.getVar("reportSuite"))){e.eVar57="start Video |0.22",e.eVar219="+0.22",e.eVar221="+0.22",e.eVar219;var t=localStorage.getItem("score");n=(parseFloat(t)+.22).toFixed(2),console.log("Engagement Score"+n)}if("lenovomxpub"==r&&(e.eVar57="Video Segment Views|0.15",e.eVar219="+0.15",e.eVar221="+0.15",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.15).toFixed(2),console.log("Engagement Score"+n)),"lenovoarpub"==r)e.eVar57="Video Segment Views|0.15",e.eVar219="+0.15",e.eVar221="+0.15",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.15).toFixed(2),console.log("Engagement Score"+n);else if("25-complete"==lmd.video.videoInfo.videoStatus){e.eVar66=lmd.video.videoInfo.videoName,e.eVar67=lmd.video.videoInfo.videoStatus,getValOnce(e.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0);var o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));console.log("sessionscoreengrfd"+o),o<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?(e.eVar57="25% Video Milestone|0.07",e.eVar219="+0.07",e.eVar221="+0.07",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.07).toFixed(2),console.log("Engagement Score"+n)):"lenovodepub"==r?(e.eVar57="25% Video Milestone|0.19",e.eVar219="+0.19",e.eVar221="+0.19",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.19).toFixed(2),console.log("Engagement Score"+n)):"lenovochpub"==r&&(e.eVar57="25% Video Milestone|0.15",e.eVar219="+0.15",e.eVar221="+0.15",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.15).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n))}else if("50-complete"==lmd.video.videoInfo.videoStatus)e.eVar66=lmd.video.videoInfo.videoName,e.eVar67=lmd.video.videoInfo.videoStatus,getValOnce(e.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+o),o<=100&&("lenovouspub"==(r=_satellite.getVar("reportSuite"))?(console.log("sessionscoreengrfd"+o),e.eVar57="50% Video Milestone|0.12",e.eVar219="+0.12",e.eVar221="+0.12",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.12).toFixed(2),console.log("Engagement Score"+n)):"lenovogbpub"==r&&(console.log("sessionscoreengrfd"+o),e.eVar57="50% Video Milestone|0.18",e.eVar219="+0.18",e.eVar221="+0.18",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.18).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n));else if("75-complete"==lmd.video.videoInfo.videoStatus)e.eVar66=lmd.video.videoInfo.videoName,e.eVar67=lmd.video.videoInfo.videoStatus,getValOnce(e.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+o),o<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?(e.eVar57="75% Video Milestone|0.09",e.eVar219="+0.09",e.eVar221="+0.09",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.09).toFixed(2),console.log("Engagement Score"+n)):"lenovotwpub"==r&&(e.eVar57="75% Video Milestone|0.26",e.eVar219="+0.26",e.eVar221="+0.26",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.26).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n));else if("100-complete"==lmd.video.videoInfo.videoStatus){var n,r;if(e.eVar66=lmd.video.videoInfo.videoName,e.eVar67=lmd.video.videoInfo.videoStatus,getValOnce(e.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+o),o<=100)"lenovodepub"==(r=_satellite.getVar("reportSuite"))?(e.eVar57="100% Video Milestone|0.11",e.eVar219="+0.11",e.eVar221="+0.11",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.11).toFixed(2),console.log("Engagement Score"+n)):"lenovofrpub"==r&&(e.eVar57="100% Video Milestone|0.08",e.eVar219="+0.08",e.eVar221="+0.08",e.eVar219,t=localStorage.getItem("score"),n=(parseFloat(t)+.08).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n)}return e}catch(e){console.log("Exception in evars object video tracking",e)}}}},"events 301-400 Object : Confirmit_Survey_Finish":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return void 0!==window.lmd&&void 0!==window.lmd.survey&&window.lmd.survey.easeofuse>=0&&(e.event327={value:lmd.survey.easeofuse},e.event328={value:1}),e}catch(e){}}}},"XDM Object - DCR Product View OMO":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Product View omo",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:{productViews:{value:1}},endUserIDs:{_experience:{mcid:{id:"%ECID%"}}},_experience:{analytics:{event101to200:{event101:{value:1}},customDimensions:{eVars:{eVar192:"%omostoreID%"}}}},productListItems:"%OMO Product view%"},sandbox:{name:"prod"}}},"XDM Object for Proceed to Checkout":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Proceed to Checkout",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event101to200:{event119:{value:1}}}}},sandbox:{name:"prod"}}},"internal Promotion":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"iPromoID",caseInsensitive:!0}},"XDM Object for OMO Buy_now":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Buy now",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event280:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%Page Name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar171:"%User Agent%",eVar192:"%omostoreID%",eVar193:"%GroupID%"}}}},productListItems:"%Product ID Common For Flash%"},sandbox:{name:"prod"}}},"Get Consent from LS":{defaultValue:"none",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e="",t=_satellite.getVar("Country Code").toLowerCase(),o="undefined"!=typeof lmd&&void 0!==lmd.language?lmd.language.toLowerCase():void 0!==$("meta[name=language]")&&void 0!==$("meta[name=language]").attr("content")?$("meta[name=language]").attr("content"):"",n="",r="";switch(t+"/"+o){case"br/pt":n="40895",r="42";break;case"gb/en":n="24878",r="6";break;case"ie/en":n="24879",r="16";break;case"de/de":n="24865",r="3";break;case"at/de":n="24866",r="19";break;case"ch/en":case"ch/fr":case"ch/de":n="93117",r="21";break;case"it/it":n="24871",r="7";break;case"es/es":n="24870",r="4";break;case"fr/fr":n="24869",r="5";break;case"nl/nl":n="24872",r="8";break;case"be/fr":n="25256",r="20";break;case"be/nl":n="24874",r="20";break;case"no/no":n="24873",r="17";break;case"se/sv":n="24875",r="22";break;case"fi/fi":n="24877",r="25";break;case"dk/da":n="24861",r="15";break;case"tr/tr":n="25389",r="39";break;case"ro/ro":n="25733",r="31";break;case"hu/hu":n="25392",r="24";break;case"bg/bg":n="25393",r="30";break;case"hr/hr":n="25394",r="61";break;case"rs/sr":n="25415",r="63";break;case"gr/el":n="25395",r="29";break;case"si/sl":n="25396",r="23";break;case"mk/mk":n="25732",r="62";break;case"pl/pl":n="25386",r="18";break;case"cz/cs":n="25398",r="27";break;case"sk/sk":n="25399",r="23";break;case"pt/pt":n="25263",r="26";break;case"il/en":n="25424",r="11";break;case"ee/et":n="25432",r="32";break;case"lv/lv":n="25402",r="33";break;case"lt/lt":n="25422",r="34";break;case"us/en":n="26588",r="1"}var a="";return void 0!==localStorage["evidon_consent_"+n]?a=localStorage["evidon_consent_"+n]:void 0!==localStorage["_evidon_consent_ls_"+n]&&(a=localStorage["_evidon_consent_ls_"+n]),""!==a&&(a.includes('"advertising":true')&&(""===e?e="advertising":e.includes("advertising")||(e+=", advertising"),e=e.replace("all,","")),a.includes('"advertising":false')&&(e.includes("advertising")||e.includes("all"))&&(e=(e=(e=e.replace("advertising","")).replace("all,","")).replace("all","")),a.includes('"social media":true')&&(""===e?e="social media":e.includes("social media")||(e+=", social media").replace("all",""),e=e.replace("all,","")),a.includes('"social media":false')&&(e.includes("social media")||e.includes("all"))&&(e=(e=(e=e.replace("social media","")).replace("all,","")).replace("all","")),a.includes('"analytics":true')&&(""===e?e="analytics":e.includes("analytics")||(e+=", analytics"),e=e.replace("all,","")),a.includes('"analytics":false')&&(e.includes("analytics")||e.includes("all"))&&(e=(e=(e=e.replace("analytics","")).replace("all,","")).replace("all","")),a.includes('"functional":true')&&(""===e?e="functional":e.includes("functional")||(e+=", functional"),e=e.replace("all,","")),a.includes('"functional":false')&&(e.includes("functional")||e.includes("all"))&&(e=(e=(e=e.replace("functional","")).replace("all,","")).replace("all","")),a.includes('"'+r+'":true')&&("us"==t&&null==navigator.globalPrivacyControl||"us"!=t)&&(e="all")),""!=a||void 0===t||"us"!=t||null!=navigator.globalPrivacyControl&&0!=navigator.globalPrivacyControl?(""==e&&location.hostname.indexOf("account.lenovo.com")>-1&&void 0!==_satellite.getVar("has_consent_cookie")&&""!==_satellite.getVar("has_consent_cookie")&&(e=_satellite.getVar("has_consent_cookie")),e):"all"}catch(e){}}}},"PID : URL ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("PID : URL QSP")?String(_satellite.getVar("PID : URL QSP")):""}}},"XDM Object for recommend_cart_add":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"recommend_cart_add",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%events 1-100 Object : recommend_cart_add%",event201to300:{event224:{value:1}},event301to400:"%events 301-400 Object : recommend_cart_add%",customDimensions:{eVars:"%Custom Dimension : eVar Object : recommend_cart_add%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:[{name:"%recommend_cart_add for product ID%"}]},sandbox:{name:"prod"}}},"Exclude DCG Pages":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.indexOf("/data-center")<0}}},"XDM Object - Hybris Cart Add":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Cart Add",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_lenovo:{Teads:{auctid:"%teadsAuctidVal%"},RegionCode:"%Region Code%",Flashtalking:{guid:"%Flashtalking GUID%",productname:"%Product Name - Cart%"},FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"}},commerce:{productListAdds:{value:1},productListOpens:{id:"%Serial Id for Cart Open%",value:1},productListViews:{value:1}},_experience:{analytics:{event101to200:"%events 1-100 Object - Hybris Cart Add%",event301to400:"%events 301-400 Object - Hybris Cart Add%",event401to500:{event414:{value:"%User Acceptance (e414)%"},event415:{value:"%User Declined (e415)%"}},customDimensions:{eVars:"%Custom Dimension - eVars Object - Hybris Cart Add%"}}},productListItems:"%Product List - Hybris Cart Add%"},sandbox:{name:"prod"}}},"Tiktok Consent Rule":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("tiktok")&&getConsentVendors("tiktok")}}},"B2B condition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"le"==lmd.bu.toLowerCase()}}},"events 1-100 Object - Hybris Product View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid,o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));return console.log("sessionscoreengrfd"+n),o&&n<=100&&"lenovodepub"==_satellite.getVar("reportSuite")&&(e.event98={id:"",value:.89},e.event30={id:"",value:.89}),e}catch(e){}}}},"Events 1-100 Object: Product Compare":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o="";for(e=0;e<lmd.compare.tool.ProductID.length;e++)o+=lmd.compare.tool.ProductID[e]+"|";var n,r=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+a),r&&a<=100){var s=_satellite.getVar("reportSuite");if("lenovoaupub"==s||"lenovouspub"==s){t={event98:{value:.5},event30:{value:.5}},console.log("Starting Engagement Score: ",n);var c=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.5),n=(parseFloat(c)+.5).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)}else"lenovodepub"==s?(t={event98:{value:.47},event30:{value:.47}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.47),n=(parseFloat(c)+.47).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovonzpub"==s?(t={event98:{value:.24},event30:{value:.24}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.24),n=(parseFloat(c)+.24).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovomxpub"==s||"lenovoarpub"==s?(t={event98:{value:.69},event30:{value:.69}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.69),n=(parseFloat(c)+.69).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovoptpub"==s?(t={event98:{value:.11},event30:{value:.11}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.11),n=(parseFloat(c)+.11).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovoespub"==s&&(t={event98:{value:.18},event30:{value:.18}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.18),n=(parseFloat(c)+.18).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n))}return localStorage.setItem("score",n),t}catch(e){console.log("Exception in events 1-100 object for product compare",e)}}}},"Target : Meta Entity Subseriesid":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="subseriesPHcode"]'}},"events 1-100 Object - Promo Deals Learn More":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid;console.log("productscode");var o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?e={event98:{value:.27},event30:{value:.27}}:"lenovodepub"==r?e={event98:{value:.47},event30:{value:.47}}:"lenovofrpub"==r?e={event98:{value:.36},event30:{value:.36}}:"lenovokrpub"==r?e={event98:{value:.33},event30:{value:.33}}:"lenovochpub"==r?e={event98:{value:.45},event30:{value:.45}}:"lenovotwpub"==r?e={event98:{value:.63},event30:{value:.63}}:"lenovobrpub"==r&&(e={event98:{value:.71},event30:{value:.71}})}return e}catch(e){console.log("Error in events 1-100 Object - Promo Deals Learn More "+e)}}}},"Purchase Product Quantity Arr":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd.purchase&&lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t=[];if(e&&e.length>0)for(var o=0;o<e.length;o++)t.push(e[o].quantity);return t}}catch(e){console.log("Error in purchase product name arr",e)}}}},"Subseries ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("subseriespage"==lmd.taxonomytype.toLowerCase())return""!==document.getElementsByTagName("meta").productcodeimpressions.content?document.getElementsByTagName("meta").productcodeimpressions.content.split(",")[0]:document.getElementsByTagName("meta").productid.content}}},orgRef:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"orgRef",caseInsensitive:!0}},"Email Sha256":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==sessionStorage.email_sha256&&null!==sessionStorage.email_sha256?sessionStorage.email_sha256:""}}},SheerIdOrgName:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheeridOrganizationName']"}},"Events 101-200 Object : Knexus Video Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("25 - complete"==lmd.videoInfo.videoStatus)return lmd.videoInfo.videoViewTime,{event120:{value:1}};if("75 - complete"==lmd.videoInfo.videoStatus)return lmd.videoInfo.videoViewTime,{event194:{value:1}}}catch(e){console.log("Exception in events 101-200 object video tracking",e)}}}},"Target : Customecode Lead Time":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=$("meta[name=productname]").attr("content");if($("meta[name=Ship_date_"+e+"]").attr("content"))return $("meta[name=Ship_date_"+e+"]").attr("content")}catch(e){}}}},"Target : Entity Name":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e;return $("meta[name='platform']").attr("content").indexOf("Flash")>-1?(document.querySelectorAll(".product_summary").length>0?e=document.querySelectorAll(".product_summary")[0].innerText.replace(/"/g,"\u201d").replace(/\n/g," ").replace(/'/g,"\u2019"):document.querySelectorAll(".product-name").length>0&&(e=document.querySelectorAll(".product-name")[0].innerText.replace(/"/g,"\u201d").replace(/\n/g," ").replace(/'/g,"\u2019")),e||$('meta[name="productInfo.name"]').attr("content").replace(/"/g,"\u201d").replace(/\n/g," ").replace(/'/g,"\u2019")):($("h1.desktopHeader").length>0?prodname=$("h1.desktopHeader").text().replace(/"/g,"\u201d").replace(/\n/g," ").replace(/'/g,"\u2019"):prodname=$('meta[name="productInfo.name"]').attr("content").replace(/"/g,"\u201d").replace(/\n/g," ").replace(/'/g,"\u2019"),prodname)}catch(e){console.log("Error in product view event"+e)}}}},"Plugin : getVisitNum":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},"Product Name - Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[];if(void 0!==lmd.purchase.allProducts)for(var t=lmd.purchase.allProducts,o=0;o<t.length;o++)e.push(String(t[o].productName));return e.toString()}catch(e){console.log("Error in Product Name - Purchase DE ",e)}}}},"Video Tracking 100 - complete":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.videoInfo&&void 0!==lmd.videoInfo.videoStatus&&"100 - complete"==lmd.videoInfo.videoStatus)return 1}}},"Reddit Click ID":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"reddit_click_id"}},"Sort Selection":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.facets.sortSelection"}},"XDM Object For Registration Start":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Registration Start",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar47:"%Login Info Login Status%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"XDM Object For SMB Pro Homepage CTA":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"SMB Pro Homepage CTA",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event237:{value:1}},customDimensions:{eVars:"%Custom Dimension : eVars Object : SMBHomepage : Recommendation%",props:{prop42:"%login Status%"}}}},productListItems:[{name:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"Internal Search Error Main":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.errorType+":"+lmd.errorDetail}}},SheerIdLastName:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheeridLastName']"}},"Public & SMB":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.bu&&(lmd.bu.toLowerCase().indexOf("public")>-1||lmd.bu.toLowerCase().indexOf("smb")>-1||lmd.bu.toLowerCase().indexOf("smarter")>-1))return!0}}},"Target : FLASH Product Name Cart Page":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.cart.allProducts.length-1,t=lmd.cart.allProducts,o="";return"service"==t[e].configType.toLowerCase()&&(e-=1),"MTMproductModel"!=t[e].configType&&"CTO"!=t[e].configType||(o=t[e].productName),o}}},"XDM Object For Loyalty Join Now":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Loyalty Join Now",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event305:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar19:"%RepID%",eVar21:"%CustomerID%",eVar23:"%Loyalty User Interaction%",eVar31:"%Login ID%",eVar32:"%Business unit%",eVar47:"%Loyalty UserType%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Target : Flash Order Confirmation Parameters Update":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=$("meta[name='platform']").attr("content"),t={},o={},n={};if("Flash"==e)return window.location.href.indexOf("/thankyou.html")>-1&&(n={orderId:lmd.purchase.orderID,orderTotal:lmd.purchase.totalPrice,productPurchasedId:_satellite.getVar("Product List - Purchase Target Flash")}),t.target=n,o.__adobe=t,o}catch(e){console.log("Error in Data Element Target : Flash Order Confirmation Parameters Update"+e)}}}},"Facet Condition of Checked (Flash) ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.facets&&lmd.facets.selection.indexOf("Checked")>-1)return 1}}},"Navigation Header":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.category"}},"DCSC Global Evar":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{switch(e.identifier){case"dcsc-summary-complete":t.eVar31=lmd.loginInfo.lenovoID;break;case"dcsc-ConfigBuild_Option":case"dcsc-configBuild_Option":t.eVar139=lmd.dcsc.configoption;break;case"dcsc_config_tab":t.eVar161=lmd.subsection;break;case"Supply Recommend":t.eVar23=lmd.SupplyRecommend;break;case"error-populated":t.eVar145=lmd.errorMessage;break;case"dcsc-config-summary":void 0!==lmd.SWselected?(t.eVar31=lmd["Log-USER_EMAIL"],t.eVar23=lmd.SWselected,t.eVar86="DCSC:"+lmd["Log-CUSTOMER_NAME"]+"|"+lmd["Log-CUSTOMER_ID"]):(t.eVar31=lmd["Log-USER_EMAIL"],t.eVar86="DCSC:"+lmd["Log-CUSTOMER_NAME"]+"|"+lmd["Log-CUSTOMER_ID"]);break;case"dcsc_sid":void 0!==lmd.SID&&(t.eVar23=lmd.SID);break;case"dcsc-Internal-Search":t.eVar2=lmd.intSearchTerms,t.eVar58=_satellite.getVar("DCSC Page Name");break;case"dcsc-customize-lose":default:break;case"dcsc_SWans":""!=lmd["SW comment"]?(t.eVar23=lmd.SW,t.eVar31=_satellite.getVar("Login ID"),t.eVar121="DCSC-CancelReason:"+lmd["SW comment"]):(t.eVar23=lmd.SW,t.eVar31=_satellite.getVar("Login ID"));break;case"dcsc-workspace-complete":t.eVar31=lmd["Log-USER_EMAIL"],t.eVar86="DCSC:"+lmd["Log-CUSTOMER_NAME"]+"|"+lmd["Log-CUSTOMER_ID"],t.eVar94=lmd["Log-ROLE"],t.eVar177=lmd.currency;break;case"dcsc-customize-lose":case"dcsc-summary-lose":t.eVar166="DCSC Config Loose";break;case"dcsc-user-login":"logged in"===lmd.loginInfo.loginStatus||lmd.loginInfo.loginStatus,t.eVar47=lmd.loginInfo.loginStatus,t.eVar31=_satellite.getVar("Login ID");break;case"dcsc-integrated-workspace-complete":t.eVar31=lmd["Log-USER_EMAIL"],t.eVar177=lmd.currency,t.eVar86="DCSC:"+lmd["Log-CUSTOMER_NAME"]+"|"+lmd["Log-CUSTOMER_ID"],t.eVar94=lmd["Log-ROLE"];break;case"recommend":t.eVar158=lmd.recommendation}return t}catch(e){console.log("Error in DCSC Global eVar",e)}}}},"User Agent":{defaultValue:"",forceLowerCase:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.navigator.userAgent"}},"Referrer Domain":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return document.referrer.match(/.*:\/\/([^\/]+)\/.*/)[1]}catch(e){}}}},"event 1-100 Object : Promo Deals Facets Click":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=$(this).parents(".facetFilter-item-list").attr("data-value-name");if($(this).parents(".facetFilter-item-list").attr("data-facet-name"),void 0!==lmd.facets)if(void 0!==lmd.facets.refinementSelection)var o=lmd.facets.refinementSelection;else o="#$%*&^%%";else o="#$%*&^%%";if(!0!==o.includes(t)){$(this).parents(".facetFilter-item-list").attr("data-facet-name");var n=$(this).parents(".facetFilter-item-list").attr("data-value-name")}var r,a=getValOnce(n,"s_eVar57",0),s=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+s),a&&n&&s<=100){var c=_satellite.getVar("reportSuite");"lenovoaupub"==c?e={event98:{value:.79},event30:{value:.79}}:"lenovouspub"==c?e={event98:{value:.81},event30:{value:.81}}:"lenovothpub"==c?e={event98:{value:.6},event30:{value:.6}}:"lenovohkpub"==c||"lenovofrpub"==c?e={event98:{value:1},event30:{value:1}}:"lenovokrpub"==c?e={event98:{value:.72},event30:{value:.72}}:"lenovonopub"==c?e={event98:{value:.87},event30:{value:.87}}:"lenovodkpub"==c?e={event98:{value:.76},event30:{value:.76}}:"lenovonzpub"==c?e={event98:{value:.82},event30:{value:.82}}:"lenovodepub"==c?e={event98:{value:.89},event30:{value:.89}}:"lenovogbpub"==c?(console.log("Engagement Starting Score: ",r),e={event98:{value:.79},event30:{value:.79}}):"lenovochpub"==c?e={event98:{value:1},event30:{value:1}}:"lenovotwpub"==c?e={event98:{value:.99},event30:{value:.99}}:"lenovomypub"==c?e={event98:{value:.89},event30:{value:.89}}:"lenovoinpub"==c?e={event98:{value:1},event30:{value:1}}:"lenovofipub"==c?e={event98:{
value:.88},event30:{value:.88}}:("lenovoptpub"==c||"lenovoglobaldev"==c)&&(e={event98:{value:.99},event30:{value:.99}})}else console.log("eVar127 is undefined");return e}catch(e){console.log("Error in event 1-100 Object : Promo Deals Facets Click"+e)}}}},"Meta Product Id - Flashtalking":{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='productname']"}},"XDM Object For SMB : Virtual Page Name":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{name:"%Virtual SMB Page Name%",server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{event1to100:"%Custom Dimension : events 1-100 Object : Virtual Page Name%",event101to200:"%Custom Dimension : events 101-200 Object : Virtual Page Name%",customDimensions:{eVars:"%Custom Dimension : eVar Object : Virtual Page Name%",props:"%Custom Dimension : Props Object : Virtual Page Name%"}}}},sandbox:{name:"prod"}}},"User Declined (e415)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return 0==_satellite.getVar("User Acceptance (e414)")?1:0}catch(e){console.log("Error in User Declined (e415) DE",e.message)}}}},"ProductFinder pfresponse":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.Pfresponse&&""!==lmd.Pfresponse?lmd.Pfresponse:lmd.pfresponse}}},storeID:{defaultValue:"",forceLowerCase:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("Affinity"==lmd.bu&&void 0!==lmd.groupID&&""!==lmd.groupID)return lmd.groupID;if(void 0!==lmd.storeid)return lmd.storeid;if(void 0!==lmd.storeID)return lmd.storeID}catch(e){}}}},"Tracking code event":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Tracking Code")?1:0}}},cc:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.cc"}},"events 1-100 Object : Internal Search : No Result Recommend: All sites":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=(lmd.productIndex,lmd.productid),n=getValOnce(";"+o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){if("lenovotwpub"==_satellite.getVar("reportSuite")){t={event98:{value:.56},event30:{value:.56}},console.log("Engagement Starting Score: ",e);var a=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",a),console.log("New Engagement Score added: ",.56),e=(parseFloat(a)+.56).toFixed(2),console.log("Final Engagement Score: ",e)}localStorage.setItem("score",e)}return t}catch(e){console.log("Exception in events 1-100 Object : Internal Search : No Result Recommend: All sites",e)}}}},"XDM Object for Internal Search : Shop By Category(No Result)":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : Shop By Category(No Result)",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event241:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar150:"%Internal Search : Shop By Category(No Result)%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Smarter Menu":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Smarter Menu : "+lmd.menu}}},dtm_codeVersion:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="|"+_satellite.getVar("dtm_lastPublishDate");return e+="|n/a|n/a|n/a",e+="|"+("undefined"!=typeof s?s.version:""),e+="|"+_satellite.getVar("dtm_rsMethod"),e+="|"+_satellite.getVar("dtm_propertyName")+"|"}}},"XDM Object For Type Ahead Search suggested":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Type Ahead Search Suggested",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event207:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"TA Recommended Word : %Type Ahead Search%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar109:"%Recommended Index%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar170:"%Fusion AB SessionID% | %Fusion Exp ID% | %Fusion Query ID%",eVar171:"%User Agent%",eVar175:"%Fusion Exp ID%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"List Var - Promo Deals Facets Click":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return["testListVar","testListVar1"]}catch(e){console.log("Error in List Var - Promo Deals Facets Click"+e)}}}},"XDM Object for buyfrom Reseller":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Buyfrom Reseller",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event351:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar23:"%custom interaction%",eVar32:"%Business unit%",eVar58:"%Page Name%",eVar70:"%Prev Page Name%",eVar75:"%URL%"}}}},productListItems:"%Product ID Common For Flash%"},sandbox:{name:"prod"}}},"Add to Cart":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.event.name"}},"Purchase Product Name Arr":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd.purchase&&lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t=[];if(e&&e.length>0)for(x=0;x<e.length;x++)t.push(e[x].productName);return t}}catch(e){console.log("Error in purchase product name arr",e)}}}},"Survey Purpose Of Visit":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.survey.purposeofvisit"}},Platform:{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='platform']"}},"cnxclid Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cnxclid",caseInsensitive:!0}},"Not Tele Hybris":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.hostname.toString().toLowerCase()!="tele-hybris.lenovo.com".toLowerCase()&&location.href.toString().toLowerCase().indexOf("lenovotele".toLowerCase())<0}}},"Subseries Ids":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.productinfo){var e=lmd.productinfo,t=[];if(""!=e[0].productcodeimpressions)for(x=0;x<e.length;x++)t.push(e[x].productcodeimpressions);else t=lmd.productid}else t=lmd.productid;return t}}},"event 400-500 Object : DCR Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=0;return void 0!==lmd.purchase&&(void 0!==(t=lmd.purchase.Paymenttimespan?lmd.purchase.Paymenttimespan:0)&&(e.event404={value:Number(t)}),"yes"==lmd.isTeleOrder&&(e.event429={value:1})),e}catch(e){console.log("Error in event400to500 : DCR Purchase DE "+e)}}}},"LAS countries":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.cc&&("ar"==lmd.cc.toLowerCase()||"co"==lmd.cc.toLowerCase()||"mx"==lmd.cc.toLowerCase()||"cl"==lmd.cc.toLowerCase()||"pe"==lmd.cc.toLowerCase()||"bo"==lmd.cc.toLowerCase()||"ec"==lmd.cc.toLowerCase()||"py"==lmd.cc.toLowerCase()||"uy"==lmd.cc.toLowerCase()||"ve"==lmd.cc.toLowerCase()||"pa"==lmd.cc.toLowerCase()||"cr"==lmd.cc.toLowerCase()||"hn"==lmd.cc.toLowerCase()||"ni"==lmd.cc.toLowerCase()||"sv"==lmd.cc.toLowerCase()||"gt"==lmd.cc.toLowerCase()||"do"==lmd.cc.toLowerCase()||"bz"==lmd.cc.toLowerCase()))return!0}}},"Custom Dimension : eVar Object : SMB Registration":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=(lmd.lenovoID,lmd.segment),o=lmd.persona,n=lmd.smbdetails;if(void 0!==lmd.UniqueID&&""!==lmd.UniqueID)var r=lmd.UniqueID;return void 0!==lmd.lenovoID&&""!==lmd.lenovoID&&(r=lmd.lenovoID),e.eVar94=t,e.eVar91=o,e.eVar86=n,e.eVar120=r,e.eVar23=lmd.enrollment,e.eVar230=_satellite.getVar("SMB Value(Employee Size)"),e.eVar127=_satellite.getVar("Hashed Email Placement Name"),e.eVar142=_satellite.getVar("Hashed Email ID"),e}catch(e){console.log("Exception in Custom Dimension : eVar Object : SMB registration",e)}}}},"Purchase Product type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];if("undefined"!=typeof lmd&&void 0!==lmd.purchase&&"undefined"!==lmd.purchase.allProducts){var t=lmd.purchase.allProducts;if(t.length>0)for(var o=0;o<t.length;o++)e.push(t[o].type)}return e}}},"LISA RFD Score":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=1*localStorage.getItem("tot_rfd_score");return e=e||0,sessionStorage.setItem("scorerfd_1",e),e}}},"Target : Meta Productstatus 2":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=1==$(".comingsoon-txt").length||1==$(".subComingSoonMsg").length,t=$('meta[name="configtype').attr("content"),o=1==$('meta[name="productcodeimpressions').attr("content").split(",").length;if("Flash"==$("meta[name='platform']").attr("content")&&void 0!==$("meta[name='productstatus']").attr("content")){var n=$("meta[name='productstatus']").attr("content");return $(".marketing-status-flag").length>0?$(".marketing-status-flag").text().trim().toLowerCase():n}if(1==$(".stamp-wrapper .stamp-msg").length){var r=$(".stamp-wrapper .stamp-msg").text().trim().toLowerCase();return"discontinued"==r?"EOL":r.indexOf("temporarily unavailable")>-1?"Temporarily Unavailable":r}if(1==$(".productStatus-models").length&&1==$(".tabbedBrowse-productListing-container").length||1==$("#longscroll-singlesku .productStatus-models").length)return $(".productStatus-models").text();if(1==$(".productStatus-single").length&&1==$(".tabbedBrowse-productListing-container").length||1==$("#longscroll-singlesku .productStatus-single").length)return $(".productStatus-single").text();if(1==$(".productStatus-deals").length)return $(".productStatus-deals").text();if(1==$(".subComingSoonMsg").length){if("Temporarily Unavailable"==(a=$(".subComingSoonMsg").text())||a)return a}else if(1==$(".comingsoon-txt").length){var a;if("Temporarily Unavailable"==(a=$(".comingsoon-txt").text())||a)return a}else{if($(".cta-group-action.notifyMeBtn").length>0&&"ComingSoon"==$("meta[name='productstatus']").attr("content"))return"ComingSoon";if($(".merch-tagLabel-ribbon.modelCust__ribbon.taglabel-font-sm").text().includes("Temporarily Unavailable")&&o)return"Temporarily Unavailable";if(($("#product-details-variant-notavailable").length>0||$(".notPassDisplayRule-redirectMsg-content").length>0)&&o)return"Temporarily Unavailable";if(1!=$(".stock_message").length||"MTM"!=t&&"CTO"!=t&&"Accessory"!=t&&!o||void 0===$("meta[name='productprice']").attr("content"))return e||void 0!==$("meta[name='productprice']").attr("content")?"Available":"EOL";var s=$(".stock_message").text();if(""==s||s.indexOf("Limited stock, buy soon!")>-1)return"Available";if($(".stock_message").text().length>1)return $(".stock_message").text().trim()}}catch(e){console.log("Error in Condition"+e)}}}},"XDM Object for DCSC Global":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%DCSC : Global Web Interaction Link Click Name%",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:"%DCSC Global Commerce Object%",_experience:{analytics:{event1to100:"%DCSC : Events Object 1-100 %",event201to300:"%DCSC : Events Object 201-300%",event301to400:"%DCSC : Events Object 301-400%",customDimensions:{eVars:"%DCSC Global Evar%",props:{prop3:"%DCSC : Page URL%",prop12:"%1 Config  : DCSC Page Name %",prop42:"%Custom Dimension : prop object : 1 Config User Login%"}}}},productListItems:"%DCSC Global Product List Items%"},sandbox:{name:"prod"}}},"EMEA - B countries":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("gb"==lmd.cc.toLowerCase()||"ie"==lmd.cc.toLowerCase()||"il"==lmd.cc.toLowerCase()||"pt"==lmd.cc.toLowerCase()||"ee"==lmd.cc.toLowerCase()||"lv"==lmd.cc.toLowerCase()||"lt"==lmd.cc.toLowerCase()||"be"==lmd.cc.toLowerCase()||"nl"==lmd.cc.toLowerCase()||"dk"==lmd.cc.toLowerCase()||"se"==lmd.cc.toLowerCase()||"no"==lmd.cc.toLowerCase()||"fi"==lmd.cc.toLowerCase()||"fl"==lmd.cc.toLowerCase()||"de"==lmd.cc.toLowerCase()||"at"==lmd.cc.toLowerCase()||"ch"==lmd.cc.toLowerCase()||"es"==lmd.cc.toLowerCase()||"it"==lmd.cc.toLowerCase()||"fr"==lmd.cc.toLowerCase())return!0}}},"XDM Object for Windows - EBC":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Windows - EBC",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event318:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"%Windows - EBC%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar174:"%Windows - EBC%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Internal Search : Content Click: Newslink Index":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.searchCategory_NewsIndex"}},"Referrer URL":{defaultValue:"None",storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.referrer"}},"Custom Dimension : eVar Object : Instant Saving Offer":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o=";"+lmd.productid,n=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovoaupub"==a){t.eVar57="Instant Savings|0.74",t.eVar219="+0.74",t.eVar221="+0.74",t.eVar219,console.log("Engagement Starting Score: ",e);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.74),e=(parseFloat(s)+.74).toFixed(2),console.log("Final Engagement Score: ",e)}"lenovonzpub"==a&&(t.eVar57="Instant Savings|0.82",t.eVar219="+0.82",t.eVar221="+0.82",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.82),e=(parseFloat(s)+.82).toFixed(2),console.log("Final Engagement Score: ",e)),"lenovogbpub"==a&&(t.eVar57="Instant Savings|0.32",t.eVar219="+0.32",t.eVar221="+0.32",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.32),e=(parseFloat(s)+.32).toFixed(2),console.log("Final Engagement Score: ",e)),"lenovobrpub"==a&&(t.eVar57="Instant Savings|0.70",t.eVar219="+0.70",t.eVar221="+0.70",t.eVar219,console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.7),e=(parseFloat(s)+.7).toFixed(2),console.log("Final Engagement Score: ",e)),localStorage.setItem("score",e)}return t}catch(e){console.log("Error in Custom Dimension : eVar Object : Instant Saving Offer "+e)}}}},"AR + CL + CO + MX + PE":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc&&lmd.cc.toString().toLowerCase()=="ar".toLowerCase()||lmd.cc.toString().toLowerCase()=="cl".toLowerCase()||lmd.cc.toString().toLowerCase()=="co".toLowerCase()||lmd.cc.toString().toLowerCase()=="pe".toLowerCase()||lmd.cc.toString().toLowerCase()=="mx".toLowerCase()}}},eValueCode:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"nxjid",caseInsensitive:!0}},"CTA layout | Image":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.layouts&&lmd.Image?lmd.layouts+" | "+lmd.Image:lmd.layouts?lmd.layouts+" | no image":lmd.Image?"no layouts | "+lmd.Image:void 0}}},"Custom Dimension - eVars Object - SR Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return e.eVar1=_satellite.getVar("internalPromotion"),e.eVar5=_satellite.getVar("cc"),e.eVar12=lmd.storeID,e.eVar15=_satellite.getVar("sectionDetail"),e.eVar32=_satellite.getVar("lmd_bu"),e.eVar58=s.pageName,e.eVar75=_satellite.getVar("URL"),e.eVar147=_satellite.getVar("Language"),e}catch(e){}}}},"Target : Meta Taxonomy Type":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='taxonomytype'],meta[name='TaxonomyType']"}},"Disable Pixel On Email URL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return decodeURIComponent(e.replace(/\+/g," "))}var t=e(window.location.href);return!!(/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(t)||window.location.href.indexOf("email%3D")>-1)}}},"UTM Content":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("UTM Content Query Parameter")?_satellite.getVar("UTM Content Query Parameter").toString():""}}},"Email SHA256 Logged In":{defaultValue:'" "',storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd&&lmd.user&&lmd.user.emailID?lmd.user.emailID:""}}},"BR Education & SMB":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.storeID&&(lmd.storeID.toString().toLowerCase()=="breducation".toLowerCase()||lmd.storeID.toString().toLowerCase()=="breducation2".toLowerCase()||lmd.storeID.toString().toLowerCase()=="brsmbpro".toLowerCase())}}},"Page Name":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.pageName"}},"login Status":{defaultValue:"guest",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.loginInfo&&lmd.loginInfo.loginStatus?String(lmd.loginInfo.loginStatus):""}}},"XDM object for psref-link Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"psref-link Tracking",linkClicks:{value:1}}},_experience:{analytics:{customDimensions:{eVars:{eVar23:"Custom : psref-link Tracking",eVar242:"%ProductSubseriesID%"}}}}},sandbox:{name:"prod"}}},"productDetails : ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t=null,o="";lmd.taxonomytype.toLowerCase().includes("checkout")&&1!=document.URL.toLowerCase().includes("thankyou")?(t=lmd.checkout,o="checkout"):lmd.taxonomytype.toLowerCase().includes("cart")?(t=lmd.cart,o="cart"):/orderconfirmation|thankyou/i.test(document.URL.toLowerCase())?(t=lmd.purchase,o="purchase"):lmd.taxonomytype.toLowerCase().includes("subseries")&&"singlesku"!=lmd.skutype?(t=lmd.productinfo,o="subseries",e=t):lmd.taxonomytype.toLowerCase().includes("subseries")&&"singlesku"==lmd.skutype?(t=lmd.productID,o="subseries",n=t):"undefined"!=lmd.productID&&null!=lmd.productID&&1!=lmd.taxonomytype.toLowerCase().includes("subseries")&&(t=lmd.productID,o="pdp",n=t),t&&t.allProducts&&"subseries"!=o&&"pdp"!=o&&(e=t.allProducts);var n=e.map((function(e){return"subseries"!=o?e.productID:"subseries"==o&&"singlesku"!=lmd.skutype?e.productcodeimpressions:"subseries"==o&&"singlesku"==lmd.skutype?e.productID:""}));return n}catch(e){console.log("Error in "+o+" Product List DE: "+e)}}}},getCheckoutProduct:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd&&lmd.checkout&&lmd.checkout.allProducts){var e=lmd.checkout.allProducts,t="";for(x=0;x<e.length;x++)if(e[x].productID=e[x].productID.indexOf("-")>0?e[x].productID.split("-")[0]:e[x].productID,""==t){var o=e[x].shopRunnerType;t+=void 0!==o?";"+e[x].productID+";;;;eVar239="+e[x].shopRunnerType:";"+e[x].productID}else t+=void 0!==o?",;"+e[x].productID+";;;;eVar239="+e[x].shopRunnerType:",;"+e[x].productID;return t}}}},"XDM Object for Hashed Email General Rule":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Hashed Email Tracking ",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event340:{value:1}},customDimensions:{eVars:{eVar5:"%cc%",eVar12:"%Target : Meta Storeid%",eVar32:"%lmd_bu%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar127:"%Hashed Email Placement Name%",eVar142:"%Hashed Email ID%"}}}},identityMap:"%Custom Attribute%"},sandbox:{name:"prod"}}},"Consent Acceptance (e296)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){if(e){var t=e.target,o=e.target.closest("button");return""!==_satellite.getVar("Country Code")&&"us"!==_satellite.getVar("Country Code")?!t.getAttribute("id")||"evidon-prefdiag-accept"!=t.getAttribute("id")&&"_evidon-banner-acceptbutton"!=t.getAttribute("id")&&"_evidon-accept-button"!=t.getAttribute("id")?null==t.getAttribute("id")&&o&&o.getAttribute("id")&&"evidon-prefdiag-accept"==o.getAttribute("id")?1:0:1:""!==_satellite.getVar("Country Code")&&"us"==_satellite.getVar("Country Code")&&(t.getAttribute("id")&&"evidon-prefdiag-accept"==t.getAttribute("id")&&$(".evidon-prefdiag-subtitle>#prc-tp-cat-all-toggle>.evidon-switch-slider")[0].className.indexOf("slideron")>-1||t.getAttribute("id")&&"_evidon-accept-button"==t.getAttribute("id")||"_evh-ric-c"==t.getAttribute("id")||null==t.getAttribute("id")&&o&&o.getAttribute("id")&&"_evh-ric-c"==o.getAttribute("id"))?1:0}}}},"Facebook Consent Rules":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("facebook")&&getConsentVendors("facebook")}}},"DCG Ebook Click":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.ebook)return 1}}},BPID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.BPID"}},"Facebook Content Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("Cart Product Name")&&""!=_satellite.getVar("Cart Product Name")?_satellite.getVar("Cart Product Name"):void 0!==_satellite.getVar("Purchase Product Name Arr")&&""!==_satellite.getVar("Purchase Product Name Arr")?_satellite.getVar("Purchase Product Name Arr"):location.pathname.indexOf("/p/")>-1&&"undefined"!=typeof lmd&&void 0!==lmd.productInfo&&void 0!==lmd.productInfo.name?lmd.productInfo.name:location.pathname.indexOf("/p/")>-1&&void 0!==_satellite.getVar("Product Sub Series")?_satellite.getVar("Product Sub Series"):void 0}}},"LPP Visitor CompatibleID":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVisitorId(),t=e.getAnalyticsVisitorID();if(void 0!==t&&""!==t)return"[CS]v1|"+t+"[CE]";var o=e.getMarketingCloudVisitorID();if(void 0!==o&&""!==o)return o}catch(e){}}}},"Target : deviceType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(document.URL.toLowerCase().indexOf("lenovopro")>-1){var e=lmd.deviceType;if(e)return e}}catch(e){console.log("Error in product view event"+e)}}}},"XDM Object chat-type-selection":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Chat Type Selection",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event201to300:{event258:{value:1}},customDimensions:{eVars:{eVar14:"%Conversationid%",eVar160:"%chatType%"}}}}},sandbox:{name:"prod"}}},segmentdetail:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return""!==lmd.usersegment&&void 0!==lmd.usersegment&&"NA"!==lmd.usersegment&&"null"!==lmd.usersegment&&void 0!==lmd.productsegment&&"NA"!==lmd.productsegment&&"null"!==lmd.productsegment&&""!==lmd.productsegment?lmd.usersegment+"|"+lmd.productsegment:""!==lmd.usersegment&&void 0!==lmd.usersegment&&"NA"!==lmd.usersegment&&"null"!==lmd.usersegment||void 0===lmd.productsegment||"NA"===lmd.productsegment||"null"===lmd.productsegment||""===lmd.productsegment?""===lmd.usersegment||void 0===lmd.usersegment||"NA"===lmd.usersegment||"null"===lmd.usersegment||void 0!==lmd.productsegment&&"NA"!==lmd.productsegment&&"null"!==lmd.productsegment&&""!==lmd.productsegment?"user&productsegment not Available":lmd.usersegment+"|":"|"+lmd.productsegment}}},"Audio Tracking:  Start to complete":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&void 0!==lmd.AudioInfo){if("start"==lmd.audioInfo.audioStatus)return 1;if("25 - complete"==lmd.audioInfo.audioStatus)return 1;if("50 - complete"==lmd.audioInfo.audioStatus)return 1;if("75 - complete"==lmd.audioInfo.audioStatus)return 1;if("100 - complete"==lmd.audioInfo.audioStatus)return 1}}}},"XDM Object For Checkout Start":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Checkout Start",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%events 1-100 Object - DCR Checkout 1%",event301to400:"%events 301-400 Object - DCR Checkout 1%",event401to500:{event414:{value:"%User Acceptance (e414)%"},event415:{value:"%User Declined (e415)%"}},customDimensions:{eVars:"%Custom Dimension - eVars Object - DCR Checkout 1%",props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:"%checkout:products%"},sandbox:{name:"prod"}}},pageBreadCrumb:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.pageBreadcrumb"}},"Facet Condition of Unchecked (Flash)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.facets&&lmd.facets.selection.indexOf("Unchecked")>-1)return 1}}},"Purchase : Product List Quantity":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.purchase&&lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(e[o].quantity);return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"Target : Browser Width":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.screen.width}}},"smb home page cta":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.smbhomepagecta&&""!==lmd.smbhomepagecta)return String(lmd.smbhomepagecta)}}},"Target : Meta Configtype 2":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("Flash"==$("meta[name='platform']").attr("content")&&void 0!==$("meta[name='productInfo.configType']").attr("content"))return e=$("meta[name='productInfo.configType']").attr("content");if(void 0!==$("meta[name='configtype']").attr("content"))var e=$("meta[name='configtype']").attr("content");else if(void 0!==$("meta[name='productcodeimpressions']").attr("content")){var t=$("meta[name='productcodeimpressions']").attr("content").split(","),o="",n="";$.each(t,(function(e,t){t.match(/WW$/)?n="CTO":o="MTM"})),e="CTO"==n&&"MTM"==o&&""!=o&&""!=n?"Both":"CTO"==n&&""==o?"CTO":"MTM"}return e}}},"Idme Info":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.idme.group"}},Staging_header:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;for(e=0;e<document.getElementsByTagName("script").length;e++)if(document.getElementsByTagName("script")[e].getAttribute("src")&&(document.getElementsByTagName("script")[e].getAttribute("src").indexOf("staging.min.js")>-1||document.getElementsByTagName("script")[e].getAttribute("src").indexOf("development.min.js")>-1))return 1}}},SubseriesID:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.subseriesID"}},"Target : persona":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(document.URL.toLowerCase().indexOf("lenovopro")>-1){var e=lmd.persona;if(e)return e}}catch(e){console.log("Error in product view event"+e)}}}},"Cookie Enabled/Disabled":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!document.cookie}}},"Custom Dimension - props Object - Login Analysis":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},"DCSC : Global Web Interaction Link Click Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t,o={"dcsc-summary-complete":"DCSC Summary Complete","dcsc-ConfigBuild_Option":"Config Build Option Selected",dcsc_config_tab:"Config Soft Tab","Supply Recommend":"Config Supply Recommend","error-populated":"Config Error populated","dcsc-config-summary":"Config Summary",dcsc_sid:"Config SID","dcsc-Internal-Search":"Config Search Interaction","dcsc-config-resourcetracker":"Config Resource Tracker","dcsc-customize-lose":"Config Loose","dcsc-config-expertmode":"Config Expert Mode",dcsc_SWans:"Config SW Configuration","dcsc-workspace-complete":"Config Workspace Complete (Save or Export)","dcsc-configBuild_Option":"Config Customize Config","dcsc-user-login":"Config User Login","dcsc-integrated-workspace-complete":"Config Add to Cart",
recommend:"Recommandation Toggle"};try{if(!(t=o[e.identifier]))throw new Error("Event identifier not found");return t}catch(e){console.log("Error in Web Link Name DCSC Global ",e)}}}},"event 301-400 Object : Instant Saving Offer":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid,o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovobrpub"==r?e={event329:{value:.7},event317:{value:.7}}:"lenovonzpub"==r?e={event329:{value:.82},event317:{value:.82}}:"lenovogbpub"==r?e={event329:{value:.32},event317:{value:.32}}:("lenovoaupub"==r||"lenovoglobaldev"==r)&&(e={event329:{value:.74},event317:{value:.74}})}return e}catch(e){console.log("Error in event 301-400 Object : Instant Saving Offer "+e)}}}},"NXJID Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"nxjid",caseInsensitive:!0}},"XDM Object for Quote Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Quote Tracking",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event8:{value:1},event44:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar47:"%Login Info Login Status%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar185:"%Quote%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%",prop42:"%Login Info Login Status%",prop46:"%Referrer Domain%",prop51:"%Referrer URL%",prop67:"%dtm_codeVersion%"}}}},productListItems:"%Product List - Quote Cart Add%"},sandbox:{name:"prod"}}},"Marketo Not Pages":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return 0==lmd.taxonomytype.toLowerCase().includes("cart")&&0==location.pathname.toLowerCase().endsWith("thankyou")&&0==location.pathname.toLowerCase().includes("newsletter")&&0==location.pathname.toLowerCase().includes("chat-popup")}}},"Internal Search Results Main":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.intSearchResults"}},"event 1-100 Object : Homepage : Header Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){_satellite.logger.log(JSON.stringify(lmd,null,2),null,2);try{var e,t={},o=lmd.productid,n=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovochpub"==a){t={event98:{value:.7},event30:{value:.7}},console.log("Engagement Starting Score: ",e);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.7),e=(parseFloat(s)+.7).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovotwpub"==a?(t={event98:{value:.93},event30:{value:.93}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.93),e=(parseFloat(s)+.93).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovokrpub"==a?(t={event98:{value:1},event30:{value:1}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovonopub"==a?(t={event98:{value:.53},event30:{value:.53}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.53),e=(parseFloat(s)+.53).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovomypub"==a?(t={event98:{value:1},event30:{value:1}},onsole.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoaupub"==a?(t={event98:{value:1},event30:{value:1}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovodkpub"==a?(t={event98:{value:.94},event30:{value:.94}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.94),e=(parseFloat(s)+.94).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovogbpub"==a?(t={event98:{value:.89},event30:{value:.89}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.89),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoinpub"==a?(t={event98:{value:.83},event30:{value:.83}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.83),e=(parseFloat(s)+.83).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovofipub"==a?(t={event98:{value:.65},event30:{value:.65}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.65),e=(parseFloat(s)+.65).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovosgpub"==a?(t={event98:{value:.5},event30:{value:.5}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.5),e=(parseFloat(s)+.5).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoptpub"==a?(t={event98:{value:.72},event30:{value:.72}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.72),e=(parseFloat(s)+.72).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoespub"==a&&(t={event98:{value:1},event30:{value:1}},console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e));localStorage.setItem("score",e)}return t}catch(e){console.log("Exception in event 1-100 Object : Homepage : Header Tracking",e)}}}},"Product List - Internal Search : Product Category":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t={};t={},lmd.searchCategory_ProductIndex;var o=lmd.productid;if(void 0!==lmd.searchCategory_ProductIndex)return t.name=o,t.SKU=o,e.push(t),e}catch(e){}}}},"Custom Dimension : eVar Object : Homepage : Header Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){_satellite.logger.log(JSON.stringify(lmd,null,2),null,2);try{var e={};e.eVar157=_satellite.getVar("Navigation Header"),e.eVar187="Category Home";var t=lmd.productid;void 0!==lmd.intSearchTerm&&(e.eVar2=lmd.intSearchTerm);var o,n=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovochpub"==a){e.eVar57="Navigation|0.70",e.eVar219="+0.70",e.eVar221="+0.70",e.eVar219,console.log("Engagement Starting Score: ",o);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.7),o=(parseFloat(s)+.7).toFixed(2),console.log("Final Engagement Score: ",o)}else"lenovotwpub"==a?(e.eVar57="Navigation|0.93",e.eVar219="+0.93",e.eVar221="+0.93",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.93),o=(parseFloat(s)+.93).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovokrpub"==a?(e.eVar57="Navigation|1",e.eVar219="+1",e.eVar221="+1",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),o=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovonopub"==a?(e.eVar57="Navigation|0.53",e.eVar219="+0.53",e.eVar221="+0.53",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.53),o=(parseFloat(s)+.53).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovomypub"==a||"lenovoaupub"==a?(e.eVar57="Navigation|1",e.eVar219="+1",e.eVar221="+1",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),o=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovodkpub"==a?(e.eVar57="Navigation|0.94",e.eVar219="+0.94",e.eVar221="+0.94",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.94),o=(parseFloat(s)+.94).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovogbpub"==a?(e.eVar57="Navigation|0.89",e.eVar219="+0.89",e.eVar221="+0.89",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.89),o=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoinpub"==a?(e.eVar57="Navigation|0.83",e.eVar219="+0.83",e.eVar221="+0.83",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.83),o=(parseFloat(s)+.83).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovofipub"==a?(e.eVar57="Navigation|0.65",e.eVar219="+0.65",e.eVar221="+0.65",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.65),o=(parseFloat(s)+.65).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovosgpub"==a?(e.eVar57="Navigation|0.50",e.eVar219="+0.50",e.eVar221="+0.50",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.5),o=(parseFloat(s)+.5).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoptpub"==a?(e.eVar57="Navigation|0.72",e.eVar219="+0.72",e.eVar221="+0.72",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.72),o=(parseFloat(s)+.72).toFixed(2),console.log("Final Engagement Score: ",o)):"lenovoespub"==a&&(e.eVar57="Navigation|1.00",e.eVar219="+1.00",e.eVar221="+1.00",e.eVar219,console.log("Engagement Starting Score: ",o),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),o=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",o));localStorage.setItem("score",o)}return"object"==typeof e?e:{}}catch(e){console.log("Exception in evars object for Internal Search",e)}}}},"Checkout : Price Total":{storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd&&lmd.checkout&&lmd.checkout.totalPrice?String(lmd.checkout.totalPrice):"0"}}},"Custom Dimension : eVars Object : SMBHomepage : Recommendation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return e.eVar47=_satellite.getVar("login Status"),e.eVar158=_satellite.getVar("smb home page cta"),e.eVar202=_satellite.getVar("smb home page user type"),void 0!==lmd.productindex&&""!==lmd.productindex&&(e.eVar109=lmd.productindex),void 0!==lmd.productidindex&&""!==lmd.productidindex&&(e.eVar109=lmd.productidindex),e}catch(e){console.log("Exception in evars object of SMB Homepage Recommendation",e)}}}},SheerIdPhone:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='cart.sheeridPhoneNumber']"}},"Target : FLASH ProductID Cart Page":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=lmd.cart.allProducts.length-1,t=lmd.cart.allProducts,o="";return"service"==t[e].configType.toLowerCase()&&(e-=1),"MTMproductModel"!=t[e].configType&&"CTO"!=t[e].configType||(o=t[e].productID),o}}},"productDetails : Price":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t=null,o="";return"checkout"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.checkout,o="checkout"):"cart"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.cart,o="cart"):/orderconfirmation|thankyou/i.test(document.URL.toLowerCase())&&(t=lmd.purchase,o="purchase"),t&&t.allProducts&&(e=t.allProducts),e.map((function(e){return e.price}))}catch(e){console.log("Error in "+o+" Product List DE: "+e)}}}},"Connexity ROI Cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"cnx_roi"}},teadsAuctidVal:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"auctidVal"}},"Purchase Total Price":{defaultValue:"Error",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof lmd&&void 0!==lmd.purchase&&void 0!==lmd.purchase.totalPrice?String(lmd.purchase.totalPrice):""}}},"Target Global Exclude Trigger":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new RegExp("/smbaccount/company|/smbaccount/address|/smbaccount/wallet|/smbaccount/rewards|/smbaccount/profile").test(location.pathname)}}},"XDM Object For Type Ahead Search Top Suggested":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Type Ahead Search Top Suggested",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event208:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"TA Top Suggested : %Top Suggested%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar170:"%Fusion AB SessionID% | %Fusion Exp ID% | %Fusion Query ID%",eVar171:"%User Agent%",eVar175:"%Fusion Exp ID%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"EMEA Inclusion Condition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t={gb_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|flash cart add|powerfront|knexus global|linkedin|marketo global|movable link|namogoo|revlifter|seo visit|snapchat|tiktok|upsellit|ad4mat|dcg ldr news|facebook smb|fe mobile icon|goinstore|google ads smb registration|powerfront test|knexus gb|linkedin smb|linkedin dcg1|linkedin dcg2|quantum metric|tiktok edu|unthinkable pages|wunderkind|google ads cart|bing|bing conv|adform|custom override|",de_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|knexus global|linkedin|marketo global|movable link|namogoo|revlifter|seo visit|snapchat|tiktok|upsellit|ad4mat|dcg ldr news|facebook smb|facebook edu|fe community|fe mobile icon|google ads smb registration|powerfront test|knexus de|linkedin smb|linkedin dcg1|linkedin dcg2|quantum metric|wunderkind|bing|bing conv|adform|custom override|",fr_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|snapchat|tiktok|upsellit|ad4mat|dcg ldr news|facebook smb|facebook edu|fe telesales|fe mobile icon|google ads smb registration|linkedin smb|linkedin dcg1|linkedin dcg2|quantum metric|wunderkind|bing|bing conv|adform|custom override|equalweb|",at_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|snapchat|tiktok|upsellit|ad4mat|dcg ldr news|facebook smb|facebook edu|fe mobile icon|google ads smb registration|linkedin smb|quantum metric|bing|bing conv|adform|custom override|",dk_cc:"|wunderkind|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|tiktok|upsellit|ad4mat|adform|dcg ldr news|facebook edu|fe mobile icon|quantum metric|bing|bing conv|custom override|",no_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|tiktok|upsellit|ad4mat|adform|dcg ldr news|facebook edu|fe mobile icon|quantum metric|bing|bing conv|custom override|",fi_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|tiktok|upsellit|ad4mat|adform|dcg ldr news|facebook edu|quantum metric|bing|bing conv|custom override|",se_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|tiktok|upsellit|ad4mat|adform|dcg ldr news|facebook edu|fe mobile icon|quantum metric|bing|bing conv|custom override|",ie_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|flash cart add|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|tiktok|upsellit|ad4mat|dcg ldr news|facebook smb|fe mobile icon|linkedin smb|quantum metric|google ads smb registration|bing|bing conv|adform|custom override|",il_cc:"|seo visit|confirmit|linkedin|facebook|tiktok|dcg ldr|dcg ldr news|bing|",ee_cc:"|seo visit|confirmit|linkedin|facebook|tiktok|dcg ldr|dcg ldr news|bing|",lv_cc:"|seo visit|confirmit|linkedin|facebook|tiktok|dcg ldr|dcg ldr news|bing|",lt_cc:"|seo visit|confirmit|linkedin|facebook|tiktok|dcg ldr|dcg ldr news|bing|",es_cc:"|wunderkind|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|snapchat|tiktok|upsellit|ad4mat|dcg ldr news|facebook edu|fe mobile icon|powerfront test|linkedin dcg1|linkedin dcg2|quantum metric|bing|bing conv|adform|custom override|",it_cc:"|wunderkind|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|snapchat|tiktok|upsellit|ad4mat|dcg ldr news|facebook edu|fe mobile icon|fe terms conditions|google ads smb registration|linkedin dcg1|linkedin dcg2|quantum metric|bing|bing conv|adform|custom override|",pt_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|tiktok|upsellit|facebook edu|dcg ldr news|quantum metric|bing|adform|custom override|",be_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|snapchat|tiktok|upsellit|ad4mat|adform|dcg ldr news|facebook edu|fe mobile icon|quantum metric|bing|bing conv|custom override|",nl_cc:"|wunderkind|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|snapchat|tiktok|upsellit|ad4mat|adform|dcg ldr news|fe mobile icon|linkedin dcg1|linkedin dcg2|quantum metric|bing|bing conv|custom override|",ch_cc:"|assembly|bazaarvoice|bluecore|confirmit|dcg ldr|facebook|fe dlps cta|fe homepage espot|fe price guarantee|fe flash sale|fe rotating slider|fe msa tele|section hider flash|goinstore thankyou|google ads|google ads cart|powerfront|linkedin|marketo global|movable link|namogoo|seo visit|snapchat|tiktok|upsellit|ad4mat|dcg ldr news|facebook smb|facebook edu|fe telesales|fe mobile icon|google ads smb registration|linkedin smb|quantum metric|bing|bing conv|adform|custom override|"};return null==document.querySelector('meta[name="country"]')?null!==document.querySelector('meta[name="Lenovo.Country"]')?e=document.querySelector('meta[name="Lenovo.Country"]').content:void 0!==_satellite.getVar("locale")?e=_satellite.getVar("locale").split("_")[1].toLowerCase():"undefined"!=typeof lmd&&void 0!==lmd.cc&&(e=lmd.cc.toLowerCase()):e=document.querySelector('meta[name="country"]').content.toLowerCase(),new RegExp(/^(gb|ie|il|pt|ee|lv|lt|be|nl|dk|se|no|fi|de|at|ch|es|it|fr)$/).test(e)?t[e+"_cc"]:""}}},"cart:cartID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.cart.cartID"}},"event 1-100 Object : Add to cart : Product Page MTM":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid,o=getValOnce(t,"s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?e={event98:{value:.89},event30:{value:.89}}:"lenovonzpub"==r||"lenovothpub"==r?e={event98:{value:1},event30:{value:1}}:"lenovodepub"==r?e={event98:{value:.74},event30:{value:.74}}:"lenovokrpub"==r?e={event98:{value:.78},event30:{value:.78}}:"lenovofrpub"==r?e={event98:{value:.67},event30:{value:.67}}:"lenovogbpub"==r?e={event98:{value:.89},event30:{value:.89}}:"lenovomypub"==r?e={event98:{value:.67},event30:{value:.67}}:"lenovoinpub"==r?e={event98:{value:.58},event30:{value:.58}}:"lenovosepub"==r?e={event98:{value:.73},event30:{value:.73}}:"lenovosgpub"==r?e={event98:{value:.7},event30:{value:.7}}:"lenovoptpub"==r?e={event98:{value:.83},event30:{value:.83}}:"lenovoespub"==r&&(e={event98:{value:.88},event30:{value:.88}})}return e}catch(e){console.log("Error in event 1-100 Object : Add to cart : Product Page MTM"+e)}}}},"events 501-600 Object - SR Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return{" event517":{value:1},event518:{value:1},event519:{id:_satellite.getVar("cart:cartID")+_satellite.getVar("cc")+_satellite.getVar("storeID"),value:1}}}catch(e){}}}},"IR - SID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.sid"}},"XDM Object - DCR Checkout":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Checkout"}},commerce:{checkouts:{id:"%Serial Id for Cart Checkout%",value:1}},_experience:{analytics:{event401to500:{event410:{value:"%Cart/Checkout ID Event%"}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar20:"%checkout:shippingMethod%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar50:"%Cart/Checkout ID%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar192:"%Checkout omostoreID %",eVar193:"%GroupID%"},lists:{list1:"%PB&&CTO_Addons%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:"%checkout:products%"},sandbox:{name:"prod"}}},"GDPR Compliant Countries":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof lmd&&void 0!==lmd.cc?new RegExp("^(gb|ie|de|at|ch|fr|it|es|pt|be|nl|no|se|fi|dk|il|lt|lv|ee|pl|tr|cz|sk|bg|gr|hr|hu|rs|si|mk|ro)$","i").test(lmd.cc.toLowerCase()):null!==document.querySelector('meta[name="country"]')?new RegExp("^(gb|ie|de|at|ch|fr|it|es|pt|be|nl|no|se|fi|dk|il|lt|lv|ee|pl|tr|cz|sk|bg|gr|hr|hu|rs|si|mk|ro)$","i").test(document.querySelector('meta[name="country"]').content.toLowerCase()):void 0!==_satellite.getVar("locale")&&void 0!==_satellite.getVar("locale").split("_")[1]&&_satellite.getVar("locale").split("_")[1].toLowerCase()?new RegExp("^(gb|ie|de|at|ch|fr|it|es|pt|be|nl|no|se|fi|dk|il|lt|lv|ee|pl|tr|cz|sk|bg|gr|hr|hu|rs|si|mk|ro)$","i").test(_satellite.getVar("locale").split("_")[1].toLowerCase()):void 0}}},"Custom Dimension : eVar Object : Confirmit_Survey_Finish":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){console.log(JSON.stringify(lmd,null,2),null,2);try{var e={};if(void 0!==window.lmd&&void 0!==window.lmd.survey){e.eVar32=lmd.bu,e.eVar5=lmd.cc,e.eVar119=lmd.survey.respondentid,e.eVar147=lmd.language;var t="";e.eVar141=""!==t?lmd.survey.surveytype+" : "+t:lmd.survey.surveytype,e.eVar135=lmd.survey.satisfaction,void 0!==lmd.survey.surveytype&&void 0!==lmd.survey.purposeofvisit&&(e.eVar136=lmd.survey.surveytype+"|"+lmd.survey.purposeofvisit),void 0!==lmd.survey.surveytype&&void 0!==lmd.survey.purposecomplete&&(e.eVar227=lmd.survey.surveytype+"|"+lmd.survey.purposecomplete),e.eVar228=lmd.survey.easeofuse,e.eVar229=lmd.survey.recommendation}return e}catch(e){}}}},"Segment preference":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!==lmd.survey.SegmentPreference&&""!==lmd.survey.SegmentPreference?lmd.survey.SegmentPreference:""}}},chatType:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.chatType"}},"AP Countries":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("in"==lmd.cc.toLowerCase()||"tw"==lmd.cc.toLowerCase()||"ph"==lmd.cc.toLowerCase()||"kr"==lmd.cc.toLowerCase()||"my"==lmd.cc.toLowerCase()||"hk"==lmd.cc.toLowerCase()||"tw"==lmd.cc.toLowerCase()||"th"==lmd.cc.toLowerCase()||"sg"==lmd.cc.toLowerCase())return!0}}},"Product List - Hybris Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){console.log("Hybrid Add to Cart");try{for(var e,t=document.getElementsByClassName("cart-item").length,o=[],n=[],r=[],a=[],s=[],c=[],i=[],l=[],d=[],u={},m=0;m<t;m++)if("true"==document.getElementsByClassName("cart-item")[m].getAttribute("data-is-cto")){e=(e=(e=document.getElementsByClassName("cart-item")[m].getAttribute("data-p-configuration")).replace("[","{").replace("]","}")).replace(/\:/g,'":"');var g=/_/gi,p=JSON.parse(e);o[m]=p.NB_CPU?p.NB_CPU:p.NB_SP?p.NB_SP:p.DTCPU?p.DTCPU:p.EPCPU?p.EPCPU:p.ISESP?p.ISESP:p.ISESP1?p.ISESP1:p.DUM_DTCPU_M600?p.DUM_DTCPU_M600:p.NBCPUCP?p.NBCPUCP:p.DUM_DTCPU_M600?p.DUM_DTCPU_M600:p.DUM_DTCPU_X1?p.DUM_DTCPU_X1:"Not Found",o[m].indexOf("_")>=0&&(o[m]=o[m].replace(g," ")),n[m]=p.NB_OSL?p.NB_OSL:p.NB_PRELOAD_OS?p.NB_PRELOAD_OS:p.DTOS?p.DTOS:p.DTPRELOAD_OS?p.DTPRELOAD_OS:p.EPOS?p.EPOS:p.EPPRELOAD_OS?p.EPPRELOAD_OS:p.ISEOS?p.ISEPRELOAD_OS:p.NBY70015ISKOTHER2?p.NBY70015ISKOTHER2:p.NBMARKETINGOS?p.NBMARKETINGOS:"Not Found",n[m].indexOf("_")>=0&&(n[m]=n[m].replace(g," ")),r[m]=p.NB_DPY?p.NB_DPY:p.NB_TS?p.NB_TS:p.NB_DISPLAY?p.NB_DISPLAY:p.NBLCD?p.NBLCD:"Not Found",r[m].indexOf("_")>=0&&(r[m]=r[m].replace(g," ")),a[m]=p.NB_MEM?p.NB_MEM:p.DTMEMORY?p.DTMEMORY:p.Memory?p.Memory:p.EPMEMORY?p.EPMEMORY:p.EPMEMORY1?p.EPMEMORY1:p.ISEMEM1?p.ISEMEM1:p.NBRAM?p.NBRAM:p.NBONBOARDRAM?p.NBONBOARDRAM:"Not Found",a[m].indexOf("_")>=0&&(a[m]=a[m].replace(g," ")),s[m]=p.NB_HDD?p.NB_HDD:p.DTHDD1?p.DTHDD1:p.ISEHDD1?p.ISEHDD1:p.DTFIRST_HARD_DRIVE?p.DTFIRST_HARD_DRIVE:p.NB_HDD1?p.NB_HDD1:p.NB_HDD3?p.NB_HDD3:p.NB_HDD?p.NB_HDD:"Not Found",s[m].indexOf("_")>=0&&(s[m]=s[m].replace(g," ")),c[m]=p.NB_BAT?p.NB_BAT:p.NBBATTERY?p.NBBATTERY:"Not Found",c[m].indexOf("_")>=0&&(c[m]=c[m].replace(g," ").replace("FRONT","F")),i[m]=p.NB_BAT2?p.NB_BAT2:"Not Found",i[m].indexOf("_")>=0&&(i[m]=i[m].replace(g," ").replace("REAR","R")),l[m]=p.NB_BODY_COLOR?p.NB_BODY_COLOR:p.NBBASE?p.NBBASE:"Not Found",l[m].indexOf("_")>=0&&(l[m]=l[m].replace(g," ")),_satellite.notify(o[m],1),_satellite.notify(n[m],1),_satellite.notify(r[m],1),_satellite.notify(a[m],1),_satellite.notify(s[m],1),_satellite.notify(c[m],1),_satellite.notify(i[m],1),_satellite.notify(l[m],1)}var f=lmd.cart.allProducts;for(m=0;m<f.length;m++)f[m].productID=f[m].productID.indexOf("-")>0?f[m].productID.split("-")[0]:f[m].productID;var _=0,v=f[f.length-1];console.log(v.productID+"'"+Number(v.quantity))
;for(var b=0;b<f.length;b++)f[b].productID&&("CTO"==(v=f[b]).configType?(""!==v.itadminrecommend?((u={}).name=v.productID,u.priceTotal="",u.quantity="",u.SKU="",u._experience={event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}},customDimensions:{eVars:{eVar23:v.itadminrecommend,eVar208:o[_],eVar209:n[_],eVar210:r[_],eVar211:a[_],eVar212:s[_],eVar213:c[_]+"|"+i[_]+"|"+l[_]}}},d.push(u)):((u={}).name=v.productID,u.priceTotal="",u.quantity="",u.SKU="",u._experience={analytics:{event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}},customDimensions:{eVars:{eVar208:o[_],eVar209:n[_],eVar210:r[_],eVar211:a[_],eVar212:s[_],eVar213:c[_]+"|"+i[_]+"|"+l[_]}}}},d.push(u)),_++):""!==v.itadminrecommend?((u={}).name=v.productID,u.priceTotal="",u.quantity="",u.SKU="",u._experience={analytics:{event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}},customDimensions:{eVars:{eVar23:v.itadminrecommend}}}},d.push(u)):((u={}).name=v.productID,u.priceTotal="",u.quantity="",u.SKU="",u._experience={analytics:{event201to300:{event299:{id:"",value:void 0===v.quantity||null===v.quantity||isNaN(v.quantity)?1:Number(v.quantity)},event300:{id:"",value:void 0===v.price||null===v.price||isNaN(v.price)?0:Number(v.price)}}}},d.push(u)));if(d.length>0)return d}catch(e){}}}},"LISA Engagement RFD Score":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("LISA RFD Score"),t=_satellite.getVar("LISA Engagement Score");e=null!=e?e.toString():"0",t=null!=t?t.toString():"0";var o=(parseFloat(e)+parseFloat(t)).toString();return sessionStorage.setItem("scoreengrfd_1",o),parseFloat(o)<=100?o:"100"}}},"Facet Values":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.facets.values"}},"Cart Product Name":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];if("undefined"!=typeof lmd&&void 0!==lmd.cart&&"undefined"!==lmd.cart.allProducts){var t=lmd.cart.allProducts;if(t.length>0)for(var o=0;o<t.length;o++)e.push(t[o].productName)}return e}}},"Linkedin li_fat_id":{storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"li_fat_id",caseInsensitive:!0}},repID:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd)return void 0!==lmd.agentID&&""!==lmd.agentID?lmd.agentID:void 0!==lmd.purchase&&void 0!==lmd.purchase.repID&&""!==lmd.purchase.repID?lmd.purchase.repID:void 0!==lmd.purchase&&void 0!==lmd.purchase.repid&&""!==lmd.purchase.repid?lmd.purchase.repid:_satellite.getVar("Quote RepID")}}},"Custom Dimension: eVars Object: Internal Search : Content Click: News Link Tracking: All Sites":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid,o=lmd.searchCategory_newsLink,n=lmd.searchCategory_NewsIndex;void 0===lmd.searchCategory_newsLink&&"undefined"==lmd.searchCategory_NewsIndex||(e.eVar218=o,e.eVar109=n);var r,a=getValOnce(t,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var s=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+s),a&&s<=100){var c=_satellite.getVar("reportSuite");if("lenovonzpub"==c){e.eVar57="Internal Search News Click|0.12",e.eVar219="+0.12",e.eVar221="+0.12",console.log("Engagement Starting Score: ",r);var i=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.12),r=(parseFloat(i)+.12).toFixed(2),console.log("Final Engagement Score: ",r)}else"lenovotwpub"==c?(e.eVar57="Internal Search News Click|0.07",e.eVar219="+0.07",e.eVar221="+0.07",console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.07),r=(parseFloat(i)+.07).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovomypub"==c?(e.eVar57="Internal Search News Click|0.3",e.eVar219="+0.3",e.eVar221="+0.3",console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.3),r=(parseFloat(i)+.3).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovomxpub"==c&&(e.eVar57="Internal Searches - No Results|0.48",e.eVar219="+0.48",e.eVar221="+0.48",console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.48),r=(parseFloat(i)+.48).toFixed(2),console.log("Final Engagement Score: ",r));localStorage.setItem("score",r)}return e}catch(e){console.log("Exception in evars object for product compare",e)}}}},"SnapchatScCid cookie":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"snapchatScCid"}},"Product Name - Cart":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(productListItemsArr=[],void 0!==lmd.cart.allProducts){var e=lmd.cart.allProducts;for(x=0;x<e.length;x++)productListItemsArr.push(e[x].productName)}return productListItemsArr.toString()}catch(e){console.log("Error in Product Name - Purchase DE ",e)}}}},"Criteo Home page - APEM":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"/in/en"===window.location.pathname||"/in/en/"==window.location.pathname||"/in/en/pc"==window.location.pathname||("/kr/ko"===window.location.pathname||"/kr/ko/"==window.location.pathname||"/kr/ko/pc"==window.location.pathname||("/my/en"===window.location.pathname||"/my/en/"==window.location.pathname||"/my/en/pc"==window.location.pathname||("/sg/en"===window.location.pathname||"/sg/en/"==window.location.pathname||"/sg/en/pc"==window.location.pathname||("/tw/zh"===window.location.pathname||"/tw/zh/"==window.location.pathname||"/tw/zh/pc"==window.location.pathname||"/tw/zh/pc#"==window.location.pathname||("/th/th"===window.location.pathname||"/th/th/"==window.location.pathname||"/th/th/pc"==window.location.pathname||"/th/th/pc#"==window.location.pathname||"/th/en"===window.location.pathname||"/th/en/"==window.location.pathname||"/th/en/pc"==window.location.pathname||"/th/en/pc#"==window.location.pathname||(!!["/ph/en","/ph/en/","/ph/en/pc","/ph/en/pc#","/hk/en","/hk/en/","/hk/en/pc","/hk/en/pc#"].includes(window.location.pathname)||void 0))))))}}},"Serial Id for Cart Open":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("cart:cartID")+_satellite.getVar("cc")+_satellite.getVar("storeID")}}},"event 301-400 Object : Banner Interaction : All Site (Flash)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=";"+lmd.productid,o=getValOnce(t,"s_eVar57",0);e={event348:{value:1}};var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));return console.log("sessionscoreengrfd"+n),o&&n<=100&&"lenovoaupub"==_satellite.getVar("reportSuite")&&(e={event329:{value:.57},event317:{value:.57}}),e}catch(e){console.log("Error in event 301-400 Object : Banner Interaction : All Site (Flash)"+e)}}}},"Cart Product Id":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];if("undefined"!=typeof lmd&&void 0!==lmd.cart&&"undefined"!==lmd.cart.allProducts){var t=lmd.cart.allProducts;if(t.length>0)for(var o=0;o<t.length;o++)e.push(t[o].productID)}return e}}},"Virtual SMB Page Name":{defaultValue:"",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return lmd.pageName}catch(e){}}}},"Country Code lmd":{storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc.toLowerCase()}}},"events 1-100 Object : Current Step Product Configurator":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={};if(lmd.productid)var o=_satellite.getVar("Current Config Step");var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+n),"tab-Accessories"==o)getValOnce(o,"s_eVar57",0)&&n<=100&&("lenovodepub"==(r=_satellite.getVar("reportSuite"))&&(t={event98:{value:.74},event30:{value:.74}}),"lenovofrpub"==r&&(t={event98:{value:.63},event30:{value:.63}}),"lenovoaupub"==r&&(t={event98:{value:.43},event30:{value:.43}}),"lenovogbpub"==r&&(t={event98:{value:.42},event30:{value:.42}}),"lenovomxpub"==r&&(t={event98:{value:1},event30:{value:1}}),"lenovoarpub"==r&&(t={event98:{value:1},event30:{value:1}}));else if("tab-Software"==o)getValOnce(o,"s_eVar57",0)&&n<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?t={event98:{value:.7},event30:{value:.7}}:"lenovodepub"==r?t={event98:{value:.89},event30:{value:.89}}:"lenovoptpub"==r?t={event98:{value:.67},event30:{value:.67}}:"lenovoespub"==r?t={event98:{value:.65},event30:{value:.65}}:"lenovothpub"==r?t={event98:{value:.8},event30:{value:.8}}:"lenovohkpub"==r?t={event98:{value:.72},event30:{value:.72}}:"lenovosepub"==r?t={event98:{value:.27},event30:{value:.27}}:"lenovofipub"==r?t={event98:{value:.59},event30:{value:.59}}:"lenovokrpub"==r?t={event98:{value:.56},event30:{value:.56}}:"lenovonopub"==r?t={event98:{value:.4},event30:{value:.4}}:"lenovodkpub"==r?t={event98:{value:.47},event30:{value:.47}}:"lenovofrpub"==r?t={event98:{value:.75},event30:{value:.75}}:"lenovomypub"==r?t={event98:{value:.85},event30:{value:.85}}:"lenovotwpub"==r?t={event98:{value:.89},event30:{value:.89}}:"lenovobrpub"==r?t={event98:{value:.69},event30:{value:.69}}:"lenovoinpub"==r&&(t={event98:{value:.42},event30:{value:.42}}));else if("tab-Warranty"==o||"tab-stackableWarranty"==o){var r;getValOnce(o,"s_eVar57",0)&&n<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?t={event98:{value:.21},event30:{value:.21}}:"lenovoinpub"==r?t={event98:{value:.25},event30:{value:.25}}:"lenovothpub"==r?t={event98:{value:.5},event30:{value:.5}}:"lenovohkpub"==r&&(t={event98:{value:.22},event30:{value:.22}}),localStorage.setItem("score",e))}return t}catch(e){console.log("error in events 1-100 Object : Current Step Product Configurator "+e)}}}},"XDM Object For SR Sign Out":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"SR Sign Out",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event501to600:{event516:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar237:"%Shop Login Status%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Internal Search: No result: Suggested Index":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.SuggestedWordIndex"}},"Target : ProductType CustomCode":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t="";return void 0!==document.querySelectorAll("meta[name='platform']")[0]&&(e=document.querySelectorAll("meta[name='platform']")[0].content),void 0!==document.querySelectorAll("meta[name='configtype']")[0]&&(t=document.querySelectorAll("meta[name='configtype']")[0].content),void 0!==document.querySelectorAll("meta[name='pagetype']")[0]&&"Flash"==e?document.querySelectorAll("meta[name='pagetype']")[0].content:location.href.indexOf("accessories")>-1&&window.location.href.indexOf("/p/")>-1?"Accessory":("MTM"==t||"CTO"==t)&&window.location.href.indexOf("/p/")>-1?"Modal":""==t&&window.location.href.indexOf("/p/")>-1?"Subseries":void 0}}},"XDM Object for Error Messages":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Error Messages",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar76:"%error:errorInfo%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%",prop55:"%error:errorInfo%"}}}}},sandbox:{name:"prod"}}},"Business unit":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.bu"}},"Purchase omostoreID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.purchase&&lmd.purchase.allProducts?lmd.purchase.allProducts[0].omostoreID:"Not Set"}}},"QM countries":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^(arsmbpro|clsmbpro|cosmbpro|mxsmbpro|brsmbpro|webca|usweb|perksoffer|lifecare|workingadvantage|smbpro|gbsmbpro|iesmbpro|desmbpro|atsmbpro|frsmbpro|chsmbpro|insmbpro|jpsmbpro|ausmbpro|sg_smbpro|kr_smbpro|tw_smbpro|hksmbpro|mysmbpro|thsmbpro|nzsmb|arsmbpro|clsmbpro|cosmbpro|brweb|mxweb|gbweb|frweb|deweb|auweb|jpweb|thweb|twweb|inweb|krweb|sgweb|myweb|hkweb|arweb|coweb|clweb|peweb)$/i.test(_satellite.getVar("Target : Meta Storeid"))||/^(arsmbpro|clsmbpro|cosmbpro|mxsmbpro|brsmbpro|webca|usweb|perksoffer|lifecare|workingadvantage|smbpro|gbsmbpro|iesmbpro|desmbpro|atsmbpro|frsmbpro|chsmbpro|insmbpro|jpsmbpro|ausmbpro|sg_smbpro|kr_smbpro|tw_smbpro|hksmbpro|mysmbpro|thsmbpro|nzsmb|arsmbpro|clsmbpro|cosmbpro|brweb|mxweb|gbweb|frweb|deweb|auweb|jpweb|thweb|twweb|inweb|krweb|sgweb|myweb|hkweb|arweb|coweb|clweb|peweb)$/i.test(lmd.storeID)||/^(arsmbpro|clsmbpro|cosmbpro|mxsmbpro|brsmbpro|webca|usweb|perksoffer|lifecare|workingadvantage|smbpro|gbsmbpro|iesmbpro|desmbpro|atsmbpro|frsmbpro|chsmbpro|insmbpro|jpsmbpro|ausmbpro|sg_smbpro|kr_smbpro|tw_smbpro|hksmbpro|mysmbpro|thsmbpro|nzsmb|arsmbpro|clsmbpro|cosmbpro|brweb|mxweb|gbweb|frweb|deweb|auweb|jpweb|thweb|twweb|inweb|krweb|sgweb|myweb|hkweb|arweb|coweb|clweb|itweb|itsmbpro|iteducation|peweb)$/i.test(lmd.storeID)||lmd.storeID.toString().toLowerCase()=="smbpro-ca".toLowerCase()||lmd.storeID.toString().toLowerCase().indexOf("edu".toLowerCase())>-1||/^(chweb|itweb|nlweb|beweb|esweb|ptweb|fiweb|seweb|dkweb|noweb|ieweb|atweb)$/i.test(lmd.storeID)}}},"NextJump Cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"nextjump"}},"events 301-400 Object : recommend_cart_add":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t={};t.eVar58=_satellite.getVar("pageName"),t.eVar75="D=g";var o=t.eVar58,n=lmd.cart.product.productID;n=";"+n+";;;;eVar214="+o;var r,a=getValOnce(n,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var s=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+s),a&&s<=100){var c=_satellite.getVar("reportSuite");if("lenovonzpub"==c){e={event317:{value:.36},event329:{value:.36}},console.log("Engagement Starting Score: ",r);var i=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.36),r=(parseFloat(i)+.36).toFixed(2),console.log("Final Engagement Score: ",r)}else"lenovodepub"==c?(e={event317:{value:.41},event329:{value:.41}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.41),r=(parseFloat(i)+.41).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovofrpub"==c?(e={event317:{value:.25},event329:{value:.25}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.25),r=(parseFloat(i)+.25).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovogbpub"==c?(e={event317:{value:.27},event329:{value:.37}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.27),r=(parseFloat(i)+.27).toFixed(2),console.log("Final Engagement Score: ",r)):"lenovochpub"==c&&(e={event317:{value:.45},event329:{value:.45}},console.log("Engagement Starting Score: ",r),i=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",i),console.log("New Engagement Score added: ",.45),r=(parseFloat(i)+.45).toFixed(2),console.log("Final Engagement Score: ",r));localStorage.setItem("score",r)}return e}catch(e){console.log("Exception in events 301-400 object recommend_cart_add",e)}}}},"events 301-400 Object - Hybris Cart Add":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||localStorage.setItem("score",0),last_promo&&localStorage.getItem("score")<100){var t=_satellite.getVar("reportSuite");"lenovodkpub"==t||"lenovosepub"==t||"lenovofipub"==t||"lenovonopub"==t?(e.event317={id:"",value:1},e.event329={id:"",value:1}):"lenovosgpub"==t&&(e.event317={id:"",value:.2},e.event329={id:"",value:.2})}return e}catch(e){console.log("Error in events 301-400 Object - Hybris Cart Add"+e)}}}},"XDM Object For Knexus video interaction":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Knexus Vedio Tracking",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%Events 1-100 Object : Knexus Video Tracking%",event101to200:"%Events 101-200 Object : Knexus Video Tracking%",customDimensions:{eVars:"%Custom Dimension - eVars Object : Knexus Video Tracking%"}}}},sandbox:{name:"prod"}}},"DCR Global DCG + B2B eVar":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t={};try{switch(e.identifier){case"DCGTools&resources":t.eVar222=lmd["tools&resources"];break;case"dcgCustomInteraction":t.eVar23=lmd.dcgCustomInteraction,t.eVar108=_satellite.getVar("Error_CustomReferrer"),t.eVar142=_satellite.getVar("Hashed Email ID"),t.eVar127=_satellite.getVar("Hashed Email Placement Name"),t.eVar31=_satellite.getVar("Login ID"),t.eVar47=_satellite.getVar("login Status"),"undefined"!=typeof lmd&&void 0!==lmd.user&&void 0!==lmd.user.emailID&&""!==lmd.user.emailID&&(t.eVar142=lmd.user.emailID);break;case"DCGServices":t.eVar222=lmd.services;break;case"DCG_LetsTalk":t.eVar23=lmd.Contactus;break;case"ldr-interaction":t.eVar23=lmd.ldr.interaction;break;case"CaseStudy_Clicked":t.eVar23="DCG Resources:Case Study-"+lmd.CaseStudy;break;case"Brochure_Clicked":t.eVar23="DCG Resources:Brochure-"+lmd.Brochure;break;case"BannerTab":t.eVar222=lmd.banner;break;case"ResourcesSearch":case"ResourcesNoResult":t.eVar2=_satellite.getVar("Internal Search Term Main");break;case"DownloadPDF_Clicked":t.eVar33="DCG Resources:"+lmd.PDF;break;case"Configurator_Tabs":t.eVar23=lmd.configstep;break;case"Collapse_All_Categories":t.eVar23="B2B|CTO|Collapse all categories";break;case"Expand_All_Categories":t.eVar23="B2B|CTO|Expand all categories";break;case"Configurator_Preview":t.eVar23="B2B|CTO|Configurator Preview";break;case"Reset_To_Base_Spec":t.eVar23="B2B|CTO|reset to base specs"}return t}catch(e){console.log("Error in DCR Global eVar",e)}}}},"ATP Checkout":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.atp.checkoutToPurchaseTime"}},"ProfileType Sheer ID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.profileType"}},"recommend_cart_add for product ID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.cart.product.productID"}},"Events 301-400 Object : Product Compare":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={},o="";for(e=0;e<lmd.compare.tool.ProductID.length;e++)o+=lmd.compare.tool.ProductID[e]+"|";var n,r=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var a=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+a),r&&a<=100){var s=_satellite.getVar("reportSuite");if("lenovoaupub"==s||"lenovouspub"==s){t={event317:{value:.5},event329:{value:.5}},console.log("Starting Engagement Score: ",n);var c=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.5),n=(parseFloat(c)+.5).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)}else"lenovodepub"==s?(t={event317:{value:.47},event329:{value:.47}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.47),n=(parseFloat(c)+.47).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovonzpub"==s?(t={event317:{value:.24},event329:{value:.24}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.24),n=(parseFloat(c)+.24).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovomxpub"==s||"lenovoarpub"==s?(t={event317:{value:.69},event329:{value:.69}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.69),n=(parseFloat(c)+.69).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovoptpub"==s?(t={event317:{value:.11},event329:{value:.11}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.11),n=(parseFloat(c)+.11).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n)):"lenovoespub"==s&&(t={event317:{value:.18},event329:{value:.18}},console.log("Starting Engagement Score: ",n),c=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",c),console.log("New Engagement Score added: ",.18),n=(parseFloat(c)+.18).toFixed(2),console.log("Final Engagement Score: ",n),console.log(n))}return localStorage.setItem("score",n),t}catch(e){console.log("Exception in events 301-400 object for product compare",e)}}}},"AR + PE":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cc&&lmd.cc.toString().toLowerCase()=="AR".toLowerCase()||lmd.cc.toString().toLowerCase()=="PE".toLowerCase()}}},"events 1-100 Object - Homepage : Recommendation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{lmd.productid;var e={};console.log("lisa starts");var t,o=getValOnce("s_event_recommend","s_eVar57",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(o&&n<=100){console.log("checking RS");var r=_satellite.getVar("reportSuite");"lenovoaupub"==r?(e={event98:{value:.3},event30:{value:.3}},console.log("Final Engagement Score from event part 1 from recommendation: ",t)):"lenovouspub"==r?(e={event98:{value:.43},event30:{value:.43}},console.log("Final Engagement Score  from event part 1 from recommendation:  ",t)):"lenovochpub"==r&&(e={event98:{value:.3},event30:{value:.3}},console.log("Final Engagement Score  from event part 1 from recommendation:  ",t))}return e}catch(e){console.log("Error in events 1-100 Object : homepage:recommendation"+e)}}}},"Knexus ProductID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.ProductID"}},"Custom Dimension : Product List Items : Homepage : Recommendation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.productid,o=lmd.productID;return null!=t?e.name=t:null!=o&&(e.name=o),e}catch(e){console.log("Error in Product List - Homepage Recommendation ",e)}}}},"Internal Search : No Result Suggested Word":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.SuggestedWord&&"undefined"!=lmd.SuggestedWord?String("No Result Suggested Word : "+lmd.SuggestedWord):""}}},"events 1-100 Object - Internal Search : Main - Ecomm Site":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(void 0!==window.lmd.intSearchResults)if("zero"==lmd.intSearchResults||"zero"==lmd.intSearchResults||"0"==lmd.intSearchResults||"0"==lmd.intSearchResults||0==lmd.intSearchResults){console.log("set to event94"),e.event94={value:1},_satellite.getVar("Plugin : getValOnce");var t=getValOnce("s.products_event","s_eVar57",0);""==localStorage.getItem("score")||""==localStorage.getItem("score")||"Undefined"==localStorage.getItem("score")||null==localStorage.getItem("score")||localStorage.getItem("score"),""==localStorage.getItem("cur_eng_score")||""==localStorage.getItem("cur_eng_score")||"Undefined"==localStorage.getItem("cur_eng_score")||null==localStorage.getItem("cur_eng_score")||localStorage.getItem("cur_eng_score"),"NaN"==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||"Undefined"==localStorage.getItem("tot_rfd_score")||"undefined"==localStorage.getItem("tot_rfd_score")||null==localStorage.getItem("tot_rfd_score")||localStorage.getItem("tot_rfd_score");var o=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2),n=(getValOnce(o,"s_tot_rfd",0),parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)));if(t&&n<=100)var r=_satellite.getVar("reportSuite")}else console.log("set to s.events event6"),e.event6={value:1};return""==localStorage.getItem("score")||""==localStorage.getItem("score")||"Undefined"==localStorage.getItem("score")||null==localStorage.getItem("score")||localStorage.getItem("score"),""==localStorage.getItem("cur_eng_score")||""==localStorage.getItem("cur_eng_score")||"Undefined"==localStorage.getItem("cur_eng_score")||null==localStorage.getItem("cur_eng_score")||localStorage.getItem("cur_eng_score"),"NaN"==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||"Undefined"==localStorage.getItem("tot_rfd_score")||"undefined"==localStorage.getItem("tot_rfd_score")||null==localStorage.getItem("tot_rfd_score")||localStorage.getItem("tot_rfd_score"),o=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2),getValOnce(o,"s_tot_rfd",0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),_satellite.getVar("Plugin : getValOnce"),(t=getValOnce("s.products_event","s_eVar57",0))&&n<=100&&("lenovouspub"==(r=_satellite.getVar("reportSuite"))?(e.event98={value:.58},e.event30={value:.58}):"lenovoaupub"==r?(e.event98={value:.54},e.event30={value:.54}):"lenovonzpub"==r&&(e.event98={value:.47},e.event30={value:.47})),e}catch(e){console.log("Error in events Object : internal search - main-ecomm site"+e)}}}},"Device Type":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.deviceType"}},"Blue Core - Run_Key":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"run_key",caseInsensitive:!0}},omostoreID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=lmd.omostoreID&&""!=lmd.omostoreID)return lmd.omostoreID}}},"Is customize page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().indexOf("/customize")>-1}}},"XDM Object for LPP login":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"LPP login",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event301:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar31:"%User ID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar86:"%LPP Company Name | Company ID%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%",eVar204:"%LPP LenovoPartnerDetails%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Fusion Query ID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.fusionQueryID"}},"Checkout : Product List Quantity":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.checkout&&lmd.checkout.allProducts){var e=lmd.checkout.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(e[o].quantity);return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"XDM Object For IDME Initiate":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"IDME Initiate",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event278:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",
prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"DCSC : Events Object 201-300":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e){return{value:e}}function o(e){switch(e){case"Save":n.event250=t(1);break;case"Restart":n.event251=t(1);break;case"export":n.event252=t(1)}}var n={};try{switch(e.identifier){case"dcsc-summary-complete":case"dcsc-workspace-complete":o(lmd.dcsc.workspace.step);break;case"dcsc_config_tab":n.event264=t(1);break;case"dcsc-config-summary":n.event254=t(1);break;case"dcsc-config-resourcetracker":n.event255=t(1);break;case"recommend":"On"===lmd.recommendation&&(n.event237=t(1));break;case"dcsc-config-expertmode":n.event256=t(1);break;case"dcsc-configBuild_Option":n.event249=t(1)}return n}catch(e){console.error("Error in DCSC Global Event Object 201-300 DE",e)}}}},"Checkout : Product List Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.checkout&&lmd.checkout.allProducts){var e=lmd.checkout.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(e[o].productName);return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"Custom Dimension - eVars Object - Internal Search : Product Category":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=lmd.searchCategory_ProductIndex;if(lmd.productid,void 0!==lmd.searchCategory_ProductIndex&&(e.eVar23=lmd.custom,e.eVar85=lmd.resultType,e.eVar109=t,e.eVar168=lmd.subseriesID,e.eVar58=_satellite.getVar("pageName"),e.eVar75=_satellite.getVar("URL"),e.eVar85=lmd.resultType,void 0!==lmd.searchCategory_ProductIndex)){_satellite.getVar("Plugin : getValOnce");var o=getValOnce("s.products_evar","s_eVar57",0);""==localStorage.getItem("score")||""==localStorage.getItem("score")||"Undefined"==localStorage.getItem("score")||"undefined"==localStorage.getItem("score")||localStorage.getItem("score"),"NaN"==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||""==localStorage.getItem("tot_rfd_score")||"Undefined"==localStorage.getItem("tot_rfd_score")||"undefined"==localStorage.getItem("tot_rfd_score")||null==localStorage.getItem("tot_rfd_score")||localStorage.getItem("tot_rfd_score");var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(o&&n<=100){var r=_satellite.getVar("reportSuite");"lenovonzpub"==r?(e.eVar57="Products Search Result Clicks|0.35",e.eVar219="+0.35",e.eVar221="+0.35"):"lenovofrpub"==r?(e.eVar57="Products Search Result Clicks|0.63",e.eVar219="+0.63",e.eVar221="+0.63"):"lenovogbpub"==r?(e.eVar57="Products Search Result Clicks|0.59",e.eVar219="+0.59",e.eVar221="+0.59"):"lenovouspub"==r?(e.eVar57="Products Search Result Clicks|0.71",e.eVar219="+0.71",e.eVar221="+0.71"):"lenovokrpub"==r?(e.eVar57="Products Search Result Clicks|0.44",e.eVar219="+0.44",e.eVar221="+0.44"):"lenovothpub"==r?(e.eVar57="Products Search Result Clicks|0.35",e.eVar219="+0.35",e.eVar221="+0.35"):"lenovohkpub"==r?(e.eVar57="Products Search Result Clicks|0.83",e.eVar219="+0.83",e.eVar221="+0.83"):"lenovonopub"==r?(e.eVar57="Products Search Result Clicks|0.40",e.eVar219="+0.40",e.eVar221="+0.40"):"lenovomypub"==r?(e.eVar57="Products Search Result Clicks|0.81",e.eVar219="+0.81",e.eVar221="+0.81",console.log("Final Engagement Score evar of Product category: 0.81")):"lenovoinpub"==r?(e.eVar57="Products Search Result Clicks|0.50",e.eVar219="+0.50",e.eVar221="+0.50"):"lenovodkpub"==r?(e.eVar57="Products Search Result Clicks|0.76",e.eVar219="+0.76",e.eVar221="+0.76"):"lenovosepub"==r?(e.eVar57="Products Search Result Clicks|0.82",e.eVar219="+0.82",e.eVar221="+0.82"):"lenovofipub"==r?(e.eVar57="Products Search Result Clicks|0.59",e.eVar219="+0.59",e.eVar221="+0.59"):"lenovosgpub"==r?(e.eVar57="Products Search Result Clicks|0.60",e.eVar219="+0.60",e.eVar221="+0.60"):"lenovoitpub"==r?(e.eVar57="Products Search Result Clicks|0.83",e.eVar219="+0.83",e.eVar221="+0.83"):"lenovoptpub"==r?(e.eVar57="Products Search Result Clicks|0.39",e.eVar219="+0.39",e.eVar221="+0.39"):"lenovoitpub"==r&&(e.eVar57="Products Search Result Clicks|0.83",e.eVar219="+0.83",e.eVar221="+0.83")}}return e}catch(e){}}}},"Reddit Hash":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==sessionStorage.reddit_sha256&&null!==sessionStorage.reddit_sha256?sessionStorage.reddit_sha256:""}}},"events 201-300 Object : Current Step Product Configurator":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(lmd.productid)var t=_satellite.getVar("Current Config Step");var o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));return console.log("sessionscoreengrfd"+o),"tab-Accessories"==t?e={event223:{value:1}}:"tab-Software"==t?e={event222:{value:1}}:"tab-Warranty"!=t&&"tab-stackableWarranty"!=t||(e={event221:{value:1}}),e}catch(e){console.log("error in events 201-300 Object : Current Step Product Configurator "+e)}}}},"event 400-500 Object : Deals Page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return"End Of Life"===lmd.Subseriesstatus&&(e.event408={value:1}),"Temporarily Unavailable"===lmd.Subseriesstatus&&(e.event407={value:1}),e}catch(e){console.log("Error in event400to500 : DCR Purchase DE "+e)}}}},"Timer Tracker":{defaultValue:"",modulePath:"core/src/lib/dataElements/sessionStorage.js",settings:{name:"PageTimerVal"}},"Target : smbdetails":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(document.URL.toLowerCase().indexOf("lenovopro")>-1){var e=lmd.smbdetails;if(e)return e}}catch(e){console.log("Error in product view event"+e)}}}},"XDM Object For Loyalty Splash Sign up":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Loyalty Splash Sign up",linkClicks:{value:1}},webPageDetails:{server:"%domain%",pageViews:{value:1}}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar19:"%RepID%",eVar21:"%CustomerID%",eVar23:"%Loyalty User Interaction%",eVar32:"%Business unit%",eVar47:"%Loyalty User Status%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Target : Customecode Categoryid":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.href,t="",o="";return void 0!==document.querySelectorAll("meta[name='platform']")[0]&&(o=document.querySelectorAll("meta[name='platform']")[0].content),void 0!==document.querySelectorAll("meta[name='productInfo.category']")[0]&&"Flash"==o?t=document.querySelectorAll("meta[name='productInfo.category']")[0].content:(e.indexOf("laptop")>-1||e.indexOf("notebook")>-1?t="Laptops":e.indexOf("desktops")>-1?t="Desktops":e.indexOf("tablet")>-1?t="Tablets":e.indexOf("workstations")>-1?t="Workstations":e.indexOf("accessories")>-1?t="Accessories":/devices|arvr|daydreamvr|smart|jedi/.test(e)&&(t="Smart Devices"),t)}}},"XDM Object for Internal Search:: Non Search results":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search:: Non Search results",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event101to200:{event178:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar85:"%Internal Search Location Main%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"East EMEA Inclusion Condition":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t={pl_cc:"|EMEA CSS Fix|Instant saving|seo visit|search-result|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo global|fe msa tele|facebook PL|facebook EET DCG|google EET|assembly|",tr_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo global|fe msa tele|facebook TR|facebook EET DCG|google TR|google EET|assembly|",cz_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",sk_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook SK|facebook EET DCG|google EET|assembly|",bg_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google BG|google EET|assembly|",gr_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",hu_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",hr_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",si_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",rs_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",ro_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg non ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",mk_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo global|fe msa tele|facebook EET DCG|google EET|assembly|",ru_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|linkedin|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",am_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|linkedin|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",uz_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|linkedin|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",ua_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",md_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",by_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",kz_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",ae_cc:"|Data Center GTM|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|google MEA|twitter|assembly|",za_cc:"|Data Center GTM|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook ZA|facebook RUCIS DCG|google ZA|google MEA|assembly|",sa_cc:"|Data Center GTM|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|twitter|assembly|",eg_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook EG|facebook RUCIS DCG|google MEA|twitter|assembly|",pk_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",ao_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",lb_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|google MEA|twitter|assembly|",ke_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",tz_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",jo_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",ng_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",gh_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|dcg ldr|marketo MEA/RUCIS|fe msa tele|facebook RUCIS DCG|assembly|",ma_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|fe msa tele|facebook MA|google MEA|twitter|assembly|",tn_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|fe msa tele|assembly|",dz_cc:"|EMEA CSS Fix|Instant saving|seo visit|dcg ldr Widget|dcg ldr chat|dcg ldr news|fe msa tele|assembly|"};return null==document.querySelector('meta[name="country"]')?null!==document.querySelector('meta[name="Lenovo.Country"]')?e=document.querySelector('meta[name="Lenovo.Country"]').content:void 0!==_satellite.getVar("locale")?e=_satellite.getVar("locale").split("_")[1].toLowerCase():"undefined"!=typeof lmd&&void 0!==lmd.cc&&(e=lmd.cc.toLowerCase()):e=document.querySelector('meta[name="country"]').content.toLowerCase(),new RegExp(/^(pl|tr|cz|sk|bg|gr|hu|hr|si|rs|ro|mk|ru|ua|md|by|kz|ae|za|sa|eg|pk|ao|lb|ke|tz|jo|ng|gh|ma|tn|dz|uz|am)$/).test(e)?t[e+"_cc"]:""}}},"XDM Object for Lenovo Partner Portal Page Load":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Lenovo Partner Portal Page Load",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar31:"%User ID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar86:"%LPP Company Name | Company ID%",eVar147:"%Language%",eVar169:"%LPP Visitor CompatibleID%",eVar171:"%User Agent%",eVar180:"%BPID% | %storeID%",eVar191:"%Partner Mapping1%",eVar192:"%Partner Mapping2%",eVar193:"%GroupID%",eVar204:"%LPP LenovoPartnerDetails%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"purchase:event":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.purchase&&void 0!==lmd.purchase.orderID&&"trackcall"!==lmd.purchase.approach?void 0!==lmd.platform&&"flash"===lmd.platform.toLowerCase()?"invalid purchase":"valid purchase":"invalid purchase"}}},"Target : Meta Display":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='display_type']"}},"ConfirmIT Group":{storageDuration:"session",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_confirmitgroup"}},"Survey Type":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.survey.surveytype"}},"XDM Object for Lenovo Edu profile creation":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Lenovo Edu Profile Creation",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:{event58:{value:1}},event301to400:{event340:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar14:"%Profile Path & Profile Type%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar31:"%Login Info LenovoID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar127:"%Hashed Email Placement Name%",eVar142:"%Hashed Email ID%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},identityMap:"%Custom Attribute%"},sandbox:{name:"prod"}}},"Target : Purchase OID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==lmd.purchase&&void 0!==lmd.purchase.orderID?lmd.purchase.orderID:"Not Set"}}},"li_fat_id value":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("li_fat_id cookie");return null==e||isNaN(e)?"":String(e)}}},"Existing URL":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.existingURL"}},"DCG & O365":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(location.pathname.toLowerCase().includes("/data-center")||location.pathname.toString().toLowerCase().indexOf("/vmwareexplorebarcelona-2023".toLowerCase())>-1||location.pathname.toLowerCase().includes("/servers-storage")||location.pathname.toLowerCase().includes("customer-centers/dcg/chineham-uk")||location.pathname.toLowerCase().includes("customer-centers/dcg/stuttgart"))&&0==location.pathname.toLowerCase().includes("/O365-data-management")}}},"Shop Login Status":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.shoploginInfo.shoploginStatus"}},"XDM Object For Confirmit Survey Initiate":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Confirmit Survey Initiate",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event101to200:{event189:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"User Status":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.userType"}},"SMB Only":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Meta Data : Business Unit").toString().toLowerCase()=="smb".toLowerCase()}}},"Target : value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(document.URL.toLowerCase().indexOf("lenovopro")>-1){var e=lmd.value;if(e)return e}}catch(e){console.log("Error in product view event"+e)}}}},"Error Page Event":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"errorPage"===_satellite.getVar("pageType")?1:0}}},"Events 101-200 Object : Video Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t={};if("lenovotwpub"==(a=_satellite.getVar("reportSuite"))){var o=localStorage.getItem("score");r=(parseFloat(o)+.22).toFixed(2),console.log("Engagement Score"+r)}if("lenovomxpub"==a&&(o=localStorage.getItem("score"),r=(parseFloat(o)+.15).toFixed(2),console.log("Engagement Score"+r)),"lenovoarpub"==a)o=localStorage.getItem("score"),r=(parseFloat(o)+.15).toFixed(2),console.log("Engagement Score"+r);else if("25-complete"==lmd.video.videoInfo.videoStatus){lmd.video.videoInfo.videoViewTime,e={event120:{value:1}},getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0);var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));console.log("sessionscoreengrfd"+n),n<=100&&("lenovoaupub"==(a=_satellite.getVar("reportSuite"))?(o=localStorage.getItem("score"),r=(parseFloat(o)+.07).toFixed(2),console.log("Engagement Score"+r)):"lenovodepub"==a?(o=localStorage.getItem("score"),r=(parseFloat(o)+.19).toFixed(2),console.log("Engagement Score"+r)):"lenovochpub"==a&&(o=localStorage.getItem("score"),r=(parseFloat(o)+.15).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r))}else if("50-complete"==lmd.video.videoInfo.videoStatus)lmd.video.videoInfo.videoViewTime,getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+n),n<=100&&("lenovouspub"==(a=_satellite.getVar("reportSuite"))?(console.log("sessionscoreengrfd"+n),o=localStorage.getItem("score"),r=(parseFloat(o)+.12).toFixed(2),console.log("Engagement Score"+r)):"lenovogbpub"==a&&(console.log("sessionscoreengrfd"+n),o=localStorage.getItem("score"),r=(parseFloat(o)+.18).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r));else if("75-complete"==lmd.video.videoInfo.videoStatus)lmd.video.videoInfo.videoViewTime,getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+n),n<=100&&("lenovoaupub"==(a=_satellite.getVar("reportSuite"))?(o=localStorage.getItem("score"),r=(parseFloat(o)+.09).toFixed(2),console.log("Engagement Score"+r)):"lenovotwpub"==a&&(o=localStorage.getItem("score"),r=(parseFloat(o)+.26).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r));else if("100-complete"==lmd.video.videoInfo.videoStatus){var r,a;if(lmd.video.videoInfo.videoViewTime,getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+n),n<=100)"lenovodepub"==(a=_satellite.getVar("reportSuite"))?(o=localStorage.getItem("score"),r=(parseFloat(o)+.11).toFixed(2),console.log("Engagement Score"+r)):"lenovofrpub"==a&&(o=localStorage.getItem("score"),r=(parseFloat(o)+.08).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r)}return e}catch(e){console.log("Exception in events 101-200 object video tracking",e)}}}},"XDM Object For View Order":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"View Order",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar85:"%Reorder Source%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:"%Product List - DCR View Order%"},sandbox:{name:"prod"}}},"XDM Object for Menu Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Menu Click",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event312:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar149:"%Story Name%",eVar150:"%Smarter Menu%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"NOT TUN-C":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"tun-c-hybris.lenovo.com"!=location.hostname}}},"events 1-100 Object - Internal Search : Product Category":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(void 0!==lmd.searchCategory_ProductIndex){_satellite.getVar("Plugin : getValOnce");var t,o,n=getValOnce("s.products_event","s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),t=0),""!=localStorage.getItem("cur_eng_score")&&""!=localStorage.getItem("cur_eng_score")&&"Undefined"!=localStorage.getItem("cur_eng_score")&&null!=localStorage.getItem("cur_eng_score")&&"undefined"!=localStorage.getItem("cur_eng_score")||(localStorage.setItem("cur_eng_score",0),o=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2),a=(getValOnce(r,"s_tot_rfd",0),parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)));if(n&&a<=100){var s=_satellite.getVar("reportSuite");if("lenovonzpub"==s){e.event98={value:.35},e.event30={value:.35};var c=localStorage.getItem("score");t=(parseFloat(c)+.35).toFixed(2),o=.35,localStorage.setItem("cur_eng_score",o)}else"lenovofrpub"==s?(e.event98={value:.63},e.event30={value:.63},c=localStorage.getItem("score"),t=(parseFloat(c)+.63).toFixed(2),o=.63,localStorage.setItem("cur_eng_score",o)):"lenovouspub"==s?(e.event98={value:.71},e.event30={value:.71},c=localStorage.getItem("score"),t=(parseFloat(c)+.71).toFixed(2),o=.71,localStorage.setItem("cur_eng_score",o)):"lenovogbpub"==s?(e.event98={value:.59},e.event30={value:.59},c=localStorage.getItem("score"),t=(parseFloat(c)+.59).toFixed(2),o=.59,localStorage.setItem("cur_eng_score",o)):"lenovokrpub"==s?(e.event98={value:.44},e.event30={value:.44},c=localStorage.getItem("score"),t=(parseFloat(c)+.44).toFixed(2),o=.44,localStorage.setItem("cur_eng_score",o)):"lenovothpub"==s?(e.event98={value:.35},e.event30={value:.35},c=localStorage.getItem("score"),t=(parseFloat(c)+.35).toFixed(2),o=.35,localStorage.setItem("cur_eng_score",o)):"lenovohkpub"==s?(e.event98={value:.83},e.event30={value:.83},c=localStorage.getItem("score"),t=(parseFloat(c)+.83).toFixed(2),o=.83,localStorage.setItem("cur_eng_score",o)):"lenovonopub"==s?(e.event98={value:.4},e.event30={value:.4},c=localStorage.getItem("score"),t=(parseFloat(c)+.4).toFixed(2),o=.4,localStorage.setItem("cur_eng_score",o)):"lenovomypub"==s?(e.event98={value:.81},e.event30={value:.81},c=localStorage.getItem("score"),t=(parseFloat(c)+.81).toFixed(2),o=.81,localStorage.setItem("cur_eng_score",o),console.log("Final Engagement Score coming from eventpart1 of internal search product category:  ",t)):"lenovoinpub"==s?(e.event98={value:.5},e.event30={value:.5},c=localStorage.getItem("score"),t=(parseFloat(c)+.5).toFixed(2),o=.5,localStorage.setItem("cur_eng_score",o)):"lenovodkpub"==s?(e.event98={value:.76},e.event30={value:.76},c=localStorage.getItem("score"),t=(parseFloat(c)+.76).toFixed(2),o=.76,localStorage.setItem("cur_eng_score",o)):"lenovosepub"==s?(e.event98={value:.82},e.event30={value:.82},c=localStorage.getItem("score"),t=(parseFloat(c)+.82).toFixed(2),o=.82,localStorage.setItem("cur_eng_score",o)):"lenovofipub"==s?(e.event98={value:.59},e.event30={value:.59},c=localStorage.getItem("score"),t=(parseFloat(c)+.59).toFixed(2),o=.59,localStorage.setItem("cur_eng_score",o)):"lenovosgpub"==s?(e.event98={value:.6},e.event30={value:.6},c=localStorage.getItem("score"),t=(parseFloat(c)+.6).toFixed(2),o=.6,localStorage.setItem("cur_eng_score",o)):"lenovoptpub"==s&&(e.event98={value:.39},e.event30={value:.39},c=localStorage.getItem("score"),t=(parseFloat(c)+.39).toFixed(2),o=.39,localStorage.setItem("cur_eng_score",o));localStorage.setItem("score",t)}}return e}catch(e){}}}},"QM Domains":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.hostname.toString().toLowerCase()=="www.lenovo.com".toLowerCase()||location.hostname.toString().toLowerCase()=="canada.lenovo.com".toLowerCase()||location.hostname.toString().toLowerCase()=="checkout.lenovo.com".toLowerCase()||location.hostname.toString().toLowerCase()=="tele-hybris.lenovo.com".toLowerCase()||location.hostname.toString().toLowerCase()=="flash.lenovo.com".toLowerCase()}}},"Internal Search : Content click: News Link":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.searchCategory_newsLink"}},"XDM Object for Social tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Social tracking",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",
eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar105:"%Social%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},cid:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cid",caseInsensitive:!0}},"Purchase : Product List Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(lmd&&lmd.purchase&&lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t=[];if(null!=lmd){for(var o=0;o<e.length;o++)productlistitems={},t.push(e[o].productName);return t}}}catch(e){console.log("Error in Cart Product List DE"+e)}}}},"Config Time":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.configprevtimespend}}},"Consent JSON":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e="y";if("us"==_satellite.getVar("Country Code"))e=(t=_satellite.getVar("Get Consent from LS"))&&(t.indexOf("all")>-1||t.indexOf("analytics")>-1)?"y":"n";else if("br"==_satellite.getVar("Country Code")||1==_satellite.getVar("GDPR Compliant Countries")){var t;e=(t=_satellite.getVar("Get Consent from LS"))&&(t.indexOf("all")>-1||t.indexOf("analytics")>-1)?"y":"n"}return{collect:{val:e},metadata:{time:(new Date).toISOString().split(".")[0]}}}catch(e){console.log("Error in Consent JSON DE",e.message)}}}},internalPromotion:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("internalPromotion Query Parameter")&&null!==_satellite.getVar("internalPromotion Query Parameter")?_satellite.getVar("internalPromotion Query Parameter").toString():""}}},"Email Id - Cookie":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"email_256"}},"event 300-400 Object : DCR Purchase":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if(void 0!==lmd.purchase){var t=lmd.purchase.totalPriceUSD,o=lmd.purchase.eCouponDiscount,n=lmd.purchase.totalPrice,r=lmd.purchase.exchangerate2USD,a=lmd.purchase.tax;void 0!==t&&(e.event332={value:Number(t)}),void 0!==o&&(e.event333={value:Number(o)}),void 0!==n&&(e.event336={value:Number(n)}),void 0!==r&&(e.event337={value:Number(r)}),void 0!==a&&(e.event338={value:Number(a)})}return e}catch(e){console.log("Error in event300to400 : DCR Purchase DE "+e)}}}},"Facet Click":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.facets.Clicks"}},"FB Registration Confirmation":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/^(chsmbpro|desmbpro|frsmbpro|gbsmbpro|iesmbpro|atsmbpro|freducation|deeducation|ateducation|cheducation|eseducation|iteducation|pteducation|beeducation|dkeducation|seeducation|noeducation|fieducation)$/i.test(lmd.storeID)&&location.pathname.toString().toLowerCase().indexOf("goAccountVerfy".toLowerCase())>-1||/^(chsmbpro|desmbpro|frsmbpro|gbsmbpro|iesmbpro|atsmbpro)$/i.test(lmd.storeID)&&document.referrer.toString().toLowerCase().indexOf("smbRegisterWithLid".toLowerCase())>-1&&void 0!==_satellite.getVar("User Email ID")&&""!=_satellite.getVar("User Email ID")}}},"Not Pre":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!document.URL.toLowerCase().includes("pre-")&&!document.URL.toLowerCase().includes("preaccount.")}}},"Error Detail":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.errorDetail"}},"Mobile Devices":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=navigator.userAgent.toLowerCase();return!!(e.includes("android")||e.includes("iphone")||e.includes("ipad"))}}},"GA4 PV":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];try{var t,o,n,r=_satellite.getVar("BPID"),a=_satellite.getVar("storeID");"undefined"!=typeof lmd&&void 0!==lmd.errorDetail&&lmd.errorDetail.indexOf("404"),"undefined"==typeof lmd||void 0===lmd.BPID&&""===a||(t=r+"|"+a,n=a,document.referrer,_satellite.getVar("Masthead MenuID"),_satellite.getVar("Referrer Domain")),lmd.currencycode,location.pathname.indexOf("/customize")>0||"Warranty"==_satellite.getVar("activeTabName Query")||"stackableWarranty"==_satellite.getVar("activeTabName Query")||"Software"==_satellite.getVar("activeTabName Query")||_satellite.getVar("activeTabName Query");var s,c=new URLSearchParams(window.location.search),i=c.get("cid"),l=c.get("IPromoID"),d=c.get("text");o?o="Others":i?o="External Campaign":d?o="Internal Search":l?o="Internal Campaign":""==s?o="Direct or Bookmarked":document.referrer?(document.referrer,o="Browse Category"):o="Browse Category","www.lenovopartnerhub.com"==location.hostname&&(abort=!0);try{function u(e){return decodeURIComponent(e.replace(/\+/g," "))}var m=u(window.location.href);function g(e,t){null==t&&(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(m);return null==o?t:o[1]}var p=g("cid"),f=[p];const E=[/^(.+)\:(.+)\:([1234567890]+)\:(.+)\:(.+)\:(.+)/,/^[A-z][A-z]:sem\|([^\|]+)\|([^\|]+)/,/^[A-z][A-z][:|\|]semd\|([^\|]+)\|([^\|]+)/,/^[A-z][A-z](\||:)cse\|([^\|]+)\|([^\|]+)/,/^(.+\:affiliate\:.+)\|(.+)\|(.+)\|(.+)/,/^(.+\:affil\:.+)\|(.+)\|(.+)\|(.+)/,/^[A-z][A-z]:cse:.+:ca\|([^\|]+)/,/^(.+\:aft\:.+)\|(.+)\|(.+)\|(.+)/],L=[4,2,2,3,4,4,1,4,1];for(var _=E.length,v=0;v<_;v++)if(matches=p.match(E[v]),null!=matches){var b=matches[L[v]];console.log(b);break}if(null==b){const x=[/^.*(:cj\|).*(\|)$/,/^.*(:cj\|)$/],O=["Deep Link","Deep Link"];for(var h=0;h<x.length;h++)for(var C=0;C<f.length;C++)if(matches=f[C].match(x[h]),null!=matches){b=O[h];break}}if(null==b){source_criteria=[":facebook",":pinterest",":twitter",":youtube","FBPAGE","TWITTER","GOOGLE_PLUS_PAGE","|AdAvenue Media Pty Limited","|Charity Benefit Shopper","|DAOYOU","|Exponential Interactive","|IBIS Group","|Imbull","|ITXENTECH SERVICES","|OzBargain","|OzCableguy.com","|Ran Chen","|Savoo Limited","|ShopGo Pty Limited","|Skimbit","|Venturian Media AU","|Yopi GmbH"],source_to=["Facebook","Pinterest","Twitter","Youtube","Facebook","Twitter","Google Plus","AdAvenue Media Pty Limited","Charity Benefit Shopper","DAOYOU","Exponential Interactive","IBIS Group","Imbull","ITXENTECH SERVICES","OzBargain","OzCableguy.com","Savoo Limited","ShopGo Pty Limited","Skimbit","Venturian Media AU","Yopi GmbH"],source_criteria.length,v=0;for(var y=source_criteria.length;v<y;++v)-1!=p.indexOf(source_criteria[v])&&(b=source_to[v],console.log(b))}if(null==b){const k=["au:affiliate:nf9a5V|64788","EDM_","NA_CON_WELCOME"],D=["","Email","Email"];for(v=0,y=k.length;v<y;++v)if(p.startsWith(k[v])){b=D[v],console.log(b);break}}var S=g("cid");const V=[/^(.+)\:(.+)\:([1234567890]+)\:(.+)\:(.+)\:(.+)/];for(_=V.length,v=0;v<_;v++)if(matches=p.match(V[v]),null!=matches)try{var I="Social";console.log(I)}catch(R){}if(null==I)for(medium_criteria=["Google","Natural Search",":cse","microsoft","Microsoft","SEO","affiliate","Affiliate","|edm|","EDM_","email","display","sem","paidsocial","apps","affinity","video","ww:social","media","us:affiliate:o4welt","us:cse:qza7ob","smsmarketing","_smsmarketing_","diad"],medium_to=["SEO","SEO","CSE","SEO","SEO","SEO","affiliate","affiliate","Email","Email","Email","display","SEM","Paid Social","Apps","Affinity","Video","Organic Social","Media","affiliate","CSE","SMS","SMS","display"],medium_criteria.length,v=0,y=medium_criteria.length;v<y;++v)-1!=p.indexOf(medium_criteria[v])&&(I=medium_to[v],console.log(I));if(null==b){const T=[/SEO (\S*)/,/Microsoft (\S*)/];for(_=T.length,v=0;v<_;v++)if(custom_matches=p.match(T[v]),null!=custom_matches)try{b=custom_matches[1];var w="";console.log(w),console.log(b)}catch(N){console.log(N)}}if(null==b){let F=window.location.hostname.match(/^(?:.*?\.)?([a-zA-Z0-9\-_]{3,}\.(?:\w{2,8}|\w{2,4}\.\w{2,4}))$/)[1];null!=F?(b=F.split(".")[0],console.log(b)):(b="",console.log(b))}if(null==I&&(I="blank"),null==w&&0!=p.includes(":")){const A=/([^:]+$)/;var P=p.match(A);null!=P&&(w=P[0],console.log(P[0]),console.log("test"))}null==w&&(w="blank",console.log(w))}catch(M){console.log(M)}if("checkout.lenovo.com"!=location.host){var j=_satellite.getVar("cid");null!=j&&""!=j&&void 0!==j&&(console.log("loading cid"+typeof j),e("set",{campaign_id:w,campaign_medium:I,campaign_source:b,campaign_name:S}))}_satellite.logger.log("Page View Trigger"),e("event","page_view",{internal_promotion:_satellite.getVar("internalPromotion"),site_country:_satellite.getVar("Country Code"),store_id:n,coupon:_satellite.getVar("eCoupon"),site_section:_satellite.getVar("Section Details"),tracking_rep_id:_satellite.getVar("lmd_repID"),site_business:_satellite.getVar("Business unit"),page_name:_satellite.getVar("pageName"),adobe_report_suite:_satellite.getVar("Report Suite"),url:_satellite.getVar("URL"),site_language:_satellite.getVar("Language"),bpid_store_id:t,user_agent:_satellite.getVar("User Agent"),group_id:_satellite.getVar("GroupID"),previous_page_url:_satellite.getVar("Referrer URL")}),e("set",{store_id:null,dimension180:null,currency:null,internal_promotion:null,site_country:null,coupon:null,site_section:null,tracking_rep_id:null,site_business:null,page_name:null,adobe_report_suite:null,url:null,site_language:null,bpid_store_id:null,user_agent:null,group_id:null,previous_page_url:null})}catch(U){console.log("Error/Delay in GA4 : Page View "+U)}}}},"purchase : shipping":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.purchase.shipping"}},"productDetails : All : Yahoo":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t=null,o="";return"checkout"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.checkout,o="checkout"):"cart"===_satellite.getVar("Taxonomy Type").toLowerCase()?(t=lmd.cart,o="cart"):/orderconfirmation|thankyou/i.test(document.URL.toLowerCase())&&(t=lmd.purchase,o="purchase"),t&&t.allProducts&&(e=t.allProducts),e.map((function(e){return{item_id:e.productID,category_id:e.type,price:e.price,quantity:e.quantity}}))}catch(e){console.log("Error in "+o+" Product List DE: "+e)}}}},"Prev Page Interaction":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.prevpageinteraction"}},"LPP Company Name | Company ID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.companyname+"|"+lmd.companyid}}},"Purchase Quantity Sum":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(lmd.purchase&&lmd.purchase.allProducts){var e=lmd.purchase.allProducts,t=[];for(x=0;x<e.length;x++)t.push(e[x].quantity);let o=0;for(let e=0;e<t.length;e++)o+=Number(t[e]);return o}return"Not Set"}}},"Target : Entity Series":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return $('meta[name="series"]').attr("content").replace(/"/g,"\u201d").replace(/\n/g," ").replace(/'/g,"\u2019")}}},"internalPromotion Query Parameter":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"iPromoID",caseInsensitive:!0}},"MSA Platform Page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("Platform")&&_satellite.getVar("Platform").toString().toLowerCase()=="ms".toLowerCase()||_satellite.getVar("Platform")&&_satellite.getVar("Platform").toString().toLowerCase()=="mfe".toLowerCase()||_satellite.getVar("Platform")&&_satellite.getVar("Platform").toString().toLowerCase()=="nfe".toLowerCase()}}},purchaseLocaldetails:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.purchase}}},"XDM Object - DCR Cart Add":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Cart Addition",type:"other",linkClicks:{value:1}}},_lenovo:{Reddit:{Uid:"%Reddit UID%",Clickid:"%Reddit Click ID%"},AdformID:"%Adform ID%",LinkedIn:{li_fat_id:"%li_fat_id value%"},NextJump:{nextjump:"%NextJump Cookie%",perksOffer:"%perksoffer%"},RegionCode:"%Target : regioncode%",cartDetails:{productName:"%Cart Product Name%",currencyLocal:"%currencyCode%",subTotalLocal:"%Cart Sub Total%",totalCartQuantity:"%Cart Quantity Sum%"},Flashtalking:{guid:"%Flashtalking GUID%",productname:"%Product Name - Cart%"},FacebookPixel:{fbc:"%Facebook : fbc%",fbp:"%Facebook fbp%"},MidasContactID:"%Midas Contact ID%",productDetails:"%Cart Product List%"},commerce:{productListAdds:{value:1},productListOpens:{id:"%Serial Id for Cart Open%",value:1},productListViews:{value:1}},_experience:{analytics:{event401to500:{event409:{value:"%Cart/Checkout ID Event%"}},customDimensions:{eVars:"%Custom Dimension - eVars Object - DCR Cart Add%",lists:{list1:"%PB&&CTO_Addons%"}}}},environment:{domain:"%domain%"},productListItems:"%Product List - DCR Cart Add%"},sandbox:{name:"prod"}}},"Reorder Source":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.reorder.source"}},"dcg custom interaction":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.dcgCustomInteraction"}},"Events 301-400 Object : Video Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t={};if("lenovotwpub"==(a=_satellite.getVar("reportSuite"))){e={event317:{value:.22},event329:{value:.22}};var o=localStorage.getItem("score");r=(parseFloat(o)+.22).toFixed(2),console.log("Engagement Score"+r)}if("lenovomxpub"==a&&(e={event317:{value:.15},event329:{value:.15}},o=localStorage.getItem("score"),r=(parseFloat(o)+.15).toFixed(2),console.log("Engagement Score"+r)),"lenovoarpub"==a)e={event317:{value:.15},event329:{value:.15}},o=localStorage.getItem("score"),r=(parseFloat(o)+.15).toFixed(2),console.log("Engagement Score"+r);else if("25-complete"==lmd.video.videoInfo.videoStatus){getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0);var n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));console.log("sessionscoreengrfd"+n),n<=100&&("lenovoaupub"==(a=_satellite.getVar("reportSuite"))?(e={event317:{value:.07},event329:{value:.07}},o=localStorage.getItem("score"),r=(parseFloat(o)+.07).toFixed(2),console.log("Engagement Score"+r)):"lenovodepub"==a?(e={event317:{value:.19},event329:{value:.19}},o=localStorage.getItem("score"),r=(parseFloat(o)+.19).toFixed(2),console.log("Engagement Score"+r)):"lenovochpub"==a&&(e={event317:{value:.15},event329:{value:.15}},o=localStorage.getItem("score"),r=(parseFloat(o)+.15).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r))}else if("50-complete"==lmd.video.videoInfo.videoStatus)getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+n),n<=100&&("lenovouspub"==(a=_satellite.getVar("reportSuite"))?(console.log("sessionscoreengrfd"+n),e={event317:{value:.12},event329:{value:.12}},o=localStorage.getItem("score"),r=(parseFloat(o)+.12).toFixed(2),console.log("Engagement Score"+r)):"lenovogbpub"==a&&(console.log("sessionscoreengrfd"+n),e={event317:{value:.18},event329:{value:.18}},o=localStorage.getItem("score"),r=(parseFloat(o)+.18).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r));else if("75-complete"==lmd.video.videoInfo.videoStatus)getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+n),n<=100&&("lenovoaupub"==(a=_satellite.getVar("reportSuite"))?(e={event317:{value:.09},event329:{value:.09}},o=localStorage.getItem("score"),r=(parseFloat(o)+.09).toFixed(2),console.log("Engagement Score"+r)):"lenovotwpub"==a&&(e={event317:{value:.26},event329:{value:.26}},o=localStorage.getItem("score"),r=(parseFloat(o)+.26).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r));else if("100-complete"==lmd.video.videoInfo.videoStatus){var r,a;if(getValOnce(t.eVar66,"s_eVar57",0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),r=0),n=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+n),n<=100)"lenovodepub"==(a=_satellite.getVar("reportSuite"))?(e={event317:{value:.11},event329:{value:.11}},o=localStorage.getItem("score"),r=(parseFloat(o)+.11).toFixed(2),console.log("Engagement Score"+r)):"lenovofrpub"==a&&(e={event317:{value:.08},event329:{value:.08}},o=localStorage.getItem("score"),r=(parseFloat(o)+.08).toFixed(2),console.log("Engagement Score"+r)),localStorage.setItem("score",r)}return e}catch(e){console.log("Exception in events 301-400 object video tracking",e)}}}},"GA4:checkout:products":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t=lmd.checkout.allProducts,o="";for(x=0;x<t.length;x++)if(t[x].productID=t[x].productID.indexOf("-")>0?t[x].productID.split("-")[0]:t[x].productID,""==o){var n={};t[x].shopRunnerType,n.item_id=t[x].productID,e.push(n)}else n.item_id=t[x].productID,e.push(n);return o=e}catch(e){console.log("Error in GA4:Checkout:Products DE, lmd.checkout.allProducts not received from DL"+e)}}}},"XDM Object for Reorder add to cart":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Reorder add to cart",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event304:{value:1}},customDimensions:{eVars:{eVar1:"%internal Promotion%",eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%",prop51:"%Referrer URL%"}}}},productListItems:[{SKU:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"Events 1-100 Object : Video Tracking":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};if("start"==lmd.video.videoInfo.videoStatus&&(e={event63:{value:1},event62:{value:lmd.video.videoInfo.videoViewTime}}),"lenovotwpub"==(r=_satellite.getVar("reportSuite"))){e={event98:{value:.22},event30:{value:.22}};var t=localStorage.getItem("score");n=(parseFloat(t)+.22).toFixed(2),console.log("Engagement Score"+n)}if("lenovomxpub"==r&&(e={event98:{value:.15},event30:{value:.15}},t=localStorage.getItem("score"),n=(parseFloat(t)+.15).toFixed(2),console.log("Engagement Score"+n)),"lenovoarpub"==r)e={event98:{value:.15},event30:{value:.15}},t=localStorage.getItem("score"),n=(parseFloat(t)+.15).toFixed(2),console.log("Engagement Score"+n);else if("25-complete"==lmd.video.videoInfo.videoStatus){e={event62:{value:lmd.video.videoInfo.videoViewTime}},"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0);var o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));console.log("sessionscoreengrfd"+o),o<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?(e={event98:{value:.07},event30:{value:.07}},t=localStorage.getItem("score"),n=(parseFloat(t)+.07).toFixed(2),console.log("Engagement Score"+n)):"lenovodepub"==r?(e={event98:{value:.19},event30:{value:.19}},t=localStorage.getItem("score"),n=(parseFloat(t)+.19).toFixed(2),console.log("Engagement Score"+n)):"lenovochpub"==r&&(e={event98:{value:.15},event30:{value:.15}},t=localStorage.getItem("score"),n=(parseFloat(t)+.15).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n))}else if("50-complete"==lmd.video.videoInfo.videoStatus)e={event66:{value:1},event62:{value:lmd.video.videoInfo.videoViewTime}},"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+o),o<=100&&("lenovouspub"==(r=_satellite.getVar("reportSuite"))?(console.log("sessionscoreengrfd"+o),e={event98:{value:.12},event30:{value:.12}},t=localStorage.getItem("score"),n=(parseFloat(t)+.12).toFixed(2),console.log("Engagement Score"+n)):"lenovogbpub"==r&&(console.log("sessionscoreengrfd"+o),e={event98:{value:.18},event30:{value:.18}},t=localStorage.getItem("score"),n=(parseFloat(t)+.18).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n));else if("75-complete"==lmd.video.videoInfo.videoStatus)e={event62:{value:lmd.video.videoInfo.videoViewTime}},"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+o),o<=100&&("lenovoaupub"==(r=_satellite.getVar("reportSuite"))?(e={event98:{value:.09},event30:{value:.09}},t=localStorage.getItem("score"),n=(parseFloat(t)+.09).toFixed(2),console.log("Engagement Score"+n)):"lenovotwpub"==r&&(e={event98:{value:.26},event30:{value:.26}},t=localStorage.getItem("score"),n=(parseFloat(t)+.26).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n));else if("100-complete"==lmd.video.videoInfo.videoStatus){var n,r;if(e={event67:{value:1},event62:{value:lmd.video.videoInfo.videoViewTime}},"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score)),""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")||(localStorage.setItem("score",0),n=0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2)),console.log("sessionscoreengrfd"+o),o<=100)"lenovodepub"==(r=_satellite.getVar("reportSuite"))?(e={event98:{value:.11},event30:{value:.11}},t=localStorage.getItem("score"),n=(parseFloat(t)+.11).toFixed(2),console.log("Engagement Score"+n)):"lenovofrpub"==r&&(e={event98:{value:.08},event30:{value:.08}},t=localStorage.getItem("score"),n=(parseFloat(t)+.08).toFixed(2),console.log("Engagement Score"+n)),localStorage.setItem("score",n)}return e}catch(e){console.log("Exception in events 1-100 object video tracking",e)}}}},"XDM object for Anchor Tab":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Anchor Tab",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar250:"%Anchor Tab Value%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},Source:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.Source"}},SectionDetail:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){console.log("here's the lmd"),console.log(JSON.stringify(lmd)),console.log("The lmd is :",lmd);var e=JSON.parse(JSON.stringify(lmd));return console.log("String lmd",JSON.stringify(lmd)),console.log("value of x",e),console.log("the next value is",e.pageName),console.log("Test storeID : ",lmd.storeID),console.log("Test cc : ",lmd.cc),"test"+lmd.taxonomytype}}},"Add to Cart Promo Deals copy MTM":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("CTO"!=lmd.configType)return 1}}},"IS Checkout Page":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("/checkout/".toLowerCase())>-1||location.search.toString().toLowerCase().indexOf("quickbuycartpage".toLowerCase())>-1||location.search.toString().toLowerCase().indexOf("quickbuyconfirmorderpage".toLowerCase())>-1}}},"Adform Cookie ID":{storageDuration:"session",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"_adform_cid"}},"XDM Object For Confirmit Survey Start Modal":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Confirmit Survey Start Modal",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"Survey Start Modal : Start Button Click",eVar32:"%Business unit%",eVar58:"%page name%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"purchase:orderID":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof lmd&&void 0!==lmd.purchase&&void 0!==lmd.purchase.orderID?lmd.purchase.orderID:"Not Set"}}},"Adform ADF_BN Query String":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"adf_bn",caseInsensitive:!0}},"XDM Object For Loyalty Account Registration":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Loyalty Account Registration",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event301to400:{event306:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar19:"%RepID%",eVar21:"%CustomerID%",eVar23:"%Loyalty User Interaction%",eVar32:"%Business unit%",eVar47:"%Loyalty User Status%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"Shipdays for Business Days Add to Cart":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.shippingDays"}},"LISA Engagement Score":{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=1*localStorage.getItem("score");return e=e||0,sessionStorage.setItem("score_1",e),e}}},"Doubleclick Consent Rules":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"br"!==lmd.cc.toLowerCase()||void 0!==getConsentVendors("doubleclick")&&getConsentVendors("doubleclick")}}},"Microsoft Advertising Consent Rules":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.querySelector("meta[name=country]")&&"br"==document.querySelector("meta[name=country]").content.toLowerCase())return void 0!==getConsentVendors("microsoft-advertising")&&getConsentVendors("microsoft-advertising")}}},"XDM Object for Internal Search : No Result Best Seller Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Internal Search : No Result Best Seller Tracking",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event201to300:{event202:{value:1}},customDimensions:{eVars:{eVar2:"%Internal Search Term Main%",eVar5:"%Country Code%",
eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar109:"%Internal Search: No result recommended/ best seller product index%",eVar147:"%Language%",eVar157:"%Navigation Header%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}},productListItems:[{name:"%Product ID Common%"}]},sandbox:{name:"prod"}}},"OMO Product view":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=document.querySelector("#product-sku");try{var t=[],o={};if(o={},e){const n=e.textContent.trim();return o.SKU=n,o.name=n,t.push(o),t}}catch(e){console.log("Error in DCR Prod View DE"+e)}}}},"Smartly IDs":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"ad",caseInsensitive:!0}},"XDM Object - Community Registration : Marketing Pixels":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Gaming Education Registration"}},_experience:{analytics:{event301to400:{event319:{value:1}},customDimensions:{eVars:{eVar47:"%Registration Source%"}}}}},sandbox:{name:"prod"}}},"After instant Saving present":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=document.getElementsByClassName("webprice pricingSummary-details-final-price-title discounted-price-type");return e.length>0&&"undefined"!=e.length?1:0}}},html_meta_storeID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="storeID"]'}},"Target : Meta Entity Series New":{defaultValue:"",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:"meta[name='series']"}},"XDM Object for Windows - Product":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Windows - Product",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar23:"%Windows - Product%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar174:"%Windows - Product%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"XDM Object for Cart Removal":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Cart Removal",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},commerce:{productListViews:{value:1},productListRemovals:{value:1}},_experience:{analytics:{event1to100:{event23:{value:1},event59:{value:1}},customDimensions:{eVars:{eVar5:"%Country Code%",eVar12:"%storeID%",eVar15:"%Section Details%",eVar21:"%CustomerID%",eVar32:"%Business unit%",eVar58:"%pageName%",eVar63:"%Report Suite%",eVar75:"%URL%",eVar147:"%Language%",eVar169:"%ECID%",eVar171:"%User Agent%",eVar180:"%BPID%|%storeID%",eVar193:"%GroupID%"},props:{prop3:"%URL%",prop7:"%Section Details%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%"}}}}},sandbox:{name:"prod"}}},"XDM Object - SEM Details":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{},sandbox:{name:"prod"}}},eCoupon:{defaultValue:"",forceLowerCase:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return lmd.cart&&lmd.cart.eCouponCode&&null!==lmd.cart.eCouponCode&&!isNaN(lmd.cart.eCouponCode)?String(lmd.cart.eCouponCode):""}}},"Custom Dimension : eVar Object : Add to cart : Product Page MTM":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t={eVar15:"PDP Product Page"},o=";"+lmd.productid,n=getValOnce(o,"s_eVar57",0);""!=localStorage.getItem("score")&&""!=localStorage.getItem("score")&&"Undefined"!=localStorage.getItem("score")&&"undefined"!=localStorage.getItem("score")&&null!=localStorage.getItem("score")||(localStorage.setItem("score",0),e=0),"NaN"!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&""!=localStorage.getItem("tot_rfd_score")&&"Undefined"!=localStorage.getItem("tot_rfd_score")&&"undefined"!=localStorage.getItem("tot_rfd_score")&&null!=localStorage.getItem("tot_rfd_score")&&"0"!=localStorage.getItem("tot_rfd_score")||(localStorage.setItem("tot_rfd_score",0),console.log("typeof tot_rfd_score3"+typeof tot_rfd_score));var r=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));if(console.log("sessionscoreengrfd"+r),n&&r<=100){var a=_satellite.getVar("reportSuite");if("lenovonzpub"==a){t.eVar57="Product Page-Add to Cart|1.00",t.eVar219="+1.00",t.eVar221="+1.00",console.log("Engagement Starting Score: ",e);var s=localStorage.getItem("score");console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)}else"lenovoaupub"==a?(t.eVar57="Product Page-Add to Cart|0.89",t.eVar219="+0.89",t.eVar221="+0.89",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.89),e=(parseFloat(s)+.89).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovothpub"==a?(t.eVar57="Product Page-Add to Cart|1.0",t.eVar219="+1.0",t.eVar221="+1.0",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",1),e=(parseFloat(s)+1).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovodepub"==a?(t.eVar57="Product Page-Add to Cart|0.74",t.eVar219="+0.74",t.eVar221="+0.74",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.74),e=(parseFloat(s)+.74).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovokrpub"==a?(t.eVar57="Product Page-Add to Cart|0.78",t.eVar219="+0.78",t.eVar221="+0.78",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.78),e=(parseFloat(s)+.78).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovofrpub"==a?(t.eVar57="Product Page-Add to Cart|0.67",t.eVar219="+0.67",t.eVar221="+0.67",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.67),e=(parseFloat(s)+.67).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovogbpub"==a?(t.eVar57="Product Page-Add to Cart|0.89",t.eVar219="+0.89",t.eVar221="+0.89",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.89),e=(parseFloat(s)+.89).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovomypub"==a?(t.eVar57="Product Page-Add to Cart|0.67",t.eVar219="+0.67",t.eVar221="+0.67",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.67),e=(parseFloat(s)+.67).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoinpub"==a?(t.eVar57="Product Page-Add to Cart|0.58",t.eVar219="+0.58",t.eVar221="+0.58",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.58),e=(parseFloat(s)+.58).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovosepub"==a?(t.eVar57="Product Page-Add to Cart|0.73",t.eVar219="+0.73",t.eVar221="+0.73",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.73),e=(parseFloat(s)+.73).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovosgpub"==a?(t.eVar57="Product Page-Add to Cart|0.70",t.eVar219="+0.70",t.eVar221="+0.70",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.7),e=(parseFloat(s)+.7).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoptpub"==a?(t.eVar57="Product Page-Add to Cart|0.83",t.eVar219="+0.83",t.eVar221="+0.83",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.83),e=(parseFloat(s)+.83).toFixed(2),console.log("Final Engagement Score: ",e)):"lenovoespub"==a&&(t.eVar57="Product Page-Add to Cart|0.88",t.eVar219="+0.88",t.eVar221="+0.88",console.log("Engagement Starting Score: ",e),s=localStorage.getItem("score"),console.log("Engagement Score on localstorage: ",s),console.log("New Engagement Score added: ",.88),e=(parseFloat(s)+.88).toFixed(2),console.log("Final Engagement Score: ",e));localStorage.setItem("score",e)}return t}catch(e){console.log("Error in Custom Dimension : eVar Object : Add to cart : Product Page MTM "+e)}}}},"XDM Object for Homepage : Header Tracking":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Homepage : Header Tracking",type:"other",linkClicks:{value:1}},webPageDetails:{server:"%domain%"}},_experience:{analytics:{event1to100:"%event 1-100 Object : Homepage : Header Tracking%",event201to300:{event236:{value:1}},event301to400:"%event 301-400 Object : Homepage : Header Tracking%",customDimensions:{eVars:"%Custom Dimension : eVar Object : Homepage : Header Tracking%",props:{prop3:"%URL%",prop7:"%Section Details%",prop12:"%pageName%",prop22:"%ECID%",prop29:"%Language%",prop36:"%Country Code%",prop51:"%Referrer URL%"}}}}},sandbox:{name:"prod"}}},ProductSubseriesID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==lmd.subseriesid){if(null!==lmd.subseriesid&&""!==lmd.subseriesid)return String(lmd.subseriesid);if(void 0!==lmd.productID)return String(lmd.productID);var e=document.querySelector('meta[name="productid"]');return e?String(e.content):""}var t=document.querySelector('meta[name="subseriesPHcode"]');if(t&&void 0!==t.content&&""!==t.content)return String(t.content);if(void 0!==lmd.productID)return String(lmd.productID);var o=document.querySelector('meta[name="productid"]');return o?String(o.content):""}}},"events 301-400 Object - Hybris Product View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={},t=getValOnce(s.products,"s_eVar57",0),o=parseFloat((_satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));return console.log("sessionscoreengrfd"+o),t&&o<=100&&"lenovodepub"==_satellite.getVar("reportSuite")&&(e.event317={id:"",value:.89},e.event329={id:"",value:.89}),e}catch(e){}}}},"Target : Country":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"content",elementSelector:'meta[name="Lenovo.Country"],meta[name="lenovo.country"]'}},"Page Filter ID":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"lmd.list_id.pagefilterId"}},"Product List - Hybris Product View":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=[],t={};if(void 0!==lmd.productinfo&&lmd.productinfo.length>0)for(var o=lmd.productinfo.length,n=0;n<o;){var r=lmd.productinfo[n]?.productcodeimpressions;r&&r.indexOf("CTO")>-1&&r.length>10?((t={}).SKU=r.slice(0,10)||"",t.name=r.slice(0,10)||"",e.push(t)):((t={}).SKU=r||"",t.name=r||"",e.push(t)),n++}else void 0!==lmd.productID?lmd.productID.indexOf("CTO")>-1&&lmd.productID.length>10?(t.SKU=lmd.productID.slice(0,10)||"",t.name=lmd.productID.slice(0,10)||"",e.push(t)):""!==lmd.productID&&"N/A"!==lmd.productID&&"n/a"!==lmd.productID&&"n|a"!==lmd.productID&&"N|A"!==lmd.productID&&"NA"!==lmd.productID&&"na"!==lmd.productID?(t.SKU=lmd.productID||"",t.name=lmd.productID||"",e.push(t)):(t.SKU=_satellite.getVar("Subseries ID")||"",t.name=_satellite.getVar("Subseries ID")||"",e.push(t)):((t={}).SKU=lmd.productcode||"",t.name=lmd.productcode||"",e.push(t));return e}catch(e){console.log("Error in DCR Prod View DE"+e)}}}}},extensions:{linkedin:{displayName:"LinkedIn Insight Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP56446adda5514f21aa663f9e3635ddaa/",settings:{insightTagID:"7318"},modules:{"linkedin/src/lib/actions/loadInsightTag.js":{name:"load-insight-tag",displayName:"Load Insight Tag",script:function(e,t,o,n){"use strict";e.exports=function(){var e=n.getExtensionSettings();if(e&&e.insightTagID){window._linkedin_data_partner_id=e.insightTagID;var t=document.getElementsByTagName("script")[0],o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(o,t)}}}}}},"acronym-gtag.js":{displayName:"Google Global Site Tag (gtag)",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4088787701664ce4bfc67739775f5c33/",settings:{accounts:{1717687200199:{id:"1717687200199",name:"Google Ads BR",type:"aw",options:[],accounts:{staging:"",production:"AW-996760096",development:""},settings:{conversion_linker:!0,conversion_cookie_prefix:""}}},configCode:function(){},functionName:"",dataLayerName:"",displayFeatures:!0},modules:{"acronym-gtag.js/src/lib/actions/pageview.js":{name:"send-gtag.js-pageview",displayName:"Send a page view",script:function(e,t,o,n){"use strict";e.exports=function(e){var t=o("../helpers/loadGtag")(),r=o("../helpers/castOptionTypes"),a=o("../helpers/getAccountId"),s=n.getExtensionSettings();if("object"==typeof e.accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var c in e.accounts)if(e.accounts.hasOwnProperty(c)&&(!0===e.accounts[c].enabled||"true"===e.accounts[c].enabled)){var i=s.accounts[c];if(void 0===i){n.logger.warn("ACRGTAG-201: An account was removed in the extension config but is still enabled in the rule");continue}var l=a(i),d={send_to:[l]};(e.accounts[c].options||[]).forEach((function(e){d[e[0]]=e[1]})),t("event","page_view",d=r(d)),n.logger.log("page view fired for account "+l+" with the options:",JSON.stringify(d))}}else n.logger.warn("ACRGTAG-200 - No accounts enabled for the page_view event")}}},"acronym-gtag.js/src/lib/helpers/loadGtag.js":{script:function(e,t,o,n){"use strict";e.exports=function(){var e=n.getExtensionSettings(),t=e.dataLayerName||"dataLayer",r=e.functionName||"gtag",a=o("@adobe/reactor-window"),s=o("@adobe/reactor-load-script"),c=o("../helpers/getAccountId"),i=o("../helpers/castOptionTypes"),l="";if(a[r]||(a[t]=a[t]||[],a[r]=function(){Array.isArray(a[t])?a[t].push(arguments):n.logger.error("ACRGTAG-104: Data layer variable '"+t+"' malformed",a[t])},a[r]("js",new Date)),!_satellite.getVar("__acronym_gtag_loaded")){if(_satellite.setVar("__acronym_gtag_loaded",!0),"function"==typeof e.preConfigCode)try{e.preConfigCode(a[r],a[t])}catch(e){n.logger.error("ACRGTAG-101: Custom pre-account config code error:",e)}if(("string"==typeof e.displayFeatures&&"true"!==e.displayFeatures||"string"!=typeof e.displayFeatures&&!Boolean(e.displayFeatures))&&(a[r]("set",{allow_ad_personalization_signals:!1}),n.logger.log("Display features are disabled")),"object"==typeof e.accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var d in e.accounts)if(e.accounts.hasOwnProperty(d)){var u=e.accounts[d],m=u.settings||{};l=c(u),"object"==typeof u.custom_map&&u.custom_map.length&&(m.custom_map=m.custom_map||{},u.custom_map.forEach((function(e){m.custom_map[e[0]]=e[1]}))),(u.options||[]).forEach((function(e){m[e[0]]=e[1]})),m.send_page_view=!1,m=i(m),a[r]("config",l,m),n.logger.log("account "+l+" was loaded with the options:",JSON.stringify(m))}if("function"==typeof e.configCode)try{e.configCode(a[r],a[t])}catch(e){n.logger.error("ACRGTAG-101: Custom post-account config code error:",e)}}else n.logger.warn("ACRGTAG-102: No accounts configured");var g="gtag.js library";n.logger.log("loading "+g),s("https://www.googletagmanager.com/gtag/js?id="+l+"&l="+t).then((function(){n.logger.log(g+" successfully loaded")}),(function(){n.logger.error("ACRGTAG-100: "+g+" could not be loaded")}))}return a[r]}},name:"get-gtag",shared:!0},"acronym-gtag.js/src/lib/helpers/castOptionTypes.js":{script:function(e){"use strict";e.exports=function(e){var t={bool:function(e){return"string"==typeof e?"true"===e:Boolean(e)},int:function(e){var t=parseInt(e);return isNaN(t)?0:t},float:function(e){var t=parseFloat(e);return isNaN(t)?0:t},csv:function(e){return"string"==typeof e?""===e?void 0:e.split(","):e},custom_map:function(e){var t={};return"string"==typeof e?e.split(",").forEach((function(e){var o=e.split(":");2===o.length&&(t[o[0]]=o[1])})):"object"==typeof e&&(t=e),t}},o={accept_incoming:t.bool,allow_ad_personalization_signals:t.bool,anonymize_ip:t.bool,checkout_step:t.int,cookie_expires:t.int,custom_map:t.custom_map,event_timeout:t.int,fatal:t.bool,levels:t.int,link_attribution:t.bool,linker:{domains:t.csv,accept_incoming:t.bool,decorate_forms:t.bool},non_interaction:t.bool,value:t.float};return Object.keys(e).forEach((function(t){"function"==typeof o[t]?e[t]=o[t](e[t]):"object"==typeof o[t]&&"object"==typeof e[t]&&null!==e[t]&&Object.keys(e[t]).forEach((function(n){"function"==typeof o[t][n]&&(e[t][n]=o[t][n](e[t][n]))}))})),e}}},"acronym-gtag.js/src/lib/helpers/getAccountId.js":{script:function(e,t,o,n){"use strict";e.exports=function(e,t){return t||(t=n.environment.stage),"string"==typeof e.accounts[t]&&""!==e.accounts[t]?e.accounts[t]:e.accounts.production}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP5ef6204b50094373a7e32013f02a2a37/",settings:{instances:[{name:"alloy",edgeDomain:"s.lenovo.com",edgeConfigId:"%RS%",defaultConsent:"%Default Consent Value%",onBeforeEventSend:function(e){function t(e){function t(e,o){if("object"==typeof e[o]&&null!==e[o]){if(o.includes("event")&&0===Object.keys(e[o]).length)e[o].value=0;else for(var n in e[o])t(e[o],n);null===e[o].value&&(e[o].value=0),o.includes("event")&&null===e[o].value&&(e[o].value=0),o.includes("eVar")&&null===e[o].value&&(e[o].value=0);var r=[];Object.keys(e[o]).forEach((t=>{"undefined"===e[o][t]?e[o][t]=0:null===e[o][t]?r.push(t):o.includes("event")&&"value"===t&&!isNaN(parseFloat(e[o][t]))?e[o][t]=parseFloat(e[o][t]):"number"==typeof e[o][t]&&(e[o][t]=e[o][t].toString())})),r.forEach((t=>{delete e[o][t]}))}}for(var o in e)t(e,o);return e}if(void 0!==_satellite.getVar("ECID")&&"undefined"!==_satellite.getVar("ECID")){var o="https://www.lenovo.com/ssp/pbd2_cih/"+_satellite.getVar("ECID");fetch(o).then((e=>e.json())).then((e=>{if(void 0===e||void 0===e.mdls||void 0===e.mdls.esm_v1)return"No API Response";sessionStorage.segmentLISA=e.mdls.esm_v1})).catch((e=>{console.error("Error fetching LISA segment data:",e)}))}try{if(location.pathname.toLowerCase().includes("/forget")||location.pathname.toLowerCase().includes("/reset"))return!1;if(void 0!==_satellite.getVar("Tracking Code")&&void 0===e.xdm.marketing?(e.xdm.marketing={},e.xdm.marketing.trackingCode=_satellite.getVar("Tracking Code")):void 0!==_satellite.getVar("Tracking Code")&&void 0!==e.xdm.marketing&&(e.xdm.marketing.trackingCode=_satellite.getVar("Tracking Code")),e.xdm.eventType&&-1==e.xdm.eventType.indexOf("decision")){if(e.xdm.web.webPageDetails.server=_satellite.getVar("domain"),void 0===e.xdm._experience?(e.xdm._experience={},e.xdm._experience.analytics={},e.xdm._experience.analytics.customDimensions={}):void 0===e.xdm._experience.analytics?(e.xdm._experience.analytics={},e.xdm._experience.analytics.customDimensions={}):void 0===e.xdm._experience.analytics.customDimensions&&(e.xdm._experience.analytics.customDimensions={}),e.xdm._lenovo&&!e.xdm._lenovo.FacebookPixel?e.xdm._lenovo.FacebookPixel={}:e.xdm._lenovo||(e.xdm._lenovo={},e.xdm._lenovo.FacebookPixel={}),e.xdm.eventType&&e.xdm.eventType.toLowerCase().indexOf("pageview")>-1&&"undefined"!=typeof generateEventID&&(e.xdm._lenovo.FacebookPixel.fb_event_id=generateEventID("PageView")),"undefined"!=typeof generateEventID&&(e.xdm.commerce&&e.xdm.commerce.productViews&&e.xdm.commerce.productViews.value?e.xdm._lenovo.FacebookPixel.fb_event_id=generateEventID("PageView"):e.xdm.commerce&&e.xdm.commerce.productListAdds&&e.xdm.commerce.productListAdds.value&&e.xdm.productListItems&&e.xdm.productListItems.length>0?e.xdm._lenovo.FacebookPixel.fb_event_id=generateEventID("AddToCart"):e.xdm.eventType&&e.xdm.eventType.toLowerCase().indexOf("purchase")>-1?e.xdm._lenovo.FacebookPixel.fb_event_id=generateEventID("Purchase"):e.xdm.web.webInteraction&&e.xdm.web.webInteraction.name&&"SMB Registration"==e.xdm.web.webInteraction.name&&(e.xdm._lenovo.FacebookPixel.fb_event_id=generateEventID("SMB Registration"))),e.xdm._lenovo&&!e.xdm._lenovo.Evidon&&(e.xdm._lenovo.Evidon={}),e.xdm._lenovo||(e.xdm._lenovo={},e.xdm._lenovo.Evidon={}),void 0!==_satellite.getVar("Evidon Category Variables")&&_satellite.getVar("Evidon Category Variables").length>0){var n=_satellite.getVar("Evidon Category Variables");for(var r in n)n[r].analytics?e.xdm._lenovo.Evidon.Analytics="true":e.xdm._lenovo.Evidon.Analytics="false",n[r].advertising?e.xdm._lenovo.Evidon.Advertising="true":e.xdm._lenovo.Evidon.Advertising="false",n[r].social?e.xdm._lenovo.Evidon.Social="true":e.xdm._lenovo.Evidon.Social="false"}else"undefined"!=typeof lmd&&void 0!==lmd.regioncode&&"we"!==lmd.regioncode.toLowerCase()&&"eet"!==lmd.regioncode.toLowerCase()&&(e.xdm._lenovo.Evidon.Analytics="true",e.xdm._lenovo.Evidon.Advertising="true",e.xdm._lenovo.Evidon.Social="true");if(void 0!==lmd&&void 0!==lmd.cc&&"br"==lmd.cc.toLowerCase()&&void 0!==localStorage._evidon_consent_ls_40895&&void 0!==JSON.parse(localStorage._evidon_consent_ls_40895).vendors){var a=void 0!==JSON.parse(localStorage._evidon_consent_ls_40895).vendors[42]?JSON.parse(localStorage._evidon_consent_ls_40895).vendors[42]:{};e.xdm._lenovo.Evidon.vendorList=JSON.stringify(a)}if(void 0===e.xdm.web.webInteraction||e.xdm.web.webInteraction&&"Target Tool Loaded : Global Mbox"!==e.xdm.web.webInteraction.name){if(e.xdm._experience.analytics.customDimensions.eVars)void 0!==(l=e.xdm._experience.analytics.customDimensions.eVars).eVar1&&""!=l.eVar1||(l.eVar1=_satellite.getVar("internalPromotion")),l.eVar5=_satellite.getVar("Country Code"),l.eVar6=_satellite.getVar("Device Type"),l.eVar12=_satellite.getVar("storeID"),l.eVar13=_satellite.getVar("eCoupon"),l.eVar15=_satellite.getVar("Section Details"),l.eVar19=_satellite.getVar("repID"),l.eVar21=_satellite.getVar("CustomerID"),l.eVar26=_satellite.getVar("eValueDealCode"),l.eVar27=_satellite.getVar("Experience"),l.eVar28=_satellite.getVar("Get Consent from LS"),l.eVar29=sessionStorage.segmentLISA?sessionStorage.segmentLISA:"",l.eVar32=_satellite.getVar("Business unit"),l.eVar36=_satellite.getVar("UTM Content"),"jpad"==_satellite.getVar("storeID")||"kakaku"==_satellite.getVar("storeID")||"jptvc"==_satellite.getVar("storeID")?l.eVar32="public":"jpaffinity"==_satellite.getVar("storeID")||"jppartsales"==_satellite.getVar("storeID")?l.eVar32="affinity":"jpbiccamera"==_satellite.getVar("storeID")||"jpyodobashi"==_satellite.getVar("storeID")?l.eVar32="retail":"jpeducation"==_satellite.getVar("storeID")&&(l.eVar32="epp"),l.eVar47=_satellite.getVar("user status"),l.eVar58=_satellite.getVar("pageName"),(location.href.indexOf("smbpro/gatekeeper/showpage")>-1||location.href.indexOf("smbpro/smbRegistrationV3/smbRegister")>-1||location.href.indexOf("/smbaccount/gatekeeper/showpage")>-1)&&void 0!==lmd.virtualPageName&&(l.eVar58=_satellite.getVar("Virtual SMB Page Name")),l.eVar63=_satellite.getVar("reportSuite"),l.eVar70=_satellite.getVar("Prev Page Name"),l.eVar244=_satellite.getVar("Prev Page Name"),l.eVar246=_satellite.getVar("Prev Page Name"),l.eVar75=_satellite.getVar("URL"),""!==_satellite.getVar("Smartly IDs")&&(l.eVar100=_satellite.getVar("Smartly IDs")),l.eVar124=_satellite.getVar("segmentdetail"),l.eVar142=_satellite.getVar("Hashed Email ID"),l.eVar147=_satellite.getVar("Language"),l.eVar168=_satellite.getVar("SubseriesID"),l.eVar169=_satellite.getVar("ECID"),l.eVar171=_satellite.getVar("User Agent"),l.eVar180=_satellite.getVar("BPID")+"|"+_satellite.getVar("storeID"),l.eVar193=_satellite.getVar("GroupID"),l.eVar242=_satellite.getVar("ProductSubseriesID"),"undefined"!=typeof cur_recency_score&&(l.eVar231=cur_recency_score.toString()),"undefined"!=typeof cur_visit_num_bucket&&(l.eVar232=cur_visit_num_bucket.toString()),"undefined"!=typeof cur_dur_score&&(l.eVar233=cur_dur_score.toString()),_satellite.getVar("Blue Core - Variant_ID")&&(l.eVar220="Bluecore:"+_satellite.getVar("Blue Core - Variant_ID")),_satellite.getVar("Blue Core - Run_Key")&&(l.eVar238="Bluecore:"+_satellite.getVar("Blue Core - Run_Key"));else{var s,c,i=_satellite.getVar("Business unit");"jpad"==_satellite.getVar("storeID")||"kakaku"==_satellite.getVar("storeID")||"jptvc"==_satellite.getVar("storeID")?i="public":"jpaffinity"==_satellite.getVar("storeID")||"jppartsales"==_satellite.getVar("storeID")?i="affinity":"jpbiccamera"==_satellite.getVar("storeID")||"jpyodobashi"==_satellite.getVar("storeID")?i="retail":"jpeducation"==_satellite.getVar("storeID")&&(i="epp"),_satellite.getVar("Blue Core - Variant_ID")&&(s="Bluecore:"+_satellite.getVar("Blue Core - Variant_ID")),_satellite.getVar("Blue Core - Variant_ID")&&(c="Bluecore:"+_satellite.getVar("Blue Core - Run_Key"));var l={eVar1:_satellite.getVar("internalPromotion"),eVar5:_satellite.getVar("Country Code"),eVar6:_satellite.getVar("Device Type"),eVar12:_satellite.getVar("storeID"),eVar13:_satellite.getVar("eCoupon"),eVar15:_satellite.getVar("Section Details"),eVar19:_satellite.getVar("repID"),eVar21:_satellite.getVar("CustomerID"),eVar26:_satellite.getVar("eValueDealCode"),eVar27:_satellite.getVar("Experience"),eVar28:_satellite.getVar("Get Consent from LS"),eVar29:sessionStorage.segmentLISA?sessionStorage.segmentLISA:"",eVar32:i,eVar36:_satellite.getVar("UTM Content"),eVar47:_satellite.getVar("user status"),eVar58:(location.href.indexOf("smbpro/gatekeeper/showpage")>-1||location.href.indexOf("smbpro/smbRegistrationV3/smbRegister")>-1||location.href.indexOf("/smbaccount/gatekeeper/showpage")>-1)&&void 0!==lmd.virtualPageName?_satellite.getVar("Virtual SMB Page Name"):_satellite.getVar("pageName"),eVar63:_satellite.getVar("reportSuite"),eVar75:_satellite.getVar("URL"),eVar70:_satellite.getVar("Prev Page Name"),eVar244:_satellite.getVar("Prev Page Name"),eVar246:_satellite.getVar("Prev Page Name"),eVar100:_satellite.getVar("Smartly IDs"),eVar124:_satellite.getVar("segmentdetail"),eVar142:_satellite.getVar("Hashed Email ID"),eVar147:_satellite.getVar("Language"),eVar168:_satellite.getVar("SubseriesID"),eVar169:_satellite.getVar("ECID"),eVar171:_satellite.getVar("User Agent"),eVar180:_satellite.getVar("BPID")+"|"+_satellite.getVar("storeID"),eVar193:_satellite.getVar("GroupID"),eVar238:c,eVar220:s,eVar250:"9490",eVar231:"undefined"!=typeof cur_recency_score?cur_recency_score.toString():"",eVar232:"undefined"!=typeof cur_visit_num_bucket?cur_visit_num_bucket.toString():"",eVar233:"undefined"!=typeof cur_dur_score?cur_dur_score.toString():"",eVar242:_satellite.getVar("ProductSubseriesID")}}if(e.xdm._experience.analytics.customDimensions.eVars=l,e.xdm._experience.analytics.customDimensions.props)(d=e.xdm._experience.analytics.customDimensions.props).prop3=_satellite.getVar("URL"),d.prop7=_satellite.getVar("Section Details"),d.prop17="undefined"!=typeof adobeTargetExp?adobeTargetExp:"",d.prop22=_satellite.getVar("ECID"),d.prop29=_satellite.getVar("Language"),d.prop36=_satellite.getVar("Country Code"),d.prop42=_satellite.getVar("Login ID"),d.prop48=_satellite.getVar("login Status"),d.prop51=_satellite.getVar("Referrer URL"),d.prop70=_satellite.getVar("Algorithm name"),d.prop74=_satellite.getVar("Facebook In-App Browser");else var d={prop3:_satellite.getVar("URL"),prop7:_satellite.getVar("Section Details"),prop17:"undefined"!=typeof adobeTargetExp?adobeTargetExp:"",prop22:_satellite.getVar("ECID"),prop29:_satellite.getVar("Language"),prop36:_satellite.getVar("Country Code"),prop42:_satellite.getVar("Login ID"),prop48:_satellite.getVar("login Status"),prop51:_satellite.getVar("Referrer URL"),prop70:_satellite.getVar("Algorithm name"),prop74:_satellite.getVar("Facebook In-App Browser")};if(e.xdm._experience.analytics.customDimensions.props=d,e.xdm._experience.analytics.event301to400){var u=e.xdm._experience.analytics.event301to400,m="";m=localStorage.getItem("score")&&0==localStorage.getItem("score")?"undefined"!=typeof cur_tot_rfd_change?cur_tot_rfd_change:0:localStorage.getItem("score"),u.event324={value:"undefined"!=typeof cur_visit_num_bucket?Number(cur_visit_num_bucket):0},u.event325={value:"undefined"!=typeof cur_recency_score?Number(cur_recency_score):0},u.event326={value:"undefined"!=typeof cur_dur_score?Number(cur_dur_score):0},u.event329={value:Number(m)}}else u={event324:{value:"undefined"!=typeof cur_visit_num_bucket?Number(cur_visit_num_bucket):0},event325:{value:"undefined"!=typeof cur_recency_score?Number(cur_recency_score):0},event326:{value:"undefined"!=typeof cur_dur_score?Number(cur_dur_score):0},event329:{value:"undefined"!=typeof cur_tot_rfd_change?Number(cur_tot_rfd_change):0}};var g;if(e.xdm._experience&&e.xdm._experience.analytics)e.xdm._experience.analytics.event401to500&&!e.xdm._experience.analytics.event401to500.event414?((g=e.xdm._experience.analytics.event401to500).event414={value:_satellite.getVar("User Acceptance (e414)")},e.xdm._experience.analytics.event401to500=g):(e.xdm._experience.analytics.event401to500={},e.xdm._experience.analytics.event401to500={event414:{value:_satellite.getVar("User Acceptance (e414)")}}),0==_satellite.getVar("User Acceptance (e414)")&&(e.xdm._experience.analytics.event401to500&&!e.xdm._experience.analytics.event401to500.event415?((g=e.xdm._experience.analytics.event401to500).event415={value:1},e.xdm._experience.analytics.event401to500=g):(e.xdm._experience.analytics.event401to500={},e.xdm._experience.analytics.event401to500={event415:{value:1}}));if((_satellite.getVar("pageBreadCrumb").indexOf("summary:checkout")>-1||_satellite.getVar("pageBreadCrumb").indexOf("\u5185\u5bb9\u78ba\u8a8d:Checkout")>-1)&&(e.xdm.productListItems=_satellite.getVar("checkout:products"),void 0===e.xdm.commerce&&(e.xdm.commerce={}),e.xdm.commerce.checkouts={id:_satellite.getVar("checkout:cartID")+_satellite.getVar("cc")+_satellite.getVar("storeID"),value:1},e.xdm._experience.analytics.customDimensions.eVars.eVar20=_satellite.getVar("checkout:shippingMethod")),_satellite.getVar("pageBreadCrumb").indexOf("login/register")>-1){if(e.xdm._experience.analytics.event201to300)(p=e.xdm._experience.analytics.event201to300).event201={id:_satellite.getVar("checkout:cartID"),value:1};else var p={event201:{id:_satellite.getVar("checkout:cartID"),value:1}};e.xdm._experience.analytics.event201to300=p}}if(e.xdm.eventType&&e.xdm.eventType.toLowerCase().indexOf("view")>0||e.xdm.eventType.toLowerCase().indexOf("purchase")>0){if(e.xdm._experience.analytics.event1to100)(f=e.xdm._experience.analytics.event1to100).event59={value:1},f.event30={value:"undefined"!=typeof cur_tot_rfd_change?Number(cur_tot_rfd_change):0};else var f={event59:{value:1},event30:{value:"undefined"!=typeof cur_tot_rfd_change?Number(cur_tot_rfd_change):0}};e.xdm._experience.analytics.event1to100=f,e.xdm._experience.analytics.event301to400=u}else"web.webpagedetails.pageView"!==e.xdm.eventType&&(e.xdm.web.webInteraction?e.xdm.web.webInteraction.linkClicks?(e.xdm.web.webInteraction.linkClicks.value=1,e.xdm.web.webInteraction.type="other",!e.xdm.web.webInteraction.name&&(e.xdm.web.webInteraction.name="ExperienceEventType:"+(e.xdm.eventType||"NONE"))):(e.xdm.web.webInteraction.linkClicks={},e.xdm.web.webInteraction.linkClicks.value=1,e.xdm.web.webInteraction.type="other",
e.xdm.web.webInteraction.name="ExperienceEventType:"+(e.xdm.eventType||"NONE")):(e.xdm.web.webInteraction={},e.xdm.web.webInteraction.linkClicks={},e.xdm.web.webInteraction.linkClicks.value=1,e.xdm.web.webInteraction.type="other",e.xdm.web.webInteraction.name="ExperienceEventType:"+(e.xdm.eventType||"NONE")));var _=new URLSearchParams(window.location.search).get("cid");if(_&&null!==_&&""!==_){var v=_.replace(/:/,"|"),b=v.split("|");console.log(b.length+"this is length"),b.length>3&&(e.xdm._experience.analytics.customDimensions.eVars.eVar186=v)}}else e.xdm.web.webInteraction?e.xdm.web.webInteraction.linkClicks?(e.xdm.web.webInteraction.linkClicks.value=1,e.xdm.web.webInteraction.type="other",!e.xdm.web.webInteraction.name&&(e.xdm.web.webInteraction.name="ExperienceEventType:"+(e.xdm.eventType||"NONE"))):(e.xdm.web.webInteraction.linkClicks={},e.xdm.web.webInteraction.linkClicks.value=1,e.xdm.web.webInteraction.type="other",e.xdm.web.webInteraction.name="ExperienceEventType:"+(e.xdm.eventType||"NONE")):(e.xdm.web.webInteraction={},e.xdm.web.webInteraction.linkClicks={},e.xdm.web.webInteraction.linkClicks.value=1,e.xdm.web.webInteraction.type="other",e.xdm.web.webInteraction.name="ExperienceEventType:"+(e.xdm.eventType||"NONE")),e.xdm.web.webPageDetails.server=_satellite.getVar("domain");if(e.xdm&&e.xdm.environment&&e.xdm.environment.browserDetails){var h=_satellite.getVar("Cookie Enabled/Disabled")||!1;e.xdm.environment.browserDetails.cookiesEnabled={},e.xdm.environment.browserDetails.cookiesEnabled=h}if(e.xdm.web&&e.xdm.web.webInteraction&&"Link Click"==e.xdm.web.webInteraction.name&&"other"==e.xdm.web.webInteraction.type)return!1;e.xdm&&e.xdm._experience&&e.xdm._experience.analytics&&(e.xdm._experience.analytics=t(e.xdm._experience.analytics))}catch(t){console.log("Error in AEP WEB SDK extension",t),void 0!==e.xdm&&e.xdm._experience&&e.xdm._experience.analytics&&e.xdm._experience.analytics.customDimensions&&e.xdm._experience.analytics.customDimensions.eVars&&(e.xdm._experience.analytics.customDimensions.eVars.eVar145=t.message)}},stagingEdgeConfigId:"%RS%",developmentEdgeConfigId:"%RS%"}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=function(e){return e.data}}},"adobe-alloy/dist/lib/dataElements/identityMap/index.js":{name:"identity-map",displayName:"Identity map",script:function(e,t,o,n){"use strict";var r=o("./createIdentityMap")({logger:n.logger});e.exports=function(e){return r(e)}}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,o,n){"use strict";var r,a=o("./createSendEvent"),s=o("../../instanceManager/index"),c=o("../../index").sendEventCallbackStorage,i=o("../../utils/createGetConfigOverrides");e.exports=a({instanceManager:s,sendEventCallbackStorage:c,getConfigOverrides:i(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,o,n){"use strict";var r,a=o("../alloy"),s=a.createInstance,c=a.createEventMergeId,i=o("./createInstanceManager"),l=o("./injectWrapOnBeforeEventSend"),d=o("../utils/createGetConfigOverrides"),u=l({version:"2.24.0"});e.exports=i({turbine:n,window:window,createInstance:s,createEventMergeId:c,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/dataElements/identityMap/createIdentityMap.js":{script:function(e){"use strict";e.exports=function(e){var t=e.logger;return function(e){return Object.keys(e).reduce((function(o,n){var r=e[n].filter((function(e,o){var r=e.id,a="string"==typeof r&&r.length;return a||t.log("The identifier at ".concat(n,"[").concat(o,"] was removed from the identity map because its ID is not a populated string. Its ID value is:"),r),a}));return r.length?o[n]=r:t.log("The ".concat(n," namespace was removed from the identity map because it contains no identifiers.")),o}),{})}}}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,o){"use strict";function n(e,t){if(null==e)return{};var o,n,a=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||{}.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function r(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;o[n]=e[n]}return o}var a=["instanceName"],s=o("../../utils/clone");e.exports=function(e){var t=e.instanceManager,o=e.sendEventCallbackStorage,r=e.getConfigOverrides;return function(e){var c=e.instanceName,i=n(e,a);i.edgeConfigOverrides=r(i);var l=t.getInstance(c);if(!l)throw new Error('Failed to send event for instance "'.concat(c,'". No matching instance was configured with this name.'));return i.xdm&&(i.xdm=s(i.xdm)),i.data&&(i.data=s(i.data)),l("sendEvent",i).then((function(e){o.triggerEvent(e)}))}}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,o){"use strict";var n=o("./createEventMergeIdCache"),r=o("./createSendEventCallbackStorage"),a=o("./createMediaCollectionSessionStorage"),s=o("./createVariableStore");t.eventMergeIdCache=n(),t.sendEventCallbackStorage=r(),t.mediaCollectionSessionStorage=a(),t.variableStore=s()}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,o){return(t=a(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e){var o=s(e,"string");return"symbol"==t(o)?o:o+""}function s(e,o){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,o||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}var c=function(e){return function(t){var o,r,a,s,c,i=t.edgeConfigOverrides;if(i){if(i[e])c=n({},i[e]);else{if(i.development||i.staging||i.production)return;c=i}if(0!==Object.keys(c).length){if((null===(o=c.com_adobe_analytics)||void 0===o||null===(o=o.reportSuites)||void 0===o?void 0:o.length)>0&&(c.com_adobe_analytics.reportSuites=c.com_adobe_analytics.reportSuites.flatMap((function(e){return e.includes(",")?e.split(/,\s*/gi):e})).map((function(e){return e.trim()})).filter(Boolean)),void 0!==(null===(r=c.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&null!==(null===(a=c.com_adobe_identity)||void 0===a?void 0:a.idSyncContainerId)&&"string"==typeof(null===(s=c.com_adobe_identity)||void 0===s?void 0:s.idSyncContainerId)){var l=parseInt(c.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(l))throw new Error('The ID sync container ID "'.concat(c.com_adobe_identity.idSyncContainerId,'" is not a valid integer.'));c.com_adobe_identity.idSyncContainerId=l}return c}}}};e.exports=c}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=function(e){return JSON.parse(JSON.stringify(e))}}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(null==e)return{};var o,n,r=a(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||{}.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function a(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;o[n]=e[n]}return o}function s(e,t){return l(e)||i(e,t)||v(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,a,s,c=[],i=!0,l=!1;try{if(a=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;i=!1}else for(;!(i=(n=a.call(o)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{if(!i&&null!=o.return&&(s=o.return(),Object(s)!==s))return}finally{if(l)throw r}}return c}}function l(e){if(Array.isArray(e))return e}function d(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?d(Object(o),!0).forEach((function(t){m(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function m(e,t,o){return(t=g(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function g(e){var t=p(e,"string");return"symbol"==y(t)?t:t+""}function p(e,t){if("object"!=y(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e){return h(e)||b(e)||v(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return C(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?C(e,t):void 0}}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return C(e)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function S(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)e[n]=o[n]}return e}function I(e,t){function o(o,n,r){if("undefined"!=typeof document){"number"==typeof(r=S({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in r)r[s]&&(a+="; "+s,!0!==r[s]&&(a+="="+r[s].split(";")[0]));return document.cookie=o+"="+e.write(n,o)+a}}function n(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var o=document.cookie?document.cookie.split("; "):[],n={},r=0;r<o.length;r++){var a=o[r].split("="),s=a.slice(1).join("=");try{var c=decodeURIComponent(a[0]);if(n[c]=e.read(s,c),t===c)break}catch(e){}}return t?n[t]:n}}return Object.create({set:o,get:n,remove:function(e,t){o(e,"",S({},t,{expires:-1}))},withAttributes:function(e){return I(this.converter,S({},this.attributes,e))},withConverter:function(e){return I(S({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function P(){if(!ge&&!(ge="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ge(jo)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Eo[e[t+0]]+Eo[e[t+1]]+Eo[e[t+2]]+Eo[e[t+3]]+"-"+Eo[e[t+4]]+Eo[e[t+5]]+"-"+Eo[e[t+6]]+Eo[e[t+7]]+"-"+Eo[e[t+8]]+Eo[e[t+9]]+"-"+Eo[e[t+10]]+Eo[e[t+11]]+Eo[e[t+12]]+Eo[e[t+13]]+Eo[e[t+14]]+Eo[e[t+15]]}function E(e,t,o){if(Vo.randomUUID&&!t&&!e)return Vo.randomUUID();var n=(e=e||{}).random||(e.rng||P)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var r=0;r<16;++r)t[o+r]=n[r];return t}return j(n)}function L(e){return"object"===y(e)||void 0===e}function V(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(L(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<o.length;r+=1)if(!L(o[r])&&n===String(o[r]).toLowerCase())return!0;return!1}}}function x(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(L(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<o.length;r+=1)if(!L(o[r])&&n===String(o[r]).toLowerCase())return!1;return!0}}}function O(){return{matches:function(e,t){return void 0!==e[t]&&null!==e[t]}}}function k(){return{matches:function(e,t){return void 0===e[t]||null===e[t]}}}function D(e){return"number"==typeof e}function R(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!D(n))return!1;for(var r=0;r<o.length;r+=1)if(D(o[r])&&n>o[r])return!0;return!1}}}function T(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!D(n))return!1;for(var r=0;r<o.length;r+=1)if(D(o[r])&&n>=o[r])return!0;return!1}}}function N(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!D(n))return!1;for(var r=0;r<o.length;r+=1)if(D(o[r])&&n<o[r])return!0;return!1}}}function F(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!D(n))return!1;for(var r=0;r<o.length;r+=1)if(D(o[r])&&n<=o[r])return!0;return!1}}}function A(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(L(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<o.length;r+=1)if(!L(o[r])&&-1!==n.indexOf(String(o[r]).toLowerCase()))return!0;return!1}}}function M(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(L(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<o.length;r+=1)if(!L(o[r])&&-1!==n.indexOf(String(o[r]).toLowerCase()))return!1;return!0}}}function U(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(L(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<o.length;r+=1)if(!L(o[r])&&n.startsWith(String(o[r]).toLowerCase()))return!0;return!1}}}function B(){return{matches:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(L(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<o.length;r+=1)if(!L(o[r])&&n.endsWith(o[r].toLowerCase()))return!0;return!1}}}function q(e){return $l[e]}function G(e){return void 0===e}function H(e,t,o){switch(t){case Wl.GREATER_THAN:return e>o;case Wl.GREATER_THAN_OR_EQUAL_TO:return e>=o;case Wl.LESS_THAN:return e<o;case Wl.LESS_THAN_OR_EQUAL_TO:return e<=o;case Wl.EQUALS:return e===o;case Wl.NOT_EQUALS:return e!==o;default:return!1}}function z(e,t){for(var o=0;o<t.length;o+=1)if(!G(e[t[o]]))return e[t[o]]}function W(e,t){for(var o=Object.keys(e),n=0;n<o.length;n+=1){var r=o[n],a=t.event;if((void 0===a?{}:a)[o[n]]!==e[r])return!1}return!0}function Q(e,t,o,n){return e.reduce((function(e,r){var a=z(r,Jl);if(!a)return e;var s=t.events[a];if(!s)return e;var c=z(r,Kl);if(!c)return e;var i=s[c];if(!i)return e;if(!W(r,i))return e;var l=i.count,d=void 0===l?1:l;return G(o)||G(n)||i.timestamp>=o&&i.timestamp<=n?e+d:e}),0)}function X(e,t,o,n){var r=o;return e.every((function(e){var o=z(e,Jl);if(!o)return!1;var a=t.events[o];if(!a)return!1;var s=z(e,Kl);if(!s)return!1;var c=a[s];if(!W(e,c))return!1;if(null===c||G(c)||0===c.count)return!1;var i=(G(r)||c.timestamp>=r)&&(G(n)||c.timestamp<=n);return r=c.timestamp,i}))?1:0}function $(e,t){for(var o=!0,n=0;n<t.length;n+=1)o=o&&t[n].evaluate(e);return o}function J(e,t){for(var o=!1,n=0;n<t.length;n+=1)if(o=o||t[n].evaluate(e))return!0;return!1}function K(e,t){return{version:e,rules:t}}function Y(e,t){return{execute:function(o){return e.evaluate(o)?t:[]},toString:function(){return"Rule{condition=".concat(e,", consequences=").concat(t,"}")}}}function Z(e,t){return{evaluate:function(e){return t.evaluate(e)},toString:function(){return"Condition{type=".concat(e,", definition=").concat(t,"}")}}}function ee(e,t,o){return{id:e,type:t,detail:o}}function te(e,t){return{evaluate:function(o){return Ql.AND===e?$(o,t):Ql.OR===e&&J(o,t)}}}function oe(e,t,o){return{evaluate:function(n){var r=q(t);return!!r&&r.matches(n,e,o)}}}function ne(e,t,o,n,r,a){return{evaluate:function(s){return H(Xl.ORDERED===a?X(e,s,n,r):Q(e,s,n,r),t,o)}}}function re(e){return oe(e.key,e.matcher,e.values)}function ae(e){return te(e.logic,e.conditions.map(ce))}function se(e){var t=e.events,o=e.from,n=e.to;return ne(t,e.matcher,e.value,o,n,e.searchType)}function ce(e){var t=e.type,o=e.definition;if(zl.MATCHER===t)return Z(t,re(o));if(zl.GROUP===t)return Z(t,ae(o));if(zl.HISTORICAL===t)return Z(t,se(o));throw new Error("Can not parse condition")}function ie(e){return ee(e.id,e.type,e.detail)}function le(e){var t=e.condition,o=e.consequences;return Y(ce(t),o.map(ie))}function de(e){return K(e.version,e.rules.map(le))}function ue(e){var t=de(e),o=t.version,n=t.rules;return{execute:function(e){return n.map((function(t){return t.execute(e)})).filter((function(e){return e.length>0}))},getVersion:function(){return o},numRules:function(){return n.length}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createInstance=t.createEventMergeId=void 0;for(var me,ge,pe=n(o("@adobe/reactor-object-assign")),fe=n(o("@adobe/reactor-query-string")),_e=n(o("@adobe/reactor-load-script")),ve=["xdm","data","documentUnloading","type","mergeId","datasetId","edgeConfigOverrides"],be=["datastreamId"],he=["priority"],Ce=["trackingLabel","scopeType"],ye=["standard","version"],Se=["edgeConfigOverrides"],Ie="Chrome",we="Edge",Pe="EdgeChromium",je="Firefox",Ee="IE",Le="Safari",Ve="Unknown",xe=function(e,t){return-1!==e.indexOf(t)},Oe=[Ie,we,Pe,Ee,Ve],ke=function(e){return xe(Oe,e)},De=function(e){return null==e},Re=function(e){return!De(e)&&!Array.isArray(e)&&"object"===y(e)},Te=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.length<2?pe.default.apply(void 0,t):t.reduce((function(e,t){return Re(t)&&Object.keys(t).forEach((function(o){var n;Array.isArray(t[o])?Array.isArray(e[o])?(n=e[o]).push.apply(n,f(t[o])):e[o]=f(t[o]):e[o]=t[o]})),e}))},Ne=I({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Fe={get:Ne.get,set:Ne.set,remove:Ne.remove,withConverter:Ne.withConverter},Ae=function e(t,o){Object.keys(o).forEach((function(n){Re(t[n])&&Re(o[n])?e(t[n],o[n]):t[n]=o[n]}))},Me=t.deepAssign=function(e){if(De(e))throw new TypeError('deepAssign "target" cannot be null or undefined');for(var t=Object(e),o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return n.forEach((function(e){return Ae(t,Object(e))})),t},Ue=function(e,t){return function(o){var n=t.split(".").reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e);Me(n,o)}},Be=function(){var e=[];return{add:function(t){e.push(t)},call:function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return Promise.all(e.map((function(e){return e.apply(void 0,o)})))}}},qe=function(e){var t=e.logger,o=e.cookieJar;return u(u({},o),{},{set:function(e,n,r){t.info("Setting cookie",u({name:e,value:n},r)),o.set(e,n,r)}})},Ge=function(){var e=0,t=Promise.resolve();return{addTask:function(o){e+=1;var n=function(){return o().finally((function(){e-=1}))};return t=t.then(n,n)},get length(){return e}}},He=function(){for(var e=[],t=0;t<256;t++){for(var o=t,n=0;n<8;n++)o=1&o?3988292384^o>>>1:o>>>1;e.push(o)}return function(t,o){t=unescape(encodeURIComponent(t)),o||(o=0),o^=-1;for(var n=0;n<t.length;n++){var r=255&(o^t.charCodeAt(n));o=o>>>8^e[r]}return(o^=-1)>>>0}}(),ze=function(){var e={};return e.promise=new Promise((function(t,o){e.resolve=t,e.reject=o})),e},We=function(e,t){return e===t},Qe=function(e,t,o){for(var n=0;n<e.length;n+=1)if(o(e[n],t))return n;return-1},Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;return e.filter((function(o,n){return Qe(e,o,t)===n}))},$e=function(e,t){return e.substr(-t.length)===t},Je=function(e,t){for(var o=0;o<e.length;o+=1){var n=e[o];if(t(n,o,e))return n}},Ke=function(e,t){return e.appendChild(t)},Ye=function(e,t){Object.keys(t).forEach((function(o){if("style"===o&&Re(t[o])){var n=t[o];Object.keys(n).forEach((function(t){e.style[t]=n[t]}))}else e[o]=t[o]}))},Ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((function(e){r.setAttribute(e,t[e])})),Ye(r,o),n.forEach((function(e){return Ke(r,e)})),r},et="BODY",tt="IFRAME",ot="IMG",nt="DIV",rt="STYLE",at="SCRIPT",st="HEAD",ct=function(e){var t=e.src,o=e.currentDocument,n=void 0===o?document:o;return new Promise((function(e,o){Ze(ot,{src:t},{onload:e,onerror:o,onabort:o},[],n)}))},it=function(e){return"function"==typeof e},lt=function(e){return Array.isArray(e)&&e.length>0},dt=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},ut=/^\s*>/,mt=function(e,t){if(!ut.test(t))return dt(e.querySelectorAll(t));var o="alloy-".concat(Date.now());try{return e.classList.add(o),dt(e.querySelectorAll(".".concat(o," ").concat(t)))}finally{e.classList.remove(o)}},gt=function(e,t){return e.substr(0,t.length)===t},pt=":shadow",ft=function(e){return e.split(pt)},_t=function(e,t){var o=t;if(!gt(o,">"))return o;if(window.document.documentMode)return o.substring(1).trim();var n=e instanceof Element||e instanceof HTMLDocument?":scope":":host";return"".concat(n," ").concat(o)},vt=function(e,t){if(!window.document.documentElement.attachShadow)return mt(e,t.replace(pt,""));var o=ft(t);if(o.length<2)return mt(e,t);for(var n=e,r=0;r<o.length;r+=1){var a=o[r].trim();if(""===a&&n.shadowRoot)n=n.shadowRoot;else{var s=_t(n,a),c=mt(n,s);if(0===c.length||!c[0]||!c[0].shadowRoot)return c;n=c[0].shadowRoot}}},bt=function(e){return-1!==e.indexOf(pt)},ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return bt(e)?vt(t,e):mt(t,e)},Ct="MutationObserver",yt="requestAnimationFrame",St={childList:!0,subtree:!0},It="visibilityState",wt="visible",Pt=100,jt=5e3,Et=function(e){return new Error("Could not find: ".concat(e))},Lt=function(e){return new Promise(e)},Vt=function(e){return it(e[Ct])},xt=function(e,t,o,n,r){return Lt((function(a,s){var c=new e[Ct]((function(){var e=r(o);lt(e)&&(c.disconnect(),a(e))}));setTimeout((function(){c.disconnect(),s(Et(o))}),n),c.observe(t,St)}))},Ot=function(e){return e[It]===wt},kt=function(e,t,o,n){return Lt((function(r,a){(function o(){var a=n(t);lt(a)?r(a):e[yt](o)})(),setTimeout((function(){a(Et(t))}),o)}))},Dt=function(e,t,o){return Lt((function(n,r){(function t(){var r=o(e);lt(r)?n(r):setTimeout(t,Pt)})(),setTimeout((function(){r(Et(e))}),t)}))},Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jt,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,a=t(e);return lt(a)?Promise.resolve(a):Vt(n)?xt(n,r,e,o,t):Ot(r)?kt(n,e,o,t):Dt(e,o,t)},Tt=function(e,t){return t.matches?t.matches(e):t.msMatchesSelector(e)},Nt=function(e){var t=e.parentNode;return t?t.removeChild(e):null},Ft={name:"Adobe Alloy"},At={style:{display:"none",width:0,height:0}},Mt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.appendNode,n=void 0===o?Ke:o,r=t.awaitSelector,a=void 0===r?Rt:r,c=t.createNode,i=void 0===c?Ze:c,l=t.fireImage,d=void 0===l?ct:l,u=d,m=function(){return a(et).then((function(t){var o=s(t,1)[0];return e||(e=i(tt,Ft,At),n(o,e))}))},g=function(e){var t=e.src;return m().then((function(e){var o=e.contentWindow.document;return d({src:t,currentDocument:o})}))};return function(e){var t=e.hideReferrer,o=e.url;return t?g({src:o}):u({src:o})}},Ut=function(e){return Re(e)&&0===Object.keys(e).length},Bt=function e(t,o){return De(t)||!Re(t)?t:Object.keys(t).reduce((function(n,r){var a=t[r];if(Re(a)){var s=e(a,o);return Ut(s)?n:u(u({},n),{},m({},r,s))}return o(a)?u(u({},n),{},m({},r,a)):n}),{})},qt=function(e,t){return Array.prototype.concat.apply([],e.map(t))},Gt="com.adobe.alloy.",Ht=function(e,t){return e.slice(-t)},zt="".concat(Gt,"getTld"),Wt=function(e,t){for(var o="",n=e.location.hostname.toLowerCase().split("."),r=1;r<n.length&&!t.get(zt);)o=Ht(n,r+=1).join("."),t.set(zt,zt,{domain:o});return t.remove(zt,{domain:o}),o},Qt="kndctr",Xt=function(e){return e.replace("@","_")},$t=function(e,t){return"".concat(Qt,"_").concat(Xt(e),"_").concat(t)},Jt=function(e,t){var o={};return e.forEach((function(e){var n=t(e);o[n]||(o[n]=[]),o[n].push(e)})),o},Kt="identity",Yt="consent",Zt="cluster",eo=function(e){var t=e.orgId,o=$t(t,Kt);return function(){return Boolean(Fe.get(o))}},to=function(e,t,o){return{getItem:function(n){try{return e[t].getItem(o+n)}catch(e){return null}},setItem:function(n,r){try{return e[t].setItem(o+n,r),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[t]).forEach((function(n){gt(n,o)&&e[t].removeItem(n)})),!0}catch(e){return!1}}}},oo=function(e){return function(t){var o=Gt+t;return{session:to(e,"sessionStorage",o),persistent:to(e,"localStorage",o)}}},no=function(e,t){return e.filter((function(e){return xe(t,e)}))},ro=function(e){return"boolean"==typeof e},ao=function(e){return"number"==typeof e&&!isNaN(e)},so=function(e){var t=parseInt(e,10);return ao(t)&&e===t},co=function(e,t){return 0===t.indexOf("".concat(Qt,"_").concat(Xt(e),"_"))},io=function(e){return"string"==typeof e},lo=function(e){return io(e)&&e.length>0},uo=function(e){var t=new Map;return function(){var o=arguments.length<=0?void 0:arguments[0];if(t.has(o))return t.get(o);var n=e.apply(void 0,arguments);return t.set(o,n),n}},mo=function(){},go=function(e,t,o){var n=String(e),r=String(o);if(n.length>=t||0===r.length)return n;for(var a=t-n.length;a>r.length;)r+=r;return r.slice(0,a)+n},po="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=o.parser[t.strictMode?"strict":"loose"].exec(e),r={},a=14;a--;)r[o.key[a]]=n[a]||"";return r[o.q.name]={},r[o.key[12]].replace(o.q.parser,(function(e,t,n){t&&(r[o.q.name][t]=n)})),r}},_o=w(fo),vo=function(e){var t={},o=e.split(".");switch(o.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=o[1];break;case 3:t.subdomain="www"===o[0]?"":o[0],t.domain=e,t.topLevelDomain=o[2];break;case 4:t.subdomain="www"===o[0]?"":o[0],t.domain=e,t.topLevelDomain="".concat(o[2],".").concat(o[3])}return t},bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vo;io(e)||(e="");var o=_o(e)||{},n=o.host,r=void 0===n?"":n,a=o.path,s=void 0===a?"":a,c=o.query,i=void 0===c?"":c,l=o.anchor;return u({path:s,query:i,fragment:void 0===l?"":l},t(r))},ho=function(e){if(De(e)||"object"!==y(e))return null;var t=Bt(e,(function(e){return!(De(e)||!ro(e)&&!ao(e)&&!lo(e)&&!lt(e))}));return Ut(t)?null:t},Co=function(e){return e instanceof Error?e:new Error(e)},yo=function(e){var t=e.error,o=e.message;try{t.message=o}catch(e){}},So=function(e){var t=e.error,o=e.message,n=Co(t),r="".concat(o,"\nCaused by: ").concat(n.message);return yo({error:n,message:r}),n},Io=function(e){return io(e)&&"true"===e.toLowerCase()},wo=function(e,t){if(ao(e)||io(e)){var o=Math.round(Number(e));if(!isNaN(o))return o}return t},Po=function(e){var t=e.getFullYear(),o=go(e.getMonth()+1,2,"0"),n=go(e.getDate(),2,"0"),r=go(e.getHours(),2,"0"),a=go(e.getMinutes(),2,"0"),s=go(e.getSeconds(),2,"0"),c=go(e.getMilliseconds(),3,"0"),i=wo(e.getTimezoneOffset(),0),l=i>0?"-":"+",d=go(Math.floor(Math.abs(i)/60),2,"0"),u=go(Math.abs(i)%60,2,"0");return"".concat(t,"-").concat(o,"-").concat(n,"T").concat(r,":").concat(a,":").concat(s,".").concat(c).concat(l).concat(d,":").concat(u)},jo=new Uint8Array(16),Eo=[],Lo=0;Lo<256;++Lo)Eo.push((Lo+256).toString(16).slice(1));var Vo={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},xo=function(e){return function(t,o){return null==t?t:e.call(this,t,o)}},Oo=function(e,t){return function(o,n){return t.call(this,e.call(this,o,n),n)}},ko=function(e,t){return function(o,n){var r=this,a=[],s=[e,t].reduce((function(e,t){try{return t.call(r,e,n)}catch(t){return a.push(t),e}}),o);if(a.length)throw new Error(a.join("\n"));return s}},Do=function(e,t,o){return(0,pe.default)(Oo(e,t),e,o)},Ro=function(e,t,o){return(0,pe.default)(Oo(e,xo(t)),e,o)},To=function(e,t,o){return(0,pe.default)(ko(xo(t),e),e,o)},No=function(e,t,o,n){if(!e)throw new Error("'".concat(o,"': Expected ").concat(n,", but got ").concat(JSON.stringify(t),"."))},Fo=function(e,t){return No(ro(e),e,t,"true or false"),e},Ao=function(e,t){return No(it(e),e,t,"a function"),e},Mo=function(e){return function(t,o){var n=this;No(Array.isArray(t),t,o,"an array");var r=[],a=t.map((function(a,s){try{return e.call(n,a,"".concat(o,"[").concat(s,"]"),t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return a}},Uo=function(e){return function(t){return null==t?e:t}},Bo=function(e,t,o){return function(n,a){No(Re(n),n,a,"an object");var s=n[e],c=n[o],i=r(n,[e,o].map(g)),l=t(s,a);if(void 0!==l){var d="The field '".concat(e,"' is deprecated. Use '").concat(o,"' instead.");if(a&&(d="'".concat(a,"': ").concat(d)),void 0!==c&&c!==l)throw new Error(d);this&&this.logger&&this.logger.warn(d)}return u(m({},o,c||l),i)}},qo=function(e){return function(t,o){return No(t===e,t,o,"".concat(e)),t}},Go=function(e){return function(t,o){var n=this;No(Re(t),t,o,"an object");var r=[],a={};if(Object.keys(t).forEach((function(s){var c=t[s],i=o?"".concat(o,".").concat(s):s;try{var l=e.call(n,c,i);void 0!==l&&(a[s]=l)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return a}},Ho=function(e,t){return function(o,n){return No(o>=t,o,n,"".concat(e," greater than or equal to ").concat(t)),o}},zo=function(e,t){return function(o,n){return No(o<=t,o,n,"".concat(e," less than or equal to ").concat(t)),o}},Wo=function(e){return function(t,o){var n=[];if(Object.keys(t).forEach((function(t){if(!e[t]){var r=o?"".concat(o,".").concat(t):t;n.push("'".concat(r,"': Unknown field."))}})),n.length)throw new Error(n.join("\n"));return t}},Qo=function(e){return function(t,o){return Re(t)?No(!Ut(t),t,o,e):No(t.length>0,t,o,e),t}},Xo=function(e){return function(t,o){var n=this;No(Re(t),t,o,"an object");var r=[],a={};if(Object.keys(e).forEach((function(s){var c=t[s],i=e[s],l=o?"".concat(o,".").concat(s):s;try{var d=i.call(n,c,l);void 0!==d&&(a[s]=d)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(a,e)||(a[e]=t[e])
})),r.length)throw new Error(r.join("\n"));return a}},$o=function(e,t){return function(o,n){var r,a=this,s=Je(e,(function(e){try{return r=e.call(a,o,n),!0}catch(e){return!1}}));return No(s,o,n,t),r}},Jo=function(){var e=[];return function(t,o){return No(-1===e.indexOf(t),t,o,"a unique value across instances"),e.push(t),t}},Ko=function(e){for(var t=Object.create(null),o=0;o<e.length;o+=1){var n=e[o];if(n in t)return!1;t[n]=!0}return!0},Yo=function(){return function(e,t){No(Ko(e),e,t,"array values to be unique")}},Zo=/^[a-z0-9.-]{1,}$/i,en=function(e,t){return No(Zo.test(e),e,t,"a valid domain"),e},tn=function(e,t){return No(so(e),e,t,"an integer"),e},on=function(e,t){return No(ao(e),e,t,"a number"),e},nn=function(e){try{return null!==RegExp(e)}catch(e){return!1}},rn=function(e,t){return No(nn(e),e,t,"a regular expression"),e},an=function(e,t){if(null==e)throw new Error("'".concat(t,"' is a required option"));return e},sn=function(e,t){return No(io(e),e,t,"a string"),e},cn=function(e){return function(t,o){return No(e.test(t),t,o,"does not match the ".concat(e.toString())),t}},ln=function(e){return e};ln.default=function(e){return Do(this,Uo(e))},ln.required=function(){return Do(this,an)};var dn=function(){return Ro(this,en)},un=function(e){return Ro(this,Ho("an integer",e))},mn=function(e){return Ro(this,Ho("a number",e))},gn=function(e){return Ro(this,zo("a number",e))},pn=function(){return Ro(this,tn,{minimum:un})},fn=function(){return Ro(this,Qo("a non-empty string"))},_n=function(){return Ro(this,Qo("a non-empty array"))},vn=function(){return Ro(this,Qo("a non-empty object"))},bn=function(){return Ro(this,rn)},hn=function(e){return Ro(this,cn(e))},Cn=function(){return Ro(this,Jo())},yn=function(){return Ro(this,Yo())},Sn=function(){return this},In=function(e){return Ro(this,Mo(e),{nonEmpty:_n,uniqueItems:yn})},wn=function(){return Ro(this,Fo)},Pn=function(){return Ro(this,Ao)},jn=function(e){return Ro(this,qo(e))},En=function(){return Ro(this,on,{minimum:mn,maximum:gn,integer:pn,unique:Cn})},Ln=function(e){return Ro(this,Go(e),{nonEmpty:vn})},Vn=function e(t){return{noUnknownFields:function(){return Ro(this,Wo(t))},nonEmpty:vn,concat:function(o){var n=u(u({},t),o.schema);return Ro(this,o,e(n))},deprecated:function(e,t,o){return To(this,Bo(e,t,o))},schema:t}},xn=function(e){return Ro(this,Xo(e),Vn(e))},On=function(){return Ro(this,sn,{regexp:bn,domain:dn,nonEmpty:fn,unique:Cn,matches:hn})},kn=function(e,t){return Do(this,$o(e,t))}.bind(ln),Dn=Sn.bind(ln),Rn=In.bind(ln),Tn=wn.bind(ln),Nn=Pn.bind(ln),Fn=jn.bind(ln),An=En.bind(ln),Mn=Ln.bind(ln),Un=xn.bind(ln),Bn=On.bind(ln),qn=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return kn(t.map(Fn),"one of these values: [".concat(JSON.stringify(t),"]"))},Gn=Mn(Rn(Un({authenticatedState:qn("ambiguous","authenticated","loggedOut"),id:Bn(),namespace:Un({code:Bn()}).noUnknownFields(),primary:Tn(),xid:Bn()}).noUnknownFields()).required()),Hn=Un({}),zn=function(e){return Object.keys(e).map((function(t){return e[t]}))},Wn="alloy_debug",Qn=function(e){var t=e.console,o=e.locationSearch,n=e.createLogger,r=e.instanceName,a=e.createNamespacedStorage,s=e.getMonitors,c=fe.default.parse(o),i=a("instance.".concat(r,".")),l=i.session.getItem("debug"),d="true"===l,u=null===l,m=function(){return d},g=function(e,t){var o=t.fromConfig;o&&!u||(d=e),o||(i.session.setItem("debug",e.toString()),u=!1)};return void 0!==c[Wn]&&g(Io(c[Wn]),{fromConfig:!1}),{setDebugEnabled:g,logger:n({getDebugEnabled:m,context:{instanceName:r},getMonitors:s,console:t}),createComponentLogger:function(e){return n({getDebugEnabled:m,context:{instanceName:r,componentName:e},getMonitors:s,console:t})}}},Xn=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],$n=function(e,t){return function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return Promise.all(e.getLifecycleCallbacks(t).map((function(e){return new Promise((function(t){t(e.apply(void 0,n))}))})))}},Jn=function(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return Promise.resolve().then((function(){return e.apply(void 0,o)}))}},Kn=function(e){return Xn.reduce((function(t,o){return t[o]=Jn($n(e,o)),t}),{})},Yn=function(e,t){return function(){var o;try{o=e.apply(void 0,arguments)}catch(e){throw So({error:e,message:t})}return o instanceof Promise&&(o=o.catch((function(e){throw So({error:e,message:t})}))),o}},Zn=function(){var e={},t={},o={},n=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=no(Object.keys(t),Object.keys(o));if(n.length)throw new Error("[ComponentRegistry] Could not register ".concat(e," ")+"because it has existing command(s): ".concat(n.join(",")));Object.keys(o).forEach((function(n){var r=o[n];r.commandName=n,r.run=Yn(r.run,"[".concat(e,"] An error occurred while executing the ").concat(n," command.")),t[n]=r}))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){o[n]=o[n]||[],o[n].push(Yn(t[n],"[".concat(e,"] An error occurred while executing the ").concat(n," lifecycle hook.")))}))};return{register:function(t,o){var a=o.commands,s=o.lifecycle;n(t,a),r(t,s),e[t]=o},getCommand:function(e){return t[e]},getCommandNames:function(){return Object.keys(t)},getLifecycleCallbacks:function(e){return o[e]||[]},getComponentNames:function(){return Object.keys(e)}}},er=function(e){var t=e.logger,o=e.sendFetchRequest,n=e.sendBeaconRequest,r=e.isRequestRetryable,a=e.getRequestRetryDelay;return function(e){var s=e.requestId,c=e.url,i=e.payload,l=e.useSendBeacon,d=JSON.stringify(i),m=JSON.parse(d);t.logOnBeforeNetworkRequest({url:c,requestId:s,payload:m});var g=function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(l?n:o)(c,d).then((function(o){var n;if(r({response:o,retriesAttempted:i})){var l=a({response:o,retriesAttempted:i});return new Promise((function(t){setTimeout((function(){t(e(i+1))}),l)}))}try{n=JSON.parse(o.body)}catch(e){}return t.logOnNetworkResponse(u(u({requestId:s,url:c,payload:m},o),{},{parsedBody:n,retriesAttempted:i})),{statusCode:o.statusCode,body:o.body,parsedBody:n,getHeader:o.getHeader}}))};return g().catch((function(e){throw t.logOnNetworkError({requestId:s,url:c,payload:m,error:e}),So({error:e,message:"Network request failed."})}))}},tr=function(e){var t=e.logger;return function(e){if(e){var o=e.split(";");if(o.length>=2&&o[1].length>0)try{var n=parseInt(o[1],10);if(!isNaN(n))return{regionId:n}}catch(e){}t.warn('Invalid adobe edge: "'.concat(e,'"'))}return{}}},or="in",nr="out",rr="pending",ar="general",sr="declinedConsent",cr="default",ir="initial",lr="new",dr=function(e){var t=new Error(e);return t.code=sr,t.message=e,t},ur=function(e){var t=e.logger,o=[],n=function(){for(;o.length;)o.shift().resolve()},r=function(){for(;o.length;)o.shift().reject(dr("The user declined consent."))},a=function(){return Promise.resolve()},s=function(){return Promise.resolve()},c=function(){return Promise.reject(dr("No consent preferences have been set."))},i=function(){return Promise.reject(dr("The user declined consent."))},l=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var t=ze();return o.push(t),t.promise};return{in:function(e){e===cr?this.awaitConsent=a:(e===ir?t.info("Loaded user consent preferences. The user previously consented."):e===lr&&this.awaitConsent!==s&&t.info("User consented."),n(),this.awaitConsent=s)},out:function(e){e===cr?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=c):(e===ir?t.warn("Loaded user consent preferences. The user previously declined consent."):e===lr&&this.awaitConsent!==i&&t.warn("User declined consent."),r(),this.awaitConsent=i)},pending:function(e){e===cr&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:function(){return Promise.reject(new Error("Consent has not been initialized."))},withConsent:function(){return this.awaitConsent(!0)},current:function(){switch(this.awaitConsent){case a:return{state:"in",wasSet:!1};case s:return{state:"in",wasSet:!0};case c:return{state:"out",wasSet:!1};case i:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},mr=function(e){var t=e.generalConsentState,o=e.logger,n=function(e,n){switch(e[ar]){case or:t.in(n);break;case nr:t.out(n);break;case rr:t.pending(n);break;default:o.warn("Unknown consent value: ".concat(e[ar]))}};return{initializeConsent:function(e,t){t[ar]?n(t,ir):n(e,cr)},setConsent:function(e){n(e,lr)},suspend:function(){t.pending()},awaitConsent:function(){return t.awaitConsent()},withConsent:function(){return t.withConsent()},current:function(){return t.current()}}},gr=function(e){return e&&e._experience&&e._experience.decisioning&&lt(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[]},pr=function(){var e,t,o={},n=!1,r=!1,a=!0,s=function(e){if(r)throw new Error("".concat(e," cannot be called after event is finalized."))},c={hasQuery:function(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent:function(){var n=JSON.parse(JSON.stringify(o));return e&&Me(n,{xdm:e}),t&&Me(n,{data:t}),n},setUserXdm:function(t){s("setUserXdm"),e=t},setUserData:function(e){s("setUserData"),t=e},mergeXdm:function(e){s("mergeXdm"),e&&Me(o,{xdm:e})},mergeData:function(e){s("mergeData"),e&&Me(o,{data:e})},mergeMeta:function(e){s("mergeMeta"),e&&Me(o,{meta:e})},mergeQuery:function(e){s("mergeQuery"),e&&Me(o,{query:e})},documentMayUnload:function(){n=!0},finalize:function(n){if(!r){var s=Xe([].concat(f(gr(e)),f(gr(o.xdm))),(function(e,t){return e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope}));if(e&&this.mergeXdm(e),s.length>0&&(o.xdm._experience.decisioning.propositions=s),t&&c.mergeData(t),r=!0,n){a=!1;var i={xdm:o.xdm||{},data:o.data||{}},l=n(i);a=!1!==l,o.xdm=i.xdm||{},o.data=i.data||{},Ut(o.xdm)&&delete o.xdm,Ut(o.data)&&delete o.data}}},getDocumentMayUnload:function(){return n},isEmpty:function(){return Ut(o)&&(!e||Ut(e))&&(!t||Ut(t))},shouldSend:function(){return a},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!r)throw new Error("toJSON called before finalize");return o}};return c},fr="Retry-After",_r="x-adobe-edge",vr=function(e){var t=e.extractEdgeInfo;return function(e){var o=e.content,n=void 0===o?{}:o,r=e.getHeader,a=n.handle,s=void 0===a?[]:a,c=n.errors,i=void 0===c?[]:c,l=n.warnings,d=void 0===l?[]:l;return{getPayloadsByType:function(e){return qt(s.filter((function(t){return t.type===e})),(function(e){return e.payload}))},getErrors:function(){return i},getWarnings:function(){return d},getEdge:function(){return t(r(_r))},toJSON:function(){return n}}}},br="configure",hr="setDebug",Cr=function(e){var t,o=e.logger,n=e.configureCommand,r=e.setDebugCommand,a=e.handleError,s=e.validateCommandOptions,c=function(e,a){var c;if(e===br){if(t)throw new Error("The library has already been configured and may only be configured once.");c=function(){return(t=n(a)).then((function(){}))}}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");c=e===hr?function(){return r(a)}:function(){return t.then((function(t){var o=t.getCommand(e);if(!o||!it(o.run)){var n=[br,hr].concat(t.getCommandNames()).join(", ");throw new Error("The ".concat(e," command does not exist. List of available commands: ").concat(n,"."))}var r=s({command:o,options:a});return o.run(r)}),(function(){return o.warn("An error during configuration is preventing the ".concat(e," command from executing.")),new Promise((function(){}))}))}}return c};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r=c(e,t);o.logOnBeforeCommand({commandName:e,options:t}),n(r())})).catch((function(t){return a(t,"".concat(e," command"))})).catch((function(n){throw o.logOnCommandRejected({commandName:e,options:t,error:n}),n})).then((function(n){var r=Re(n)?n:{};return o.logOnCommandResolved({commandName:e,options:t,result:r}),r}))}},yr="https://adobe.ly/3sHgQHb",Sr=function(e){var t=e.command,o=e.options,n=t.commandName,r=t.documentationUri,a=void 0===r?yr:r,s=t.optionsValidator,c=o;if(s)try{c=s(o)}catch(e){var i="Invalid ".concat(n," command options:\n\t - ").concat(e," For command documentation see: ").concat(a);throw new Error(i)}return c},Ir=function(e){var t=e.options;return Un({type:Bn(),xdm:Un({eventType:Bn(),identityMap:Gn}),data:Un({}),documentUnloading:Tn(),renderDecisions:Tn(),decisionScopes:Rn(Bn()).uniqueItems(),personalization:Un({decisionScopes:Rn(Bn()).uniqueItems(),surfaces:Rn(Bn()).uniqueItems(),sendDisplayEvent:Tn().default(!0),includeRenderedPropositions:Tn().default(!1),defaultPersonalizationEnabled:Tn(),decisionContext:Un({})}).default({sendDisplayEvent:!0}),datasetId:Bn(),mergeId:Bn(),edgeConfigOverrides:Hn,initializePersonalization:Tn()}).required().noUnknownFields()(t)},wr=function(e){var t=e.options;return Un({renderDecisions:Tn(),responseHeaders:Mn(Bn().required()),responseBody:Un({handle:Rn(Un({type:Bn().required(),payload:Dn().required()})).required()}).required(),personalization:Un({sendDisplayEvent:Tn().default(!0),decisionContext:Un({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(t)},Pr=function(e){var t=e.eventManager,o=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return Ir({options:e})},run:function(e){var n=e.xdm,a=e.data,s=e.documentUnloading,c=e.type,i=e.mergeId,l=e.datasetId,d=e.edgeConfigOverrides,u=r(e,ve),m=t.createEvent();return s&&m.documentMayUnload(),m.setUserXdm(n),m.setUserData(a),c&&m.mergeXdm({eventType:c}),i&&m.mergeXdm({eventMergeId:i}),d&&(u.edgeConfigOverrides=d),l&&(o.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),u.edgeConfigOverrides=d||{},Me(u.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:l}}}})),t.sendEvent(m,u)}},applyResponse:{documentationUri:"",optionsValidator:function(e){return wr({options:e})},run:function(e){var o=e.renderDecisions,n=void 0!==o&&o,r=e.decisionContext,a=void 0===r?{}:r,s=e.responseHeaders,c=void 0===s?{}:s,i=e.responseBody,l=void 0===i?{handle:[]}:i,d=e.personalization,u=t.createEvent();return t.applyResponse(u,{renderDecisions:n,decisionContext:a,responseHeaders:c,responseBody:l,personalization:d})}}}}};Pr.namespace="DataCollector";var jr=function(e){var t=e.eventManager,o=e.lifecycle,n=e.handleError;return function(e){var r=e.target,a=t.createEvent();return a.documentMayUnload(),o.onClick({event:a,clickedElement:r}).then((function(){return a.isEmpty()?Promise.resolve():t.sendEvent(a)})).then(mo).catch((function(e){n(e,"click collection")}))}},Er=function(e){var t=e.eventManager,o=e.lifecycle,n=e.handleError,r=jr({eventManager:t,lifecycle:o,handleError:n});document.addEventListener("click",r,!0)},Lr=Bn().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$"),Vr=Un({clickCollectionEnabled:Tn().default(!0),onBeforeLinkClickSend:Nn(),downloadLinkQualifier:Lr}),xr=function(e){var t=e.getLinkDetails,o=e.config,n=e.logger;return o.clickCollectionEnabled?function(e){var r=e.targetElement,a=e.event,s=t({targetElement:r,config:o,logger:n});s&&(a.mergeXdm(s.xdm),a.setUserData(s.data))}:function(){}},Or=function(e){var t=e.window,o=e.getLinkName,n=e.getLinkRegion,r=e.getAbsoluteUrlFromAnchorElement,a=e.findSupportedAnchorElement,s=e.determineLinkType;return function(e){var c=e.targetElement,i=e.config,l=e.logger,d=a(c);if(d){var u=r(t,d);if(u){var m=s(t,i,u,d),g=n(d),p=o(d),f=i.onBeforeLinkClickSend,_={xdm:{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:p,region:g,type:m,URL:u,linkClicks:{value:1}}}},data:{},clickedElement:c};if(!f)return _;if(!1!==f(_))return _;l.info("This link click event is not triggered because it was canceled in onBeforeLinkClickSend.")}else l.info("This link click event is not triggered because the HTML element doesn't have an URL.")}else l.info("This link click event is not triggered because the HTML element is not an anchor.")}},kr=function(e){return e&&/^[a-z0-9]+:\/\//i.test(e)},Dr=function(e){return!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0))},Rr=function(e){var t=e.indexOf("?"),o=e.indexOf("#");return t>=0&&(t<o||o<0)?e.substring(0,t):o>=0?e.substring(0,o):e},Tr=function(e,t,o){var n=new RegExp(e),r=Rr(t).toLowerCase();return!!o.download||n.test(r)},Nr=function(e,t){var o=e.location.hostname.toLowerCase();return!(Rr(t).toLowerCase().indexOf(o)>=0)},Fr=function(e){return e&&e.replace(/\s+/g," ").trim()},Ar=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,Mr=function(e){return!(e&&e.nodeName&&e.nodeName.match(Ar))},Ur=function e(t){var o=[],n=!1;return Mr(t)?(o.push(t),t.childNodes&&Array.prototype.slice.call(t.childNodes).forEach((function(t){var r=e(t);o=o.concat(r.supportedNodes),n=n||r.includesUnsupportedNodes}))):n=!0,{supportedNodes:o,includesUnsupportedNodes:n}},Br=function(e,t,o){var n;return o&&o!==e.nodeName.toUpperCase()||(n=e.getAttribute(t)),n},qr=function(e){var t={texts:[]};return e.supportedNodes.forEach((function(e){e.getAttribute&&(t.alt||(t.alt=Fr(e.getAttribute("alt"))),t.title||(t.title=Fr(e.getAttribute("title"))),t.inputValue||(t.inputValue=Fr(Br(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=Fr(Br(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},Gr=/^(HEADER|MAIN|FOOTER|NAV)$/i,Hr=function(e){var t;return"region"===e.role&&lo(e["aria-label"])&&(t=e["aria-label"]),t},zr=function(e){var t;return e&&e.nodeName&&e.nodeName.match(Gr)&&(t=e.nodeName),t},Wr=Or({window:window,getLinkName:function(e){var t=Fr(e.innerText||e.textContent),o=Ur(e);if(!t||o.includesUnsupportedNodes){var n=qr(o);(t=Fr(n.texts.join("")))||(t=n.alt||n.title||n.inputValue||n.imgSrc)}return t||""},getLinkRegion:function(e){for(var t,o=e.parentNode;o;){if(t=Fr(o.id||Hr(o)||zr(o)))return t;o=o.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:function(e,t){var o=e.location,n=t.href?t.href:"",r=t.protocol,a=t.host;if(!kr(n)){r||(r=o.protocol?o.protocol:""),r=r?"".concat(r,"//"):"",a||(a=o.host?o.host:"");var s="";if("/"!==n.substring(0,1)){var c=o.pathname.lastIndexOf("/");c=c<0?0:c,s=o.pathname.substring(0,c)}n="".concat(r).concat(a).concat(s,"/").concat(n)}return n},findSupportedAnchorElement:function(e){for(var t=e;t;){if(Dr(t))return t;t=t.parentNode}return null},determineLinkType:function(e,t,o,n){var r="other";return Tr(t.downloadLinkQualifier,o,n)?r="download":Nr(e,o)&&(r="exit"),r}}),Qr=function(e){var t=e.config,o=e.eventManager,n=e.handleError,r=e.logger,a=xr({getLinkDetails:Wr,config:t,logger:r});return{lifecycle:{onComponentsRegistered:function(e){var t=e.lifecycle;Er({eventManager:o,lifecycle:t,handleError:n})},onClick:function(e){var t=e.event,o=e.clickedElement;a({targetElement:o,event:t})}}}};Qr.namespace="ActivityCollector",Qr.configValidators=Vr,Qr.buildOnInstanceConfiguredExtraParams=function(e){var t=e.config,o=e.logger;return{getLinkDetails:function(e){return Wr({targetElement:e,config:t,logger:o})}}};var Xr=function(e,t){return"ID sync ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},$r=function(e){var t=e.fireReferrerHideableImage,o=e.logger;return function(e){var n=e.filter((function(e){return"url"===e.type}));return n.length?Promise.all(n.map((function(e){return t(e.spec).then((function(){o.info(Xr(e,!0))})).catch((function(){o.error(Xr(e,!1))}))}))).then(mo):Promise.resolve()}},Jr=Un({thirdPartyCookiesEnabled:Tn().default(!0),idMigrationEnabled:Tn().default(!0)}),Kr=Un({namespaces:Rn(Fn("ECID")).nonEmpty().uniqueItems().default(["ECID"]),edgeConfigOverrides:Hn}).noUnknownFields().default({namespaces:["ECID"]}),Yr=Un({url:Bn().required().nonEmpty(),edgeConfigOverrides:Hn}).required().noUnknownFields(),Zr=function(e){var t,o=e.addEcidQueryToPayload,n=e.addQueryStringIdentityToPayload,r=e.ensureSingleIdentity,a=e.setLegacyEcid,s=e.handleResponseForIdSyncs,c=e.getEcidFromResponse,i=e.getIdentity,l=e.consent,d=e.appendIdentityToUrl,u=e.logger,m={};return{lifecycle:{onBeforeRequest:function(e){var t=e.request,a=e.onResponse,s=e.onRequestFailure;return o(t.getPayload()),n(t.getPayload()),r({request:t,onResponse:a,onRequestFailure:s})},onResponse:function(e){var o=e.response;return t||(t=c(o))&&a(t),m=(0,pe.default)(m,o.getEdge()),s(o)}},commands:{getIdentity:{optionsValidator:Kr,run:function(e){return l.awaitConsent().then((function(){return t?void 0:i(e)})).then((function(){return{identity:{ECID:t},edge:m}}))}},appendIdentityToUrl:{optionsValidator:Yr,run:function(e){return l.withConsent().then((function(){return t?void 0:i(e)})).then((function(){return{url:d(t,e.url)}})).catch((function(t){return u.warn("Unable to append identity to url. ".concat(t.message)),e}))}}}}},ea=function(e){var t=e.config,o=e.getEcidFromVisitor,n=e.apexDomain,r=e.isPageSsl,a=e.cookieJar,s=t.idMigrationEnabled,c=t.orgId,i="AMCV_".concat(c),l=function(){var e=null,t="s_ecid",o=a.get(t)||a.get(i);if(o){var n=/(^|\|)MCMID\|(\d+)($|\|)/,r=o.match(n);r&&(e=r[2])}return e};return{getEcid:function(){if(s){var e=l();return e?Promise.resolve(e):o()}return Promise.resolve()},setEcid:function(e){if(s&&l()!==e){var t=r?{sameSite:"none",secure:!0}:{};a.set(i,"MCMID|".concat(e),u({domain:n,expires:390},t))}}}},ta=function(e){var t=e.logger;return new Promise((function(e,o){if(Re(window.adobe)&&Re(window.adobe.optIn)){var n=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),n.fetchPermissions((function(){n.isApproved([n.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):o(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},oa=function(e){var t=e.Visitor;return it(t)&&it(t.getInstance)&&t},na=function(e){var t=e.logger,o=e.orgId,n=e.awaitVisitorOptIn;return function(){var e=oa(window);return e?n({logger:t}).then((function(){return t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(n){e.getInstance(o,{}).getMarketingCloudVisitorID((function(e){t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(e)}),!0)}))})).catch((function(e){e?t.info("".concat(e.message,", retrieving ECID from experience edge")):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},ra=function(e){var t=e.processIdSyncs;return function(e){return t(e.getPayloadsByType("identity:exchange"))}},aa=function(e){var t,o=e.doesIdentityCookieExist,n=e.setDomainForInitialIdentityPayload,r=e.addLegacyEcidToPayload,a=e.awaitIdentityCookie,s=e.logger,c=function(e){return n(e),r(e.getPayload())};return function(e){var n=e.request,r=e.onResponse,i=e.onRequestFailure;if(o())return n.setIsIdentityEstablished(),Promise.resolve();if(t){s.info("Delaying request while retrieving ECID from server.");var l=t;return t=l.catch((function(){return a({onResponse:r,onRequestFailure:i})})),l.then((function(){s.info("Resuming previously delayed request."),n.setIsIdentityEstablished()})).catch((function(){return c(n)}))}return(t=a({onResponse:r,onRequestFailure:i})).catch((function(){})),c(n)}},sa="ECID",ca=function(e){e.mergeQuery({identity:{fetch:[sa]}})},ia=function(e){return function(t){for(var o=Object.keys(e),n=0;n<o.length;n+=1){var r=o[n];if(e[r].test(t))return r}return Ve}},la=uo((function(e){return ia(m(m(m(m(m(m({},we,/Edge\/([0-9\._]+)/),Pe,/Edg\/([0-9\.]+)/),Ie,/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/),je,/Firefox\/([0-9\.]+)(?:\s|$)/),Ee,/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/),Le,/Version\/([0-9\._]+).*Safari/))(e.navigator.userAgent)})),da=function(e){var t=e.thirdPartyCookiesEnabled,o=e.areThirdPartyCookiesSupportedByDefault;return function(e){t&&o(la(window))&&e.setUseIdThirdPartyDomain()}},ua=function(e){var t=e.getLegacyEcid,o=e.addEcidToPayload;return function(e){return e.hasIdentity(sa)?Promise.resolve():t().then((function(t){t&&o(e,t)}))}},ma="adobe_mc",ga=300,pa=function(e){var t=e.locationSearch,o=e.dateProvider,n=e.orgId,r=e.logger;return function(e){if(!e.hasIdentity(sa)){var a=fe.default.parse(t)[ma];if(void 0!==a){Array.isArray(a)&&(r.warn("Found multiple adobe_mc query string paramters, only using the last one."),a=a[a.length-1]);var c=a.split("|").reduce((function(e,t){var o=s(t.split("="),2),n=o[0],r=o[1];return e[n]=r,e}),{}),i=parseInt(c.TS,10),l=c.MCMID,d=decodeURIComponent(c.MCORGID);o().getTime()/1e3<=i+ga&&d===n&&l?(r.info("Found valid ECID identity ".concat(l," from the adobe_mc query string parameter.")),e.addIdentity(sa,{id:l})):r.info("Detected invalid or expired adobe_mc query string parameter.")}}}},fa=function(e,t){e.addIdentity(sa,{id:t})},_a=function(e){var t=e.doesIdentityCookieExist,o=e.orgId,n=e.logger;return function(e){var r=e.onResponse,a=e.onRequestFailure;return new Promise((function(e,s){r((function(){t()?e():(n.warn("Identity cookie not found. This could be caused by any of the following issues:\n"+"\t* The org ID ".concat(o," configured in Alloy doesn't match the org ID specified in the edge configuration.\n")+"\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),s(new Error("Identity cookie not found.")))})),a((function(){t()?e():s(new Error("Identity cookie not found."))}))}))}},va=function(e){var t=e.getPayloadsByType("identity:result"),o=Je(t,(function(e){return e.namespace&&e.namespace.code===sa}));return o?o.id:void 0},ba=function(e){return function(t,o){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(o)}},ha=function(e){var t=e.payload,o=e.getAction,n=e.getUseSendBeacon,r=e.datastreamIdOverride,a=e.edgeSubPath,s=E(),c=!1,i=!1;return{getId:function(){return s},getPayload:function(){return t},getAction:function(){return o({isIdentityEstablished:i})},getDatastreamIdOverride:function(){return r},getUseSendBeacon:function(){return n({isIdentityEstablished:i})},getEdgeSubPath:function(){return a||""},getUseIdThirdPartyDomain:function(){return c},setUseIdThirdPartyDomain:function(){c=!0},setIsIdentityEstablished:function(){i=!0}}},Ca=function(e){var t=e.payload,o=e.datastreamIdOverride,n=function(e){var o=e.isIdentityEstablished;return t.getDocumentMayUnload()&&o};return ha({payload:t,getAction:function(e){var t=e.isIdentityEstablished;return n({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:n,datastreamIdOverride:o})},ya=function(e){var t=e.content,o=e.addIdentity,n=e.hasIdentity,r=Ue(t,"meta.configOverrides");return{mergeMeta:Ue(t,"meta"),mergeState:Ue(t,"meta.state"),mergeQuery:Ue(t,"query"),mergeConfigOverride:function(e){return r(ho(e))},addIdentity:o,hasIdentity:n,toJSON:function(){return t}}},Sa=function(e){return function(t){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t])}},Ia=function(){var e={},t=ya({content:e,addIdentity:ba(e),hasIdentity:Sa(e)});return t.addEvent=function(t){e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},t},wa=function(e){var t=e.localConfigOverrides,o=e.globalConfigOverrides,n=e.payload,a={payload:n},s=t||{},c=s.datastreamId,i=r(s,be);return c&&(a.datastreamIdOverride=c),n.mergeConfigOverride(o),n.mergeConfigOverride(i),a},Pa="adb_validation_sessionid",ja="validation.",Ea="clientId",La=function(e){var t=e.persistent.getItem(Ea);return t||(t=E(),e.persistent.setItem(Ea,t)),t},Va=function(e){var t=e.window,o=(0,e.createNamespacedStorage)(ja);return function(){var e=fe.default.parse(t.location.search)[Pa];if(!e)return"";var n=La(o),r="".concat(e,"|").concat(n);return"&".concat(fe.default.stringify({adobeAepValidationToken:r}))}},xa=function(e){var t=e.sendEdgeNetworkRequest,o=e.createIdentityRequestPayload,n=e.createIdentityRequest,r=e.globalConfigOverrides;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.namespaces,s=e.edgeConfigOverrides,c=wa({payload:o(a),globalConfigOverrides:r,localConfigOverrides:s}),i=n(c);return t({request:i})}},Oa=function(e){var t=e.payload,o=e.datastreamIdOverride;return ha({payload:t,datastreamIdOverride:o,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},ka=function(e){var t={query:{identity:{fetch:e}}};return ya({content:t,addIdentity:ba(t),hasIdentity:Sa(t)})},Da=/^([^?#]*)(\??[^#]*)(#?.*)$/,Ra=function(e){return""===e?"?":"?"===e?"":"&"},Ta=function(e){var t=e.dateProvider,o=e.orgId;return function(e,n){var r=Math.round(t().getTime()/1e3),a=encodeURIComponent("TS=".concat(r,"|MCMID=").concat(e,"|MCORGID=").concat(encodeURIComponent(o))),c=s(n.match(Da),4),i=c[1],l=c[2],d=c[3],u=Ra(l);return"".concat(i).concat(l).concat(u,"adobe_mc=").concat(a).concat(d)}},Na=function(e){var t=e.config,o=e.logger,n=e.consent,r=e.fireReferrerHideableImage,a=e.sendEdgeNetworkRequest,s=e.apexDomain,c=t.orgId,i=t.thirdPartyCookiesEnabled,l=t.edgeConfigOverrides,d=na({logger:o,orgId:c,awaitVisitorOptIn:ta}),u=qe({logger:o,cookieJar:Fe}),m=ea({config:t,getEcidFromVisitor:d,apexDomain:s,cookieJar:u,isPageSsl:"https:"===window.location.protocol}),g=eo({orgId:c}),p=xa({sendEdgeNetworkRequest:a,createIdentityRequestPayload:ka,createIdentityRequest:Oa,globalConfigOverrides:l}),f=da({thirdPartyCookiesEnabled:i,areThirdPartyCookiesSupportedByDefault:ke}),_=ua({getLegacyEcid:m.getEcid,addEcidToPayload:fa}),v=pa({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:c,logger:o}),b=_a({doesIdentityCookieExist:g,orgId:c,logger:o}),h=aa({doesIdentityCookieExist:g,setDomainForInitialIdentityPayload:f,addLegacyEcidToPayload:_,awaitIdentityCookie:b,logger:o}),C=$r({fireReferrerHideableImage:r,logger:o}),y=ra({processIdSyncs:C}),S=Ta({dateProvider:function(){return new Date},orgId:c,globalConfigOverrides:l});return Zr({addEcidQueryToPayload:ca,addQueryStringIdentityToPayload:v,ensureSingleIdentity:h,setLegacyEcid:m.setEcid,handleResponseForIdSyncs:y,getEcidFromResponse:va,getIdentity:p,consent:n,appendIdentityToUrl:S,logger:o,config:t})};Na.namespace="Identity",Na.configValidators=Jr;var Fa=function(e){return"URL destination ".concat("succeeded",": ",e.spec.url)},Aa=function(e){var t=e.fireReferrerHideableImage,o=e.logger,n=e.cookieJar,r=e.isPageSsl?{sameSite:"none",secure:!0}:{},a=function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var t=e.spec,o=t.name,a=t.value,s=t.domain,c=t.ttlDays;n.set(o,a||"",u({domain:s||"",expires:c||10},r))}))},s=function(e){var n=e.filter((function(e){return"url"===e.type}));return Promise.all(n.map((function(e){return t(e.spec).then((function(){o.info(Fa(e))})).catch((function(){}))}))).then(mo)};return function(e){return a(e),s(e)}},Ma=function(e){var t=e.processDestinations,o=function(e){var o=e.response.getPayloadsByType("activation:push");return t(o)},n=function(e){return{destinations:e.response.getPayloadsByType("activation:pull")}};return function(e){var t=e.response;return o({response:t}).then((function(){return n({response:t})}))}},Ua=function(e){var t=e.logger,o=e.fireReferrerHideableImage,n=Fe.withConverter({write:function(e){return encodeURIComponent(e)}}),r=qe({logger:t,cookieJar:n}),a=Aa({fireReferrerHideableImage:o,logger:t,cookieJar:r,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Ma({processDestinations:a})},commands:{}}};Ua.namespace="Audiences";var Ba="web",qa="webapp",Ga="://",Ha="#",za=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Wa=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Qa=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Xa=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,$a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.length;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Ja=function(e){return lo(e)?e.toLowerCase():""},Ka=function(e){return lo(e)?e.toLowerCase():""},Ya=function(e){return lo(e)?$a(e):"/"},Za=function(e){var t=e.match(za);return t?{surfaceType:Ja(t[1]),authority:Ka(t[2]),path:Ya(t[3]),fragment:t[4]}:null},es=function(e){return"".concat(e.surfaceType).concat(Ga).concat(e.authority).concat(e.path||"").concat(e.fragment||"")
},ts=function(e){var t=e(),o=t.host.toLowerCase(),n=t.pathname;return Ba+Ga+o+$a(n)},os=function(e,t){return gt(e,Ha)?ts(t)+e:e},ns=function(e,t,o){var n=function(e){return o.warn(e),null};if(!lo(e))return n("Invalid surface: ".concat(e));var r=os(e,t),a=Za(r);return null===a?n("Invalid surface: ".concat(e)):xe([Ba,qa],a.surfaceType)?a.authority&&Wa.test(a.authority)?a.path&&!Qa.test(a.path)?n("Invalid path ".concat(a.path," in surface: ").concat(e)):a.fragment&&!Xa.test(a.fragment)?n("Invalid fragment ".concat(a.fragment," in surface: ").concat(e)):a:n("Invalid authority ".concat(a.authority," in surface: ").concat(e)):n("Unsupported surface type ".concat(a.surfaceType," in surface: ").concat(e))},rs=function(e){return!!e&&0===e.indexOf(Ba+Ga)&&-1===e.indexOf(Ha)},as=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return ns(e,t,o)})).filter((function(e){return!De(e)})).map(es)},ss="__view__",cs="https://ns.adobe.com/personalization/default-content-item",is="https://ns.adobe.com/personalization/dom-action",ls="https://ns.adobe.com/personalization/html-content-item",ds="https://ns.adobe.com/personalization/json-content-item",us="https://ns.adobe.com/personalization/ruleset-item",ms="https://ns.adobe.com/personalization/redirect-item",gs="https://ns.adobe.com/personalization/message/in-app",ps="https://ns.adobe.com/personalization/message/feed-item",fs=function(e){xe(e,ss)||e.push(ss)},_s=function(e,t){var o=ts(t);xe(e,o)||e.push(o)},vs=function(e){return e.filter((function(t,o){return e.indexOf(t)===o}))},bs=function(e){var t=e.getPageLocation,o=e.renderDecisions,n=e.decisionScopes,r=e.personalization,a=e.event,s=e.isCacheInitialized,c=e.logger,i=a.getViewName();return{isRenderDecisions:function(){return o},isSendDisplayEvent:function(){return!!r.sendDisplayEvent},shouldIncludeRenderedPropositions:function(){return!!r.includeRenderedPropositions},getViewName:function(){return i},hasScopes:function(){return n.length>0||lt(r.decisionScopes)},hasSurfaces:function(){return lt(r.surfaces)},hasViewName:function(){return lo(i)},createQueryDetails:function(){var e=f(n);lt(r.decisionScopes)&&e.push.apply(e,f(r.decisionScopes));var o=as(r.surfaces,t,c);this.shouldRequestDefaultPersonalization()&&(fs(e),_s(o,t));var a=[cs,ls,ds,ms,us,gs,ps];return xe(e,ss)&&a.push(is),{schemas:a,decisionScopes:vs(e),surfaces:vs(o)}},isCacheInitialized:function(){return s},shouldFetchData:function(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData:function(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization:function(){return r.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==r.defaultPersonalizationEnabled}}},hs="Rendering is disabled for authoring mode.",Cs="decisioning.propositionDisplay",ys="decisioning.propositionInteract",Ss="decisioning.propositionTrigger",Is="decisioning.propositionDismiss",ws=1,Ps={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss"},js=m(m(m(m({},Cs,Ps.DISPLAY),ys,Ps.INTERACT),Ss,Ps.TRIGGER),Is,Ps.DISMISS),Es=function(e){return js[e]},Ls={propositions:[]},Vs=function(e){var t=e.logger,o=e.options,n=Un({propositions:Rn(Un(Dn())),metadata:Un(Dn()),viewName:Bn()}).required();try{return n(o)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),Ls}},xs=function(e){var t=e.getPageLocation,o=e.logger,n=e.fetchDataHandler,r=e.viewChangeHandler,a=e.onClickHandler,s=e.isAuthoringModeEnabled,c=e.mergeQuery,i=e.viewCache,l=e.showContainers,d=e.applyPropositions,u=e.setTargetMigration,m=e.mergeDecisionsMeta,g=e.renderedPropositions,p=e.onDecisionHandler,f=e.handleConsentFlicker;return{lifecycle:{onComponentsRegistered:function(){f()},onDecision:p,onBeforeRequest:function(e){var t=e.request;return u(t),Promise.resolve()},onBeforeEvent:function(e){var a=e.event,d=e.renderDecisions,u=e.decisionScopes,p=void 0===u?[]:u,f=e.personalization,_=void 0===f?{}:f,v=e.onResponse,b=void 0===v?mo:v,h=e.onRequestFailure,C=void 0===h?mo:h;if(b((function(){return{propositions:[]}})),C((function(){return l()})),s())return o.warn(hs),c(a,{enabled:!1}),Promise.resolve();var y=bs({getPageLocation:t,renderDecisions:d,decisionScopes:p,personalization:_,event:a,isCacheInitialized:i.isInitialized(),logger:o}),S=[];if(y.shouldIncludeRenderedPropositions()&&S.push(g.clear()),y.shouldFetchData()){var I=i.createCacheUpdate(y.getViewName());C((function(){return I.cancel()})),n({cacheUpdate:I,personalizationDetails:y,event:a,onResponse:b})}else y.shouldUseCachedData()&&S.push(r({personalizationDetails:y,event:a,onResponse:b,onRequestFailure:C}));return Promise.all(S).then((function(e){var t=qt(e,(function(e){return e}));lt(t)&&m(a,t,[Ps.DISPLAY])}))},onClick:function(e){var t=e.event,o=e.clickedElement;a({event:t,clickedElement:o})}},commands:{applyPropositions:{optionsValidator:function(e){return Vs({logger:o,options:e})},run:d}}}},Os=function(e){return Ze(nt,{},{innerHTML:e})},ks={exports:{}};!function(e){var t,o;t=po,o=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,o=String(e),n=o.length,r=-1,a="",s=o.charCodeAt(0);++r<n;)0!=(t=o.charCodeAt(r))?a+=t>=1&&t<=31||127==t||0==r&&t>=48&&t<=57||1==r&&t>=48&&t<=57&&45==s?"\\"+t.toString(16)+" ":0==r&&1==n&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+o.charAt(r):o.charAt(r):a+="\ufffd";return a};return e.CSS||(e.CSS={}),e.CSS.escape=t,t},e.exports=o(t)}(ks);var Ds,Rs=w(ks.exports),Ts=":eq(",Ns=/:eq\((\d+)\)/g,Fs=function(e){return-1===e.indexOf(Ts)},As=function(e){return e.split(Ns).filter(lo)},Ms=/(#|\.)(-?\w+)/g,Us=function(e,t,o){return"".concat(t).concat(Rs(o))},Bs=function(e){return e.replace(Ms,Us)},qs=function(e){for(var t=[],o=Bs(e.trim()),n=As(o),r=n.length,a=0;a<r;){var s=n[a],c=n[a+1];c?t.push({sel:s,eq:Number(c)}):t.push({sel:s}),a+=2}return t},Gs=function(e){var t=document;if(Fs(e))return ht(e,t);for(var o=qs(e),n=o.length,r=[],a=t,c=0;c<n;){var i=o[c],l=i.sel,d=i.eq,u=ht(l,a),m=u.length;if(0===m)break;if(null!=d&&d>m-1)break;c<n-1&&(a=null==d?s(u,1)[0]:u[d]),c===n-1&&(r=null==d?u:[u[d]]),c+=1}return r},Hs=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},zs=function(e,t,o){e.setAttribute(t,o)},Ws=function(e,t){return e.getAttribute(t)},Qs=function(e,t){e.removeAttribute(t)},Xs=function(e,t,o,n){var r;r=n?"".concat(t,":").concat(o," !").concat(n,";"):"".concat(t,":").concat(o,";"),e.style.cssText+=";".concat(r)},$s=function(e){return e.parentNode},Js=function(e){return e.nextElementSibling},Ks=function(e,t){if(e){var o=$s(e);o&&o.insertBefore(t,Js(e))}},Ys=function(e,t){if(e){var o=$s(e);o&&o.insertBefore(t,e)}},Zs=function(e){var t=e.children;return t?dt(t):[]},ec=function(e){var t=e.childNodes;return t?dt(t):[]},tc=function(e){return e.firstElementChild},oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===Ds){var t=e.querySelector("[nonce]");Ds=t&&(t.nonce||t.getAttribute("nonce"))}return Ds},nc="alloy-prehiding",rc="{ visibility: hidden }",ac={},sc=function(e){if(!ac[e]){var t=oc(),o=u({},t&&{nonce:t}),n={textContent:"".concat(e," ").concat(rc)},r=Ze(rt,o,n);Ke(document.head,r),ac[e]=r}},cc=function(e){var t=ac[e];t&&(Nt(t),delete ac[e])},ic=function(e){if(e&&!Hs(nc)){var t=oc(),o=u({id:nc},t&&{nonce:t}),n=Ze(rt,o,{textContent:e});Ke(document.head,n)}},lc=function(){var e=Hs(nc);e&&Nt(e)},dc=function(e,t){e.textContent=t},uc="src",mc=function(e){return e.tagName===ot},gc=function(e){return Ze(ot,{src:e})},pc=function(e){ht(ot,e).forEach((function(e){var t=Ws(e,uc);t&&gc(t)}))},fc=function(e,t){return e.tagName===t},_c=function(e){return fc(e,rt)&&!Ws(e,uc)},vc=function(e){var t=ht(rt,e),o=t.length,n=oc();if(n)for(var r=0;r<o;r+=1){var a=t[r];_c(a)&&(a.nonce=n)}},bc=function(e,t){return!!e&&e.tagName===t},hc=function(e){return bc(e,at)&&!Ws(e,uc)},Cc=function(e){return bc(e,at)&&Ws(e,uc)},yc=function(e){for(var t=ht(at,e),o=[],n=t.length,r=oc(),a=u({},r&&{nonce:r}),s=0;s<n;s+=1){var c=t[s];if(hc(c)){var i=c.textContent;i&&o.push(Ze(at,a,{textContent:i}))}}return o},Sc=function(e){for(var t=ht(at,e),o=[],n=t.length,r=0;r<n;r+=1){var a=t[r];if(Cc(a)){var s=Ws(a,uc);s&&o.push(s)}}return o},Ic=function(e,t){t.forEach((function(t){e.appendChild(t),e.removeChild(t)}))},wc=function(e){return Promise.all(e.map(_e.default))},Pc=function(e,t){var o=Os(t);vc(o);var n=ec(o),r=yc(o),a=Sc(o);return pc(o),n.forEach((function(t){Ke(e,t)})),Ic(e,r),wc(a)},jc=function(e){ec(e).forEach(Nt)},Ec=function(e,t){jc(e),Pc(e,t)},Lc=function(e,t){var o=Os(t);vc(o);var n=ec(o),r=yc(o),a=Sc(o),s=n.length-1;for(pc(o);s>=0;){var c=n[s],i=tc(e);i?Ys(i,c):Ke(e,c),s-=1}return Ic(e,r),wc(a)},Vc=function(e,t){var o=Os(t);vc(o);var n=ec(o),r=yc(o),a=Sc(o);return pc(o),n.forEach((function(t){Ys(e,t)})),Ic(e,r),wc(a)},xc=function(e,t){Vc(e,t),Nt(e)},Oc=function(e,t){var o=Os(t);vc(o);var n=ec(o),r=yc(o),a=Sc(o);return pc(o),n.forEach((function(t){Ks(e,t)})),Ic(e,r),wc(a)},kc=function(e,t){var o=t.priority,n=r(t,he);Object.keys(n).forEach((function(t){Xs(e,t,n[t],o)}))},Dc=function(e,t){Object.keys(t).forEach((function(o){zs(e,o,t[o])}))},Rc=function(e,t){mc(e)&&(gc(t),Qs(e,uc),zs(e,uc,t))},Tc=function(e,t){var o=t.from,n=t.to,r=Zs(e),a=r[o],s=r[n];a&&s&&(o<n?Ks(s,a):Ys(s,a))},Nc=function(e,t,o){var n=e.map((function(e){return o(e,t)}));return Promise.all(n)},Fc=function(e){return function(t){var o=t.selector,n=t.prehidingSelector,r=t.content;return sc(n),Rt(o,Gs).then((function(t){return Nc(t,r,e)})).then((function(){cc(n)}),(function(e){throw cc(n),e}))}},Ac=function(){return{setHtml:Fc(Ec),customCode:Fc(Lc),setText:Fc(dc),setAttribute:Fc(Dc),setImageSource:Fc(Rc),setStyle:Fc(kc),move:Fc(kc),resize:Fc(kc),rearrange:Fc(Tc),remove:Fc(Nt),insertAfter:Fc(Oc),insertBefore:Fc(Vc),replaceHtml:Fc(xc),prependHtml:Fc(Lc),appendHtml:Fc(Pc)}},Mc=function(e){var t=e.eventManager,o=e.mergeDecisionsMeta;return function(e){var n=e.decisionsMeta,r=void 0===n?[]:n,a=e.propositionAction,s=e.documentMayUnload,c=void 0!==s&&s,i=e.eventType,l=void 0===i?Cs:i,d=e.propositionEventTypes,u=void 0===d?[Es(l)]:d,m=e.viewName,g=t.createEvent(),p={eventType:l};return m&&(p.web={webPageDetails:{viewName:m}}),lt(r)&&o(g,r,u,a),g.mergeXdm(p),c&&g.documentMayUnload(),t.sendEvent(g)}},Uc="personalization:decisions",Bc=function(e){var t=e.prehidingStyle,o=e.showContainers,n=e.hideContainers,r=e.mergeQuery,a=e.processPropositions,s=e.createProposition,c=e.notificationHandler,i=e.consent;return function(e){var l=e.cacheUpdate,d=e.personalizationDetails,u=e.event,m=e.onResponse,g=i.current(),p=g.state,_=g.wasSet;"out"===p&&_||(d.isRenderDecisions()?n(t):o()),r(u,d.createQueryDetails());var v=c(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());m((function(e){var t,n,r,c=e.response.getPayloadsByType(Uc).map((function(e){return s(e)})),i=Jt(c,(function(e){return e.getScopeType()})),u=i.page,m=void 0===u?[]:u,g=i.view,p=void 0===g?[]:g,_=i.proposition,b=void 0===_?[]:_,h=l.update(p);if(d.isRenderDecisions()){var C=a([].concat(f(m),f(h)),b);t=C.render,n=C.returnedPropositions,r=C.returnedDecisions,t().then(v),o()}else{var y=a([],[].concat(f(m),f(h),f(b)));n=y.returnedPropositions,r=y.returnedDecisions}return{propositions:n,decisions:r}}))}},qc=function(e,t){if(Fs(e))return Tt(e,t);for(var o=Gs(e),n=!1,r=0;r<o.length;r+=1)if(o[r]===t){n=!0;break}return n},Gc="view",Hc="page",zc="proposition",Wc=function(e,t,o){for(var n=document.documentElement,r=e,a=0;r&&r!==n;){if(qc(t,r)){var s=o(t),c={metas:s},i=s.find((function(e){return e.trackingLabel}));i&&(c.label=i.trackingLabel,c.weight=a);var l=s.find((function(e){return e.scopeType===Gc}));return l&&(c.viewName=l.scope,c.weight=a),c}r=r.parentNode,a+=1}return{metas:null}},Qc=function(e){return e.map((function(e){return e.trackingLabel,e.scopeType,r(e,Ce)}))},Xc=function(e){return e.filter((function(t,o){var n=JSON.stringify(t);return o===e.findIndex((function(e){return JSON.stringify(e)===n}))}))},$c=function(e,t,o){for(var n,r=[],a="",s=Number.MAX_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,i=0;i<t.length;i+=1){var l=Wc(e,t[i],o),d=l.metas,u=l.label,m=l.weight,g=l.viewName;d&&(u&&m<=s&&(a=u,s=m),g&&m<=c&&(n=g,c=m),r.push.apply(r,f(Qc(d))))}return{decisionsMeta:Xc(r),eventLabel:a,viewName:n}},Jc=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")},Kc=function(e,t,o,n){if(0!==t.length){var r={};o.forEach((function(e){r[e]=ws}));var a={_experience:{decisioning:{propositions:t,propositionEventType:r}}};n&&(a._experience.decisioning.propositionAction=n),e.mergeXdm(a)}},Yc=function(e,t){e.mergeQuery({personalization:u({},t)})},Zc=function(e){var t=e.mergeDecisionsMeta,o=e.collectClicks,n=e.getClickSelectors,r=e.getClickMetasBySelector;return function(e){var a=e.event,s=e.clickedElement,c=n();if(lt(c)){var i=o(s,c,r),l=i.decisionsMeta,d=i.eventLabel,u=i.viewName;if(lt(l)){var m={eventType:ys};u&&(m.web={webPageDetails:{viewName:u}}),a.mergeXdm(m),t(a,l,[Ps.INTERACT],d?{label:d}:void 0)}}}},ei=function(e){var t=e.createProposition,o=!1,n=Promise.resolve({}),r=function(e,o){var n=e[o.toLowerCase()];return n&&n.length>0?n:[t({scope:o,scopeDetails:{characteristics:{scopeType:Gc}},items:[{schema:cs}]},!1)]};return{createCacheUpdate:function(e){var t=ze();return o=!0,n=n.then((function(e){return t.promise.then((function(t){return(0,pe.default)({},e,t)})).catch((function(){return e}))})),{update:function(o){var n=o.filter((function(e){return e.getScope()})),a=Jt(n,(function(e){return e.getScope().toLowerCase()}));return t.resolve(a),e?r(a,e):[]},cancel:function(){t.reject()}}},getView:function(e){return n.then((function(t){return r(t,e)}))},isInitialized:function(){return o}}},ti=function(e){var t=e.processPropositions,o=e.viewCache;return function(e){var n,r,a=e.personalizationDetails,s=e.onResponse,c=a.getViewName();return s((function(){return{propositions:n,decisions:r}})),o.getView(c).then((function(e){var o;if(a.isRenderDecisions()){var s=t(e);return o=s.render,n=s.returnedPropositions,r=s.returnedDecisions,o()}var c=t([],e);return n=c.returnedPropositions,r=c.returnedDecisions,[]}))}},oi=function(e){return Object.keys(e).map((function(t){return u({id:t},e[t])}))},ni=function(){var e={};return{storeClickMetrics:function(t){var o=t.selector,n=t.meta,r=n.id,a=n.scope,s=n.scopeDetails,c=n.trackingLabel,i=n.scopeType;e[o]||(e[o]={}),e[o][r]={scope:a,scopeDetails:s,trackingLabel:c,scopeType:i}},getClickSelectors:function(){return Object.keys(e)},getClickMetasBySelector:function(t){return e[t]?oi(e[t]):{}}}},ri=[is,ls,gs],ai=function(e){var t=e.processPropositions,o=e.createProposition,n=e.renderedPropositions,r=e.viewCache,a=function(e){return ri.indexOf(e.schema)>-1},s=function(e){var t=e.items,o=e.metadataForScope;return t.filter(a).map((function(e){return e.schema!==ls?u({},e):Re(o)?u(u({},e),{},{data:u(u({},e.data),{},{selector:o.selector,type:o.actionType})}):void 0})).filter((function(e){return e}))},c=function(e){return!(e.scope===ss&&e.renderAttempted)},i=function(e){var t=e.propositions,o=e.metadata;return t.filter(c).map((function(e){return lt(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:s({items:e.items,metadataForScope:o[e.scope]})}:e})).filter((function(e){return lt(e.items)}))};return function(e){var a=e.propositions,s=void 0===a?[]:a,c=e.metadata,l=void 0===c?{}:c,d=e.viewName,u=ze();n.concat(u.promise);var m=i({propositions:s,metadata:l}).map((function(e){return o(e)}));return Promise.resolve().then((function(){return d?r.getView(d):[]})).then((function(e){var o=t([].concat(f(m),f(e))),n=o.render,r=o.returnedPropositions;return n().then(u.resolve),{propositions:r}}))}},si=function(e){var t=e.window;return function(){return t.location}},ci=function(e){return e.targetMigrationEnabled?function(e){e.getPayload().mergeMeta({target:{migration:!0}})}:mo},ii="customCode",li="BODY > *:eq(0)",di=function(e){var t=e.selector;return e.type!==ii||t!==li?e:(0,pe.default)({},e,{selector:"BODY"})},ui=function(e){return!io(e)||!e.trim()},mi="appendHtml",gi="SCRIPT,LINK,STYLE",pi=function(e){var t=Os(e);return ht(gi,t).map((function(e){return e.outerHTML})).join("")},fi=function(e){var t=(0,pe.default)({},e),o=t.content,n=t.selector;if(ui(o))return t;if(null==n)return t;var r=Gs(n);return bc(r[0],st)?(t.type=mi,t.content=pi(o),t):t},_i=function(e){return function(t){return t?e.reduce((function(e,t){return(0,pe.default)(e,t(e))}),t):t}},vi=function(e){var t=e.preprocess,o=e.isPageWideSurface,n=function(e,o){var n=e.schema,r=e.data,a=e.characteristics,s=(void 0===a?{}:a).trackingLabel,c=t(r);return{getSchema:function(){return n},getData:function(){return c},getProposition:function(){return o},getTrackingLabel:function(){return s},getOriginalItem:function(){return e},toString:function(){return JSON.stringify(e)},toJSON:function(){return e}}};return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.id,a=e.scope,s=e.scopeDetails,c=e.items,i=void 0===c?[]:c,l=(s||{}).characteristics,d=(void 0===l?{}:l).scopeType;return{getScope:function(){return a||a},getScopeType:function(){return a===ss||o(a)?Hc:d===Gc?Gc:zc},getItems:function(){var e=this;return i.map((function(t){return n(t,e)}))},getNotification:function(){return{id:r,scope:a,scopeDetails:s}},toJSON:function(){return e},addToReturnValues:function(o,n,r,a){t&&(o.push(u(u({},e),{},{items:r.map((function(e){return e.getOriginalItem()})),renderAttempted:a})),a||n.push(u(u({},e),{},{items:r.map((function(e){return e.getOriginalItem()}))})))}}}},bi=function(){var e=Promise.resolve([]);return{concat:function(t){e=e.then((function(e){return t.then((function(t){return e.concat(t)})).catch((function(){return e}))}))},clear:function(){var t=e;return e=Promise.resolve([]),t}}},hi=function(){return{setRenderAttempted:!0,includeInNotification:!0}},Ci=function(e){var t=e.modules,o=e.logger,n=e.storeClickMetrics;return function(e){var r=e.getData()||{},a=r.type,s=r.selector;return a?"click"===a?s?(n({selector:s,meta:u(u({},e.getProposition().getNotification()),{},{trackingLabel:e.getTrackingLabel(),scopeType:e.getProposition().getScopeType()})}),{setRenderAttempted:!0,includeInNotification:!1}):(o.warn("Invalid DOM action data: missing selector.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1}):t[a]?{render:function(){return t[a](e.getData())},setRenderAttempted:!0,includeInNotification:!0}:(o.warn("Invalid DOM action data: unknown type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1}):(o.warn("Invalid DOM action data: missing type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1})}},yi=function(e){var t=e.modules,o=e.logger;return function(e){var n=e.getData()||{},r=n.type;return n.selector&&r?t[r]?{render:function(){t[r](e.getData())},setRenderAttempted:!0,includeInNotification:!0}:(o.warn("Invalid HTML content data",e.getData()),{setRenderAttempted:!1,includeInNotification:!1}):{setRenderAttempted:!1,includeInNotification:!1}}},Si=function(e){var t=e.logger,o=e.executeRedirect,n=e.collect;return function(e){var r=(e.getData()||{}).content;return r?{render:function(){return n({decisionsMeta:[e.getProposition().getNotification()],documentMayUnload:!0}).then((function(){return o(r)}))},setRenderAttempted:!0,onlyRenderThis:!0}:(t.warn("Invalid Redirect data",e.getData()),{})}},Ii=function(e){var t=e.schemaProcessors,o=e.logger,n=function(e,t){return function(){return Promise.resolve().then(e).then((function(){return o.enabled&&o.info("Action ".concat(t.toString()," executed.")),!0})).catch((function(e){if(o.enabled){var n=e.message,r=e.stack,a="Failed to execute action ".concat(t.toString(),". ").concat(n," ").concat(r);o.warn(a)}return!1}))}},r=function(e,t){return Promise.all(e.map((function(e){return e()}))).then((function(e){if(e.includes(!0))return t}))},a=function(e){var o=t[e.getSchema()];return o?o(e):{}},s=function(e){for(var t,o,s,c,i=e.renderers,l=e.returnedPropositions,d=e.returnedDecisions,u=e.items,m=e.proposition,g=f(i),p=f(l),_=f(d),v=[],b=[],h=[],C=!1,y=!1,S=0;u.length>S;){c=u[S];var I=a(c);if(t=I.render,o=I.setRenderAttempted,s=I.includeInNotification,y=I.onlyRenderThis){p=[],_=[],o?(v=[c],b=[]):(v=[],b=[c]),g=[],h=[t],C=s;break}t&&h.push(n(t,c)),s&&(C=!0),o?v.push(c):b.push(c),S+=1}if(h.length>0){var w=C?m.getNotification():void 0;g.push((function(){return r(h,w)}))}else C&&g.push((function(){return m.getNotification()}));return v.length>0&&m.addToReturnValues(p,_,v,!0),b.length>0&&m.addToReturnValues(p,_,b,!1),{renderers:g,returnedPropositions:p,returnedDecisions:_,onlyRenderThis:y}};return function(e){for(var t,o,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],c=[],i=[],l=0;e.length>l;){n=(o=e[l]).getItems();var d=s({renderers:a,returnedPropositions:c,returnedDecisions:i,items:n,proposition:o});if(a=d.renderers,c=d.returnedPropositions,i=d.returnedDecisions,t=d.onlyRenderThis)break;l+=1}return t&&e.forEach((function(e,t){t!==l&&e.addToReturnValues(c,i,e.getItems(),!1)})),r.forEach((function(e){e.addToReturnValues(c,i,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:i,render:function(){return Promise.all(a.map((function(e){return e()}))).then((function(e){return e.filter((function(e){return e}))}))}}}},wi=function(e){var t=e.processPropositions,o=e.createProposition,n=e.notificationHandler;return function(e){var r=e.renderDecisions,a=e.propositions,s=e.event,c=e.personalization,i=void 0===c?{}:c;if(!r)return Promise.resolve();var l=i.sendDisplayEvent,d=void 0===l||l,u=s?s.getViewName():void 0,m=a.map((function(e){return o(e,!0)})),g=t(m),p=g.render,f=g.returnedPropositions,_=n(r,d,u);return p().then(_),Promise.resolve({propositions:f})}},Pi="text/html",ji="application/json",Ei="defaultContent",Li=["content","contentType"],Vi=["mobileParameters","webParameters","html"],xi=function(e,t){for(var o=0;o<Li.length;o+=1){var n=Li[o];if(!Object.prototype.hasOwnProperty.call(e,n))return t.warn("Invalid in-app message data: missing property '".concat(n,"'."),e),!1}var r=e.content;if(e.contentType===ji)for(var a=0;a<Vi.length;a+=1){var s=Vi[a];if(!Object.prototype.hasOwnProperty.call(r,s))return t.warn("Invalid in-app message data.content: missing property '".concat(s,"'."),e),!1}return!0},Oi=function(e){var t=e.modules,o=e.logger;return function(e){var n=e.getData(),r=u({},e.getProposition().getNotification());if(!n)return o.warn("Invalid in-app message data: undefined.",n),{};var a=n.type,s=void 0===a?Ei:a;return t[s]?xi(n,o)?r?{render:function(){return t[s](u(u({},n),{},{meta:r}))},setRenderAttempted:!0,includeInNotification:!0}:(o.warn("Invalid in-app message meta: undefined.",r),{}):{}:(o.warn("Invalid in-app message data: unknown type.",n),{})}},ki=function(e){var t=ht("#".concat(e),document);t&&t.length>0&&Nt(t[0])},Di=function(e){var t={};if(!e||"a"!==e.tagName.toLowerCase())return t;var o=e.href;if(!o||!gt(o,"adbinapp://"))return t;var n,r,a=o.split("?"),s=a[0].split("://")[1],c=e.innerText,i=e.getAttribute("data-uuid")||"";if(lt(a)){var l=fe.default.parse(a[1]);n=l.interaction||"",r=decodeURIComponent(l.link||"")}return{action:s,interaction:n,link:r,label:c,uuid:i}},Ri=function(e){return function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.location.href=t:e.location.replace(t),new Promise((function(){}))}},Ti="alloy-messaging-container",Ni="alloy-overlay-container",Fi="alloy-content-iframe",Ai=function(){return[Ti,Ni].forEach(ki)},Mi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ri(window);return function(o){o.preventDefault(),o.stopImmediatePropagation();var n=o.target,r="a"===n.tagName.toLowerCase()?n:n.closest("a");if(r){var a=Di(r),s=a.action,c=a.interaction,i=a.link,l=a.label,d=a.uuid;e(s,{label:l,id:c,uuid:d,link:i}),"dismiss"===s&&Ai(),lo(i)&&i.length>0&&t(i,!0)}}},Ui=function(e,t){var o=(new DOMParser).parseFromString(e,Pi),n=o.querySelector("script");n&&n.setAttribute("nonce",oc());var r=Ze("iframe",{src:URL.createObjectURL(new Blob([o.documentElement.outerHTML],{type:"text/html"})),id:Fi});return r.addEventListener("load",(function(){(0,(r.contentDocument||r.contentWindow.document).addEventListener)("click",t)})),r},Bi=function(e,t,o,n){[{id:Ni,element:n},{id:Ti,element:o},{id:Fi,element:e}].forEach((function(e){var o=e.id,n=e.element,r=t[o],a=r.style,s=void 0===a?{}:a,c=r.params,i=void 0===c?{}:c;(0,pe.default)(n.style,s);var l=i.parentElement,d=void 0===l?"body":l,u=i.insertionMethod,m=void 0===u?"appendChild":u,g=i.enabled,p=void 0===g||g,f=document.querySelector(d);p&&f&&"function"==typeof f[m]&&f[m](n)}))},qi=function(e){var t=e.verticalAlign,o=e.width,n=e.horizontalAlign,r=e.backdropColor,a=e.height,s=e.cornerRadius,c=e.horizontalInset,i=e.verticalInset,l=e.uiTakeover,d=void 0!==l&&l,u={width:o?"".concat(o,"%"):"100%",backgroundColor:r||"rgba(0, 0, 0, 0.5)",borderRadius:s?"".concat(s,"px"):"0px",border:"none",position:d?"fixed":"relative",overflow:"hidden"};return"left"===n?u.left=c?"".concat(c,"%"):"0":"right"===n?u.right=c?"".concat(c,"%"):"0":"center"===n&&(u.left="50%",u.transform="translateX(-50%)"),"top"===t?u.top=i?"".concat(i,"%"):"0":"bottom"===t?(u.position="fixed",u.bottom=i?"".concat(i,"%"):"0"):"center"===t&&(u.top="50%",u.transform="".concat("center"===n?"".concat(u.transform," "):"","translateY(-50%)"),u.display="flex",u.alignItems="center",u.justifyContent="center"),u.height=a?"".concat(a,"vh"):"100%",u},Gi=function(e){return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:e.backdropOpacity||.5,backgroundColor:e.backdropColor||"#FFFFFF"}},Hi=["enabled","parentElement","insertionMethod"],zi=function(e){if(!e)return!1;var t=Object.keys(e);if(!xe(t,Ti))return!1;if(!xe(t,Ni))return!1;for(var o=zn(e),n=0;n<o.length;n+=1){if(!Un(o[n],"style"))return!1;if(!Un(o[n],"params"))return!1;for(var r=0;r<Hi.length;r+=1)if(!Un(o[n].params,Hi[r]))return!1}return!0},Wi=function(e){if(e){var t=e.uiTakeover,o=void 0!==t&&t;return m(m(m({},Fi,{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}}),Ti,{style:qi(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}}),Ni,{style:Gi(e),params:{enabled:!0===o,parentElement:"body",insertionMethod:"appendChild"}})}},Qi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Ai();var o=e.content,n=e.contentType,r=e.mobileParameters,a=e.webParameters;if(n===Pi){var s=Ze("div",{id:Ti}),c=Ui(o,Mi(t)),i=Ze("div",{id:Ni});zi(a)||(a=Wi(r)),a&&Bi(c,a,s,i)}},Xi=function(e,t){return new Promise((function(o){var n=e.meta;Qi(e,(function(e,o){var r={};r[Ps.INTERACT]=ws,-1!==Object.values(Ps).indexOf(e)&&(r[e]=ws),t({decisionsMeta:[n],propositionAction:o,eventType:ys,propositionEventTypes:Object.keys(r)})})),o({meta:n})}))},$i=function(e){return{defaultContent:function(t){return Xi(t,e)}}},Ji=function(e,t){return function(o,n,r){if(!o)return function(){};if(!n){var a=ze();return t.concat(a.promise),a.resolve}return function(t){t.length>0&&e({decisionsMeta:t,viewName:r})}}},Ki=function(e){var t=e.showContainers,o=e.consent;return function(){var e=o.current(),n=e.state,r=e.wasSet;n===nr&&r?t():o.awaitConsent().catch(t)}},Yi=function(e){var t=e.config,o=e.logger,n=e.eventManager,r=e.consent,a=t.targetMigrationEnabled,s=t.prehidingStyle,c=Mc({eventManager:n,mergeDecisionsMeta:Kc}),i=ni(),l=i.getClickMetasBySelector,d=i.getClickSelectors,u=i.storeClickMetrics,g=si({window:window}),p=Ac(),f=_i([fi,di]),_=vi({preprocess:f,isPageWideSurface:rs}),v=ei({createProposition:_}),b=Ri(window),h=m(m(m(m(m({},cs,hi),is,Ci({modules:p,logger:o,storeClickMetrics:u})),ls,yi({modules:p,logger:o})),ms,Si({logger:o,executeRedirect:b,collect:c})),gs,Oi({modules:$i(c),logger:o})),C=Ii({schemaProcessors:h,logger:o}),y=bi(),S=Ji(c,y),I=Bc({prehidingStyle:s,showContainers:lc,hideContainers:ic,mergeQuery:Yc,processPropositions:C,createProposition:_,notificationHandler:S,consent:r}),w=Zc({mergeDecisionsMeta:Kc,collectClicks:$c,getClickSelectors:d,getClickMetasBySelector:l}),P=ti({processPropositions:C,viewCache:v}),j=ai({processPropositions:C,createProposition:_,renderedPropositions:y,viewCache:v}),E=ci({targetMigrationEnabled:a}),L=wi({processPropositions:C,createProposition:_,notificationHandler:S}),V=Ki({showContainers:lc,consent:r});return xs({getPageLocation:g,logger:o,fetchDataHandler:I,viewChangeHandler:P,onClickHandler:w,isAuthoringModeEnabled:Jc,mergeQuery:Yc,viewCache:v,showContainers:lc,applyPropositions:j,setTargetMigration:E,mergeDecisionsMeta:Kc,renderedPropositions:y,onDecisionHandler:L,handleConsentFlicker:V})};Yi.namespace="Personalization",Yi.configValidators=Un({prehidingStyle:Bn().nonEmpty(),targetMigrationEnabled:Tn().default(!1)});var Zi=function(e){return function(t){var o={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};Me(t,{web:o})}},el=function(e){var t=e.screen.orientation;if(null==t||null==t.type)return null;var o=t.type.split("-");return 0===o.length||"portrait"!==o[0]&&"landscape"!==o[0]?null:o[0]},tl=function(e){if(it(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null},ol=function(e){return function(t){var o=e.screen,n=o.width,r=o.height,a={},s=wo(r);s>=0&&(a.screenHeight=s);var c=wo(n);c>=0&&(a.screenWidth=c);var i=el(e)||tl(e);i&&(a.screenOrientation=i),Object.keys(a).length>0&&Me(t,{device:a})}},nl=function(e){return function(t){var o=e.document.documentElement,n=void 0===o?{}:o,r=n.clientWidth,a=n.clientHeight,s={type:"browser"},c=wo(r);c>=0&&(s.browserDetails={viewportWidth:c});var i=wo(a);i>=0&&(s.browserDetails=s.browserDetails||{},s.browserDetails.viewportHeight=i),Me(t,{environment:s})}},rl=function(e){return function(t){var o=e(),n={},r=wo(o.getTimezoneOffset());void 0!==r&&(n.localTimezoneOffset=r),(void 0===r||Math.abs(r)<6e3)&&(n.localTime=Po(o)),Me(t,{placeContext:n})}},al=function(e){return function(t){var o=e().toISOString();Me(t,{timestamp:o})}},sl="https://ns.adobe.com/experience/alloy",cl="2.20.0",il=function(e){var t={name:sl,version:cl,environment:"browser"};Me(e,{implementationDetails:t})},ll=function(e,t,o,n){var r=e.context,a=qt(r,(function(e,n){return o[e]?[o[e]]:(t.warn("Invalid context[".concat(n,"]: '").concat(e,"' is not available.")),[])})).concat(n);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var o=e.event,n={};return Promise.all(a.map((function(e){return Promise.resolve(e(n,t))}))).then((function(){return o.mergeXdm(n)}))}}}},dl=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]],ul=function(e){return void 0!==e.userAgentData},ml=function(e){return ul(e)?function(t,o){try{return e.userAgentData.getHighEntropyValues(dl.map((function(e){return e[0]}))).then((function(e){var o={};dl.forEach((function(t){var n=s(t,2),r=n[0],a=n[1];Object.prototype.hasOwnProperty.call(e,r)&&y(e[r])===a&&(o[r]=e[r])})),Me(t,{environment:{browserDetails:{userAgentClientHints:o}}})}))}catch(e){return o.warn("Unable to collect user-agent client hints. ".concat(e.message)),mo}}:mo},gl=Zi(window),pl=ol(window),fl=nl(window),_l=rl((function(){return new Date})),vl=al((function(){return new Date})),bl={web:gl,device:pl,environment:fl,placeContext:_l},hl={highEntropyUserAgentHints:ml(navigator)},Cl=u(u({},bl),hl),yl=[vl,il],Sl=function(e){var t=e.config,o=e.logger;return ll(t,o,Cl,yl)};Sl.namespace="Context",Sl.configValidators=Un({context:Rn(Bn()).default(Object.keys(bl))});var Il=function(e){var t=e.storedConsent,o=e.taskQueue,n=e.defaultConsent,r=e.consent,a=e.sendSetConsentRequest,s=e.validateSetConsentOptions,c=e.consentHashStore,i=e.doesIdentityCookieExist,l=m({},ar,n),d=t.read(),u=i(),g=void 0!==d[ar];u&&g||c.clear(),u||(t.clear(),d={}),r.initializeConsent(l,d);var p=function(){if(0===o.length){var e=t.read();void 0!==e[ar]&&r.setConsent(e)}};return{commands:{setConsent:{optionsValidator:s,run:function(e){var t=e.consent,n=e.identityMap,s=e.edgeConfigOverrides;r.suspend();var i=c.lookup(t);return o.addTask((function(){return i.isNew()?a({consentOptions:t,identityMap:n,edgeConfigOverrides:s}):Promise.resolve()})).then((function(){return i.save()})).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}
},wl=function e(t){return Array.isArray(t)?t.map((function(t){return e(t)})):"object"===y(t)&&null!==t?Object.keys(t).sort().reduce((function(o,n){return o[n]=e(t[n]),o}),{}):t},Pl=function(e){return He(JSON.stringify(wl(e)))},jl=function(e){var t=e.standard,o=e.version;return"".concat(t,".").concat(o)},El=function(e){var t=e.storage;return{clear:function(){t.clear()},lookup:function(e){var o={},n=function(e){var t=jl(e),n=(e.standard,e.version,r(e,ye));return o[t]||(o[t]=Pl(n).toString()),o[t]};return{isNew:function(){return e.some((function(e){var o=jl(e),r=t.getItem(o);return null===r||r!==n(e)}))},save:function(){e.forEach((function(e){var o=jl(e);t.setItem(o,n(e))}))}}}}},Ll=function(){var e={},t=ya({content:e,addIdentity:function(t,o){e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(o)},hasIdentity:function(t){return void 0!==(e.identityMap&&e.identityMap[t])}});return t.setConsent=function(t){e.consent=t},t},Vl=function(e){var t=e.payload,o=e.datastreamIdOverride;return ha({payload:t,datastreamIdOverride:o,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},xl=function(e){var t=e.parseConsentCookie,o=e.orgId,n=e.cookieJar,r=$t(o,Yt);return{read:function(){var e=n.get(r);return e?t(e):{}},clear:function(){n.remove(r)}}},Ol=function(e){var t=e.createConsentRequestPayload,o=e.createConsentRequest,n=e.sendEdgeNetworkRequest,r=e.edgeConfigOverrides;return function(e){var a=e.consentOptions,s=e.identityMap,c=e.edgeConfigOverrides,i=wa({payload:t(),globalConfigOverrides:r,localConfigOverrides:c});i.payload.setConsent(a),Re(s)&&Object.keys(s).forEach((function(e){s[e].forEach((function(t){i.payload.addIdentity(e,t)}))}));var l=o(i);return n({request:l}).then((function(){}))}},kl=function(e){return e.split(";").reduce((function(e,t){var o=s(t.split("="),2),n=o[0],r=o[1];return e[n]=r,e}),{})},Dl=Un({consent:Rn(Dn()).required().nonEmpty(),identityMap:Gn,edgeConfigOverrides:Hn}).noUnknownFields().required(),Rl=function(e){var t=e.config,o=e.consent,n=e.sendEdgeNetworkRequest,r=e.createNamespacedStorage,a=t.orgId,s=t.defaultConsent,c=xl({parseConsentCookie:kl,orgId:a,cookieJar:Fe}),i=Ge(),l=Ol({createConsentRequestPayload:Ll,createConsentRequest:Vl,sendEdgeNetworkRequest:n,edgeConfigOverrides:t.edgeConfigOverrides}),d=r("".concat(Xt(a),".consentHashes.")),u=El({storage:d.persistent}),m=eo({orgId:a});return Il({storedConsent:c,taskQueue:i,defaultConsent:s,consent:o,sendSetConsentRequest:l,validateSetConsentOptions:Dl,consentHashStore:u,doesIdentityCookieExist:m})};Rl.namespace="Privacy";var Tl=t.createEventMergeId=function(){return{eventMergeId:E()}},Nl=function(e){return{commands:{createEventMergeId:{run:e.createEventMergeId}}}},Fl=function(){return Nl({createEventMergeId:Tl})};Fl.namespace="EventMerge";var Al=function(e){var t=e.config,o=e.componentRegistry,n=[].concat(f(o.getCommandNames()),[br,hr]).sort(),r=u({},t);Object.keys(t).forEach((function(e){var o=t[e];"function"==typeof o&&(r[e]=o.toString())}));var a=o.getComponentNames();return{version:cl,configs:r,commands:n,components:a}},Ml=function(e){var t=e.config,o=e.componentRegistry,n=Al({config:t,componentRegistry:o});return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:n}}}}}};Ml.namespace="LibraryInfo";var Ul="personalization:decisions",Bl=function(e){return null!==e&&"object"===y(e)&&Object.getPrototypeOf(e)===Object.prototype},ql=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(t).forEach((function(r){Bl(t[r])||Array.isArray(t[r])?e(t[r],o,[].concat(f(n),[r])):o[[].concat(f(n),[r]).join(".")]=t[r]})),o},Gl=function(e){return Bl(e)?ql(e):e},Hl=function(e){var t=e.renderDecisions,o=e.decisionProvider,n=e.applyResponse,r=e.event,a=e.personalization,s=e.decisionContext,c=u(u({},Gl(r.getContent())),s);return function(e){var s=e.response;if(o.addPayloads(s.getPayloadsByType(Ul)),!r.hasQuery())return{propositions:[]};var i=o.evaluate(c);return n({renderDecisions:t,propositions:i,event:r,personalization:a})}},zl={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Wl={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Ql={AND:"and",OR:"or"},Xl={ANY:"any",ORDERED:"ordered"},$l=(m(m(m(m(m(m(m(m(m(m(me={},Wl.EQUALS,V()),Wl.NOT_EQUALS,x()),Wl.EXISTS,O()),Wl.NOT_EXISTS,k()),Wl.GREATER_THAN,R()),Wl.GREATER_THAN_OR_EQUAL_TO,T()),Wl.LESS_THAN,N()),Wl.LESS_THAN_OR_EQUAL_TO,F()),Wl.CONTAINS,A()),Wl.NOT_CONTAINS,M()),m(m(me,Wl.STARTS_WITH,U()),Wl.ENDS_WITH,B())),Jl=["iam.eventType","eventType","type"],Kl=["iam.id","id"],Yl=function(e,t){return function(o){var n=e.getItem(t);if(!n)return o;try{return JSON.parse(n)}catch(e){return o}}},Zl=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(n){e.setItem(t,JSON.stringify(o(n)))}},ed=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},td=function(e){var t=e.scopeDetails,o=(void 0===t?{}:t).activity;return(void 0===o?{}:o).id},od=function(){var e={};return{getItem:function(t){return t in e?e[t]:null},setItem:function(t,o){e[t]=o}}},nd=function(e){e.clear()},rd=function(e){var t=e.eventType,o=void 0===t?"":t,n=e._experience;return!(!o||""===o||!n||"object"!==y(n))},ad=function(e){var t=e.scopeDetails;return(void 0===t?{}:t).decisionProvider},sd=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=[];return Array.isArray(t)?(t.forEach((function(t){Array.isArray(t)?o.push.apply(o,f(e(t))):o.push(t)})),o):t},cd=function(e,t,o){return{schema:o.schema,data:o.data,id:o.id||e}},id="schema",ld=m(m({},"cjmiam",(function(e,t,o){var n=o.html,r=o.mobileParameters;return{schema:gs,data:{mobileParameters:r,webParameters:{},content:n,contentType:Pi},id:e}})),id,cd),dd=function(){return function(e){var t=e.id,o=e.type,n=e.detail;return"function"==typeof ld[o]?ld[o](t,o,n):n}},ud=function(e){var t=e.schema,o=e.data;if(t===us)return!0;if(t!==ds)return!1;try{var n="string"==typeof o.content?JSON.parse(o.content):o.content;return n&&Object.prototype.hasOwnProperty.call(n,"version")&&Object.prototype.hasOwnProperty.call(n,"rules")}catch(e){return!1}},md=function(e,t,o){var n=dd(),r=td(e),a=[],s=function(e){var t=e.data,o=void 0===t?{}:t,n=e.schema===us?o:o.content;n&&a.push(ue("string"==typeof n?JSON.parse(n):n))},c=function(s){var c=t.getEvent(Cs,r),i=c?c.firstTimestamp:void 0,l=sd(a.map((function(e){return e.execute(s)}))).map(n).map((function(e){var t=(o.recordQualified(r)||{}).firstTimestamp;return u(u({},e),{},{data:u(u({},e.data),{},{qualifiedDate:t,displayedDate:i})})}));return u(u({},e),{},{items:l})};return Array.isArray(e.items)&&e.items.filter(ud).forEach(s),{evaluate:c,isEvaluable:a.length>0}},gd=function(e){var t=e.eventRegistry;return{recordQualified:function(e){if(e)return t.addEvent({},Ps.TRIGGER,e)}}},pd=function(e){var t=e.eventRegistry,o={},n=gd({eventRegistry:t}),r=function(e){var r=td(e);if(r){var a=md(e,t,n);a.isEvaluable&&(o[r]=a)}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(o).map((function(t){return t.evaluate(e)})).filter((function(e){return e.items.length>0}))};return{addPayload:r,addPayloads:function(e){e.forEach(r)},evaluate:a}},fd=function(e){return function(t){var o=t.renderDecisions,n=void 0!==o&&o,r=t.propositions,a=void 0===r?[]:r,s=t.event,c=t.personalization;return a.length>0&&e&&e.onDecision({renderDecisions:n,propositions:a,event:s,personalization:c}),{propositions:a}}},_d="AJO",vd="events",bd=1e3,hd=30,Cd=function(e){return"iam.".concat(e)},yd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hd;return function(o){var n={};return Object.keys(o).forEach((function(r){n[r]={},Object.values(o[r]).filter((function(e){return new Date(e.firstTimestamp)>=ed(t)})).sort((function(e,t){return e.firstTimestamp-t.firstTimestamp})).slice(-1*e).forEach((function(e){n[r][e.event[Cd("id")]]=e}))})),n}},Sd=function(e){var t,o,n,r=e.storage,a=r,s=function(e){t=Yl(a=e,vd),o=Zl(a,vd,yd(bd,hd)),n=t({})};s(r);var c=function(e,t,r,a){if(t&&r){n[t]||(n[t]={});var s=n[t][r],c=s?s.count:0,i=(new Date).getTime(),l=s?s.firstTimestamp||s.timestamp:i;return n[t][r]={event:u(u({},e),{},m(m(m({},Cd("id"),r),Cd("eventType"),t),Cd("action"),a)),firstTimestamp:l,timestamp:i,count:c+1},o(n),n[t][r]}};return{addExperienceEdgeEvent:function(e){var t=e.getContent().xdm,o=void 0===t?{}:t,n=o._experience;if(rd(o)){var r=n.decisioning,a=void 0===r?{}:r,s=a.propositionEventType,i=void 0===s?{}:s,l=a.propositionAction,d=void 0===l?{}:l,u=a.propositions,m=void 0===u?[]:u,g=Object.keys(i);if(0!==g.length){var p=function(e){return i[e]===ws},f=d.id;g.filter(p).forEach((function(e){m.forEach((function(t){ad(t)===_d&&c({},e,td(t),f)}))}))}}},addEvent:c,getEvent:function(e,t){if(n[e])return n[e][t]},toJSON:function(){return n},setStorage:s}},Id=function(e){var t=e.eventRegistry,o=e.window,n=(new Date).getTime(),r=function(){return u({title:o.title,url:o.url},bo(o.url))},a=function(){return u({url:o.referrer},bo(o.referrer))},s=function(){var e=new Date,t=e.getTime();return{pageLoadTimestamp:n,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-n,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},c=function(){return{height:o.height,width:o.width,scrollY:o.scrollY,scrollX:o.scrollX}},i={browser:{name:la(o)},page:r(),referringPage:a()},l=function(){return u(u(u({},i),s()),{},{window:c(),"~sdkver":cl})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=u(u({},l()),e);return u(u({},Gl(o)),{},{events:t.toJSON()})};return{getContext:d}},wd=function(){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];return t},Pd=function(){return!0},jd=function(){var e=wd,t=Pd,o=0,n={},r=function(e){return function(){delete n[e]}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?function(){}:(n[o+=1]={callback:e,params:t},r(o))},s=function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];zn(n).forEach((function(o){var n=o.callback,a=o.params,s=e.apply(void 0,[a].concat(r));t.apply(void 0,[a].concat(f(s)))&&n.apply(void 0,f(s))}))};return{add:a,emit:s,hasSubscriptions:function(){return Object.keys(n).length>0},setEmissionPreprocessor:function(t){"function"==typeof t&&(e=t)},setEmissionCondition:function(e){"function"==typeof e&&(t=e)}}},Ed=function(e){var t=e.options;return Un({surfaces:Rn(Bn()).uniqueItems(),schemas:Rn(Bn()).uniqueItems(),callback:Nn().required()}).noUnknownFields()(t)},Ld=function(e,t){var o=e.surfacesFilter,n=e.schemasFilter;return[{propositions:t.filter((function(e){return!o||xe(o,e.scope)})).map((function(e){var t=e.items,o=void 0===t?[]:t;return u(u({},e),{},{items:o.filter((function(e){return!n||xe(n,e.schema)}))})})).filter((function(e){return e.items.length>0}))}]},Vd=function(e,t){return t.propositions.length>0},xd=function(){var e=jd();e.setEmissionPreprocessor(Ld),e.setEmissionCondition(Vd);var t=function(t){var o=t.surfaces,n=t.schemas,r=t.callback,a=e.add(r,{surfacesFilter:o instanceof Array?o:void 0,schemasFilter:n instanceof Array?n:void 0});return Promise.resolve({unsubscribe:a})};return{refresh:function(t){e.hasSubscriptions()&&e.emit(t)},command:{optionsValidator:function(e){return Ed({options:e})},run:t}}},Od={TYPE:"~type",SOURCE:"~source"},kd={LIFECYCLE:"com.adobe.eventType.lifecycle",TRACK:"com.adobe.eventType.generic.track",EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},Dd={LAUNCH:"com.adobe.eventSource.applicationLaunch",REQUEST:"com.adobe.eventSource.requestContent"},Rd=function(e){var t=e.options;return Un({renderDecisions:Tn(),personalization:Un({decisionContext:Un({})})}).noUnknownFields()(t)},Td=function(e){var t=e.contextProvider,o=e.decisionProvider;return{optionsValidator:function(e){return Rd({options:e})},run:function(e){var n=e.renderDecisions,r=e.decisionContext;return(0,e.applyResponse)({renderDecisions:n,propositions:o.evaluate(t.getContext(r))})}}},Nd=function(e){var t=e.config,o=e.createNamespacedStorage,n=e.consent,r=t.orgId,a=t.personalizationStorageEnabled,s=o("".concat(Xt(r),".decisioning."));a||nd(s.persistent);var c,i=Sd({storage:od()}),l=pd({eventRegistry:i}),d=Id({eventRegistry:i,window:window}),g=Td({contextProvider:d,decisionProvider:l}),p=xd();return{lifecycle:{onDecision:function(e){var t=e.propositions;p.refresh(t)},onComponentsRegistered:function(e){c=fd(e.lifecycle),a&&n.awaitConsent().then((function(){i.setStorage(s.persistent)})).catch((function(){s&&nd(s.persistent)}))},onBeforeEvent:function(e){var t=e.event,o=e.renderDecisions,n=e.personalization,r=void 0===n?{}:n,a=e.onResponse,s=void 0===a?mo:a,g=r.decisionContext,p=void 0===g?{}:g;s(Hl({renderDecisions:o,decisionProvider:l,applyResponse:c,event:t,personalization:r,decisionContext:d.getContext(u(m(m({},Od.TYPE,kd.EDGE),Od.SOURCE,Dd.REQUEST),p))})),i.addExperienceEdgeEvent(t)}},commands:{evaluateRulesets:{run:function(e){var t=e.renderDecisions,o=e.personalization,n=(void 0===o?{}:o).decisionContext,r=void 0===n?{}:n;return g.run({renderDecisions:t,decisionContext:u(m(m({},Od.TYPE,kd.RULES_ENGINE),Od.SOURCE,Dd.REQUEST),r),applyResponse:c})},optionsValidator:g.optionsValidator},subscribeRulesetItems:p.command}}};Nd.namespace="DecisioningEngine",Nd.configValidators=Un({personalizationStorageEnabled:Tn().default(!1)});var Fd=function(e){return{inferences:e.response.getPayloadsByType("rtml:inferences")}},Ad=function(){return{lifecycle:{onResponse:Fd},commands:{}}};Ad.namespace="MachineLearning";var Md={MAIN:"main",AD:"ad",COMPLETED:"completed"},Ud=function(){var e;return{getSession:function(t){return e[t]||{}},storeSession:function(t){var o=t.playerId,n=t.sessionDetails;void 0===e&&(e={}),e[o]=n},stopPing:function(t){var o=t.playerId,n=e[o];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=Md.COMPLETED)},savePing:function(t){var o=t.playerId,n=t.pingId,r=t.playbackState;e[o]&&(e[o].pingId&&clearTimeout(e[o].pingId),e[o].pingId=n,e[o].playbackState=r)}}},Bd={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},qd=function(e){var t=e.mediaRequestPayload,o=e.action;return ha({payload:t,edgeSubPath:"/va",getAction:function(){return o},getUseSendBeacon:function(){return!1}})},Gd=function(e){var t=e.config,o=e.eventManager,n=e.consent,r=e.sendEdgeNetworkRequest,a=e.setTimestamp;return{createMediaEvent:function(e){var n=e.options,r=o.createEvent(),s=n.xdm;if(a(s),r.setUserXdm(s),s.eventType===Bd.AD_START){var c=n.xdm.mediaCollection.advertisingDetails;r.mergeXdm({mediaCollection:{advertisingDetails:{playerName:c.playerName||t.streamingMedia.playerName}}})}return r},createMediaSession:function(e){var n=t.streamingMedia,r=n.playerName,a=n.channel,s=n.appVersion,c=o.createEvent(),i=e.xdm.mediaCollection.sessionDetails;return c.setUserXdm(e.xdm),c.mergeXdm({eventType:Bd.SESSION_START,mediaCollection:{sessionDetails:{playerName:i.playerName||r,channel:i.channel||a,appVersion:i.appVersion||s}}}),c},augmentMediaEvent:function(e){var t=e.event,o=e.playerId,n=e.getPlayerDetails,r=e.sessionID;if(!o||!n)return t;var a=n({playerId:o}),s=a.playhead,c=a.qoeDataDetails;return t.mergeXdm({mediaCollection:{playhead:wo(s),qoeDataDetails:c,sessionID:r}}),t},trackMediaSession:function(e){var t=e.event,n=e.mediaOptions;return o.sendEvent(t,{mediaOptions:n})},trackMediaEvent:function(e){var t=e.event,o=e.action,a=Ia(),s=qd({mediaRequestPayload:a,action:o});return a.addEvent(t),t.finalize(),n.awaitConsent().then((function(){return r({request:s}).then((function(){return{}}))}))}}},Hd=function(e,t){return e===Bd.AD_START||e===Bd.Ad_BREAK_START||e===Bd.AD_SKIP||e===Bd.AD_COMPLETE?"ad":e===Bd.AD_BREAK_COMPLETE||e===Bd.CHAPTER_COMPLETE||e===Bd.CHAPTER_START||e===Bd.CHAPTER_SKIP||e===Bd.SESSION_START?"main":e===Bd.SESSION_END||e===Bd.SESSION_COMPLETE?"completed":t},zd=function(e){var t=e.mediaEventManager,o=e.mediaSessionCacheManager,n=e.config,r=function e(r){var a=t.createMediaEvent({options:r}),s=r.playerId,c=r.xdm.eventType,i=c.split(".")[1],l=o.getSession(s),d=l.getPlayerDetails,u=l.sessionPromise,m=l.playbackState;return u.then((function(r){return r.sessionId?(t.augmentMediaEvent({event:a,eventType:c,playerId:s,getPlayerDetails:d,sessionID:r.sessionId}),t.trackMediaEvent({event:a,action:i}).then((function(){if(s)if(c===Bd.SESSION_COMPLETE||c===Bd.SESSION_END)o.stopPing({playerId:s});else{var t=Hd(c,m);if("completed"===t)return;var r="ad"===t?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,a=setTimeout((function(){var t={playerId:s,xdm:{eventType:Bd.PING}};e(t)}),1e3*r);o.savePing({playerId:s,pingId:a,playbackState:t})}}))):Promise.reject(new Error("Failed to trigger media event: ".concat(c,". Session ID is not available for playerId: ").concat(s,".")))}))};return function(e){return r(e)}},Wd=Un({streamingMedia:Un({channel:Bn().nonEmpty().required(),playerName:Bn().nonEmpty().required(),appVersion:Bn(),mainPingInterval:An().minimum(10).maximum(50).default(10),adPingInterval:An().minimum(1).maximum(10).default(10)}).noUnknownFields()}),Qd=function(e){var t=e.options;return kn([Un({playerId:Bn().required(),getPlayerDetails:Nn().required(),xdm:Un({mediaCollection:Un({sessionDetails:Un(Dn()).required()})})}).required(),Un({xdm:Un({mediaCollection:Un({playhead:An().required(),sessionDetails:Un(Dn()).required()})})}).required()],"Error validating the createMediaSession command options.")(t)},Xd=function(e){var t=e.options;return kn([Un({playerId:Bn().required(),xdm:Un({eventType:qn.apply(void 0,f(Object.values(Bd))).required(),mediaCollection:Un(Dn())}).required()}).required(),Un({xdm:Un({eventType:qn.apply(void 0,f(Object.values(Bd))).required(),mediaCollection:Un({playhead:An().integer().required(),sessionID:Bn().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(t)},$d=function(e){var t=e.config,o=e.trackMediaEvent,n=e.trackMediaSession,r=e.mediaResponseHandler;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,o=e.onResponse,n=void 0===o?mo:o;if(t){var a=t.legacy,s=t.playerId,c=t.getPlayerDetails;a||n((function(e){var t=e.response;return r({playerId:s,getPlayerDetails:c,response:t})}))}}},commands:{createMediaSession:{optionsValidator:function(e){return Qd({options:e})},run:n},sendMediaEvent:{optionsValidator:function(e){return Xd({options:e})},run:function(e){return t.streamingMedia?o(e):Promise.reject(new Error("Streaming media is not configured."))}}}}},Jd=function(e){var t=e.config,o=e.mediaEventManager,n=e.mediaSessionCacheManager,r=e.legacy,a=void 0!==r&&r;return function(e){if(!t.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));var r=e.playerId,s=e.getPlayerDetails,c=o.createMediaSession(e);o.augmentMediaEvent({event:c,playerId:r,getPlayerDetails:s});var i=o.trackMediaSession({event:c,mediaOptions:{playerId:r,getPlayerDetails:s,legacy:a}});return n.storeSession({playerId:r,sessionDetails:{sessionPromise:i,getPlayerDetails:s,playbackState:Md.MAIN}}),i}},Kd=function(e){var t=e.mediaSessionCacheManager,o=e.config,n=e.trackMediaEvent;return function(e){var r=e.response,a=e.playerId,s=e.getPlayerDetails,c=r.getPayloadsByType("media-analytics:new-session");if(lt(c)){var i=c[0].sessionId;if(ui(i))return{};if(!a||!s)return{sessionId:i};var l=setTimeout((function(){n({playerId:a,xdm:{eventType:Bd.PING}})}),1e3*o.streamingMedia.mainPingInterval);return t.savePing({playerId:a,pingId:l,playbackState:Md.MAIN}),{sessionId:i}}return{}}},Yd=function(e){var t=e.config,o=e.logger,n=e.eventManager,r=e.sendEdgeNetworkRequest,a=e.consent,s=Ud(),c=Gd({config:t,eventManager:n,logger:o,consent:a,sendEdgeNetworkRequest:r,setTimestamp:al((function(){return new Date}))}),i=zd({mediaSessionCacheManager:s,mediaEventManager:c,config:t}),l=Jd({config:t,mediaEventManager:c,mediaSessionCacheManager:s}),d=Kd({mediaSessionCacheManager:s,config:t,trackMediaEvent:i});return $d({config:t,trackMediaEvent:i,mediaEventManager:c,mediaResponseHandler:d,trackMediaSession:l})};Yd.namespace="Streaming media",Yd.configValidators=Wd;var Zd={Video:"video",Audio:"audio"},eu={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},tu={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},ou={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},nu={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},ru={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},au={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},su={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},cu={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"},iu=function(e){var t=e.trackMediaEvent,o=e.trackMediaSession,n=e.mediaResponseHandler,r=e.logger,a=e.createMediaHelper,s=e.createGetInstance,c=e.config;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,o=e.onResponse,r=void 0===o?mo:o;if(t){var a=t.legacy,s=t.playerId,c=t.getPlayerDetails;a&&r((function(e){var t=e.response;return n({playerId:s,getPlayerDetails:c,response:t})}))}}},commands:{getMediaAnalyticsTracker:{run:function(){if(!c.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));r.info("Streaming media is configured in legacy mode.");var e=a({logger:r});return Promise.resolve(u({getInstance:function(){return s({logger:r,trackMediaEvent:t,trackMediaSession:o,uuid:E})},Event:ou,MediaType:Zd,PlayerState:tu,StreamType:eu,MediaObjectKey:ru,VideoMetadataKeys:au,AudioMetadataKeys:su,AdMetadataKeys:cu},e))}}}}},lu=function(e){var t=e.logger;return{createMediaObject:function(e,o,n,r,a){var s={friendlyName:e,name:o,length:n,streamType:a,contentType:r},c=Un({friendlyName:Bn().nonEmpty(),name:Bn().nonEmpty(),length:An().required(),streamType:Bn().nonEmpty(),contentType:Bn().nonEmpty()});try{var i=c(s);return{sessionDetails:{name:i.name,friendlyName:i.friendlyName,length:i.length,streamType:i.streamType,contentType:i.contentType}}}catch(e){return t.warn("An error occurred while creating the Media Object.",e),{}}},createAdBreakObject:function(e,o,n){var r={friendlyName:e,offset:o,index:n},a=Un({friendlyName:Bn().nonEmpty(),offset:An(),index:An()});try{var s=a(r);return{advertisingPodDetails:{friendlyName:s.friendlyName,offset:s.offset,index:s.index}}}catch(e){return t.warn("An error occurred while creating the Ad Break Object.",e),{}}},createAdObject:function(e,o,n,r){var a={friendlyName:e,name:o,podPosition:n,length:r},s=Un({friendlyName:Bn().nonEmpty(),name:Bn().nonEmpty(),podPosition:An(),length:An()});try{var c=s(a);return{advertisingDetails:{friendlyName:c.friendlyName,name:c.name,podPosition:c.podPosition,length:c.length}}}catch(e){return t.warn("An error occurred while creating the Advertising Object.",e),{}}},createChapterObject:function(e,o,n,r){var a={friendlyName:e,offset:o,length:n,index:r},s=Un({friendlyName:Bn().nonEmpty(),offset:An(),length:An(),index:An()});try{var c=s(a);return{chapterDetails:{friendlyName:c.friendlyName,offset:c.offset,index:c.index,length:c.length}}}catch(e){return t.warn("An error occurred while creating the Chapter Object.",e),{}}},createStateObject:function(e){var o=/^[a-zA-Z0-9_]{1,64}$/,n=Bn().matches(o,"This is not a valid state name.");try{return{name:n(e)}}catch(e){return t.warn("An error occurred while creating the State Object.",e),{}}},createQoEObject:function(e,o,n,r){var a={bitrate:e,droppedFrames:o,fps:n,startupTime:r},s=Un({bitrate:An(),droppedFrames:An(),fps:An(),startupTime:An()});try{var c=s(a);return{bitrate:c.bitrate,droppedFrames:c.droppedFrames,framesPerSecond:c.fps,timeToStart:c.startupTime}}catch(e){return t.warn("An error occurred while creating the QOE Object.",e),{}}}}},du={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},uu={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"},mu=function(e){var t=e.logger,o=e.trackMediaSession,n=e.trackMediaEvent,r=e.uuid,a=null,s=function(){a={qoe:null,lastPlayhead:0,playerId:r()}},c=function(e){var t=e.eventType;return t===ou.BufferComplete||t===ou.SeekComplete?nu.Play:t===ou.StateStart||t===ou.StateEnd?nu.StateUpdate:t===ou.SeekStart?nu.Pause:t},i=function(e){var t=e.eventType,o=e.mediaDetails,n=void 0===o?{}:o,r=e.contextData,a=void 0===r?[]:r,s=c({eventType:t});if(t===ou.StateStart)return{eventType:"media.".concat(s),mediaCollection:{statesStart:[n]}};if(t===ou.StateEnd)return{eventType:"media.".concat(s),mediaCollection:{statesEnd:[n]}};var i={eventType:"media.".concat(s),mediaCollection:u({},n)},l=[];return Object.keys(a).forEach((function(e){du[e]?i.mediaCollection.sessionDetails[du[e]]=a[e]:uu[e]?i.mediaCollection.advertisingDetails[uu[e]]=a[e]:l.push({name:e,value:a[e]})})),lt(l)&&(i.mediaCollection.customMetadata=l),i};return{trackSessionStart:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(De(e)||Ut(e))return t.warn("Invalid media object"),{};null===a&&(t.warn("The Media Session was completed. Restarting a new session."),s());var r=i({eventType:nu.SessionStart,mediaDetails:e,contextData:n});return o({playerId:a.playerId,getPlayerDetails:function(){return{playhead:a.lastPlayhead,qoeDataDetails:a.qoe}},xdm:r})},trackPlay:function(){if(null===a)return t.warn("The Media Session was completed."),{};var e=i({eventType:nu.Play});return n({playerId:a.playerId,xdm:e})},trackPause:function(){if(null===a)return t.warn("The Media Session was completed."),{};var e=i({eventType:nu.Pause});return n({playerId:a.playerId,xdm:e})},trackSessionEnd:function(){if(null===a)return t.warn("The Media Session was completed."),{};var e=i({eventType:nu.SessionEnd});return n({playerId:a.playerId,xdm:e})},trackComplete:function(){if(null===a)return t.warn("The Media Session was completed."),{};var e=i({eventType:nu.SessionComplete});return n({playerId:a.playerId,xdm:e})},trackError:function(e){if(t.warn("trackError(".concat(e,")")),null===a)return t.warn("The Media Session was completed."),{};var o={name:e,source:"player"},r=i({eventType:nu.Error,mediaDetails:{errorDetails:o}});return n({playerId:a.playerId,xdm:r})},trackEvent:function(e,o,r){if(Ut(o))return t.warn("Invalid media object."),{};if(null===a)return t.warn("The Media Session was completed."),{};if(!xe(Object.values(ou),e))return t.warn("Invalid event type"),{};var s=i({eventType:e,mediaDetails:o,contextData:r});return n({playerId:a.playerId,xdm:s})},updatePlayhead:function(e){null!==a?ao(e)&&(a.lastPlayhead=parseInt(e,10)):t.warn("The Media Session was completed.")},updateQoEObject:function(e){null!==a?e&&(a.qoe=e):t.warn("The Media Session was completed.")},destroy:function(){t.warn("Destroy called, destroying the tracker."),a=null}}},gu=function(e){var t=e.eventManager,o=e.sendEdgeNetworkRequest,n=e.config,r=e.logger,a=e.consent,s=Ud(),c=Gd({sendEdgeNetworkRequest:o,config:n,consent:a,eventManager:t,setTimestamp:al((function(){return new Date}))}),i=zd({mediaSessionCacheManager:s,mediaEventManager:c,config:n}),l=Jd({config:n,mediaEventManager:c,mediaSessionCacheManager:s,legacy:!0}),d=Kd({mediaSessionCacheManager:s,config:n,trackMediaEvent:i});return iu({mediaResponseHandler:d,trackMediaSession:l,trackMediaEvent:i,createMediaHelper:lu,createGetInstance:mu,logger:r,config:n})};gu.namespace="Legacy Media Analytics";var pu=[Pr,Qr,Na,Ua,Yi,Sl,Rl,Fl,Ml,Ad,Nd,gu,Yd],fu="https://adobe.ly/3sHh553",_u=function(e){var t=e.combinedConfigValidator,o=e.options,n=e.logger;try{return t.noUnknownFields().required().call({logger:n},o)}catch(e){throw new Error("Resolve these configuration problems:\n\t - ".concat(e.message.split("\n").join("\n\t - "),"\nFor configuration documentation see: ").concat(fu))}},vu=function(e,t,o){return o.reduce((function(o,n){var r=n.buildOnInstanceConfiguredExtraParams;return r&&(0,pe.default)(o,r({config:e,logger:t})),o}),{})},bu=function(e){var t=[],o={get enabled(){return e.enabled},flush:function(){t.forEach((function(t){var o=t.method,n=t.args;return e[o].apply(e,f(n))}))}};return Object.keys(e).filter((function(t){return"function"==typeof e[t]})).forEach((function(e){o[e]=function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];t.push({method:e,args:n})}})),o},hu=function(e){var t=e.options,o=e.componentCreators,n=e.coreConfigValidators,r=e.createConfig,a=e.logger,s=e.setDebugEnabled,c=bu(a),i=o.map((function(e){return e.configValidators})).filter((function(e){return e})).reduce((function(e,t){return e.concat(t)}),n),l=r(_u({combinedConfigValidator:i,options:t,logger:c}));s(l.debugEnabled,{fromConfig:!0}),c.flush();var d=vu(l,a,o);return a.logOnInstanceConfigured(u(u({},d),{},{config:l})),l},Cu=function(e){var t=e.componentCreators,o=e.lifecycle,n=e.componentRegistry,r=e.getImmediatelyAvailableTools;return t.forEach((function(e){var t,o=e.namespace,a=r(o);try{t=e(a)}catch(e){throw So({error:e,message:"[".concat(o,"] An error occurred during component creation.")})}n.register(o,t)})),o.onComponentsRegistered({lifecycle:o}).then((function(){return n}))},yu=function(e){return(0,pe.default)({},e)},Su="edge.adobedc.net",Iu="adobedc.demdex.net",wu="ee",Pu=function(){return Un({debugEnabled:Tn().default(!1),defaultConsent:qn(or,nr,rr).default(or),datastreamId:Bn().unique().required(),edgeDomain:Bn().domain().default(Su),edgeBasePath:Bn().nonEmpty().default(wu),orgId:Bn().unique().required(),onBeforeEventSend:Nn().default(mo),edgeConfigOverrides:Hn}).deprecated("edgeConfigId",Bn().unique(),"datastreamId")},ju=function(e){var t=e.errorPrefix,o=e.logger;return function(e,n){var r=Co(e);if(r.code===sr)return o.warn("The ".concat(n," could not fully complete. ").concat(r.message)),{};throw yo({error:r,message:"".concat(t," ").concat(r.message)}),r}},Eu=function(e){var t=e.fetch;return function(e,o){return t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{
"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:o}).then((function(e){return e.text().then((function(t){return{statusCode:e.status,getHeader:function(t){return e.headers.get(t)},body:t}}))}))}},Lu=function(e){var t=e.XMLHttpRequest;return function(e,o){return new Promise((function(n,r){var a=new t;a.onreadystatechange=function(){4===a.readyState&&(0===a.status?r(new Error("Request aborted.")):n({statusCode:a.status,getHeader:function(e){return a.getResponseHeader(e)},body:a.responseText}))},a.onloadstart=function(){a.responseType="text"},a.open("POST",e,!0),a.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),a.withCredentials=!0,a.onerror=r,a.onabort=r,a.send(o)}))}},Vu=function(e){var t=e.sendBeacon,o=e.sendFetchRequest,n=e.logger;return function(e,r){var a=new Blob([r],{type:"text/plain; charset=UTF-8"});return t(e,a)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),o(e,r))}},xu=function(e){var t=e.getDebugEnabled,o=e.console,n=e.getMonitors,r=e.context,a="[".concat(r.instanceName,"]");r.componentName&&(a+=" [".concat(r.componentName,"]"));var s=function(e,t){var o=n();if(o.length>0){var a=(0,pe.default)({},r,t);o.forEach((function(t){t[e]&&t[e](a)}))}},c=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];s("onBeforeLog",{level:e,arguments:r}),t()&&o[e].apply(o,[a].concat(r))};return{get enabled(){return n().length>0||t()},logOnInstanceCreated:function(e){s("onInstanceCreated",e),c("info","Instance initialized.")},logOnInstanceConfigured:function(e){s("onInstanceConfigured",e),c("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){s("onBeforeCommand",e),c("info","Executing ".concat(e.commandName," command. Options:"),e.options)},logOnCommandResolved:function(e){s("onCommandResolved",e),c("info","".concat(e.commandName," command resolved. Result:"),e.result)},logOnCommandRejected:function(e){s("onCommandRejected",e),c("error","".concat(e.commandName," command was rejected. Error:"),e.error)},logOnBeforeNetworkRequest:function(e){s("onBeforeNetworkRequest",e),c("info","Request ".concat(e.requestId,": Sending request."),e.payload)},logOnNetworkResponse:function(e){s("onNetworkResponse",e);var t=e.parsedBody||e.body?"response body:":"no response body.";c("info","Request ".concat(e.requestId,": Received response with status code ").concat(e.statusCode," and ").concat(t),e.parsedBody||e.body)},logOnNetworkError:function(e){s("onNetworkError",e),c("error","Request ".concat(e.requestId,": Network request failed."),e.error)},info:c.bind(null,"info"),warn:c.bind(null,"warn"),error:c.bind(null,"error")}},Ou="Event was canceled because the onBeforeEventSend callback returned false.",ku=function(e){var t=e.config,o=e.logger,n=e.lifecycle,a=e.consent,s=e.createEvent,c=e.createDataCollectionRequestPayload,i=e.createDataCollectionRequest,l=e.sendEdgeNetworkRequest,d=e.applyResponse,m=t.onBeforeEventSend,g=t.edgeConfigOverrides;return{createEvent:s,sendEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.edgeConfigOverrides,d=r(t,Se),p=wa({payload:c(),localConfigOverrides:s,globalConfigOverrides:g}),f=i(p),_=Be(),v=Be();return n.onBeforeEvent(u(u({},d),{},{event:e,onResponse:_.add,onRequestFailure:v.add})).then((function(){return p.payload.addEvent(e),a.awaitConsent()})).then((function(){try{e.finalize(m)}catch(r){var t=function(){throw r};return v.add(n.onRequestFailure),v.call({error:r}).then(t,t)}if(!e.shouldSend()){v.add(n.onRequestFailure),o.info(Ou);var r=new Error(Ou);return v.call({error:r}).then((function(){}))}return l({request:f,runOnResponseCallbacks:_.call,runOnRequestFailureCallbacks:v.call})}))},applyResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.renderDecisions,r=void 0!==o&&o,a=t.decisionContext,s=void 0===a?{}:a,l=t.responseHeaders,u=void 0===l?{}:l,m=t.responseBody,g=void 0===m?{handle:[]}:m,p=t.personalization,f=c(),_=i({payload:f}),v=Be();return n.onBeforeEvent({event:e,renderDecisions:r,decisionContext:s,decisionScopes:[ss],personalization:p,onResponse:v.add,onRequestFailure:mo}).then((function(){return f.addEvent(e),d({request:_,responseHeaders:u,responseBody:g,runOnResponseCallbacks:v.call})}))}}},Du="state:store",Ru=function(e){var t=e.cookieJar,o=e.shouldTransferCookie,n=e.apexDomain,r=e.dateProvider;return{cookiesToPayload:function(e,r){var a=$e(r,n),s={domain:n,cookiesEnabled:!0};if(!a){var c=t.get(),i=Object.keys(c).filter(o).map((function(e){return{key:e,value:c[e]}}));i.length&&(s.entries=i)}e.mergeState(s)},responseToCookies:function(e){e.getPayloadsByType(Du).forEach((function(e){var o={domain:n},a=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(o.expires=new Date(r().getTime()+1e3*e.maxAge)),void 0!==a&&(o.sameSite=a),"none"===a&&(o.secure=!0),t.set(e.key,e.value,o)}))}}},Tu="mboxEdgeCluster",Nu="at_qa_mode",Fu="mbox",Au=function(e){var t=e.orgId,o=e.targetMigrationEnabled;return function(e){return co(t,e)||e===Nu||o&&e===Fu}},Mu="v1",Uu=function(e){var t=e.shift()||[],o=e.shift()||[],n=e;return Te.apply(void 0,[{}].concat(f(t),f(o),f(n)))},Bu=function(e){return function(t){var o=function(){throw t};return e.call({error:t}).then(o,o)}},qu=function(e){var t=e.config,o=e.lifecycle,n=e.cookieTransfer,r=e.sendNetworkRequest,a=e.createResponse,s=e.processWarningsAndErrors,c=e.getLocationHint,i=e.getAssuranceValidationTokenParams,l=t.edgeDomain,d=t.edgeBasePath,u=t.datastreamId;return function(e){var t=e.request,m=e.runOnResponseCallbacks,g=void 0===m?mo:m,p=e.runOnRequestFailureCallbacks,f=void 0===p?mo:p,_=Be();_.add(o.onResponse),_.add(g);var v=Be();return v.add(o.onRequestFailure),v.add(f),o.onBeforeRequest({request:t,onResponse:_.add,onRequestFailure:v.add}).then((function(){var e=t.getUseIdThirdPartyDomain()?Iu:l,o=c(),a=o?"".concat(d,"/").concat(o).concat(t.getEdgeSubPath()):"".concat(d).concat(t.getEdgeSubPath()),s=t.getDatastreamIdOverride()||u,m=t.getPayload();s!==u&&m.mergeMeta({sdkConfig:{datastream:{original:u}}});var g="https://".concat(e,"/").concat(a,"/").concat(Mu,"/").concat(t.getAction(),"?configId=").concat(s,"&requestId=").concat(t.getId()).concat(i());return n.cookiesToPayload(m,e),r({requestId:t.getId(),url:g,payload:m,useSendBeacon:t.getUseSendBeacon()})})).then((function(e){return s(e),e})).catch(Bu(v)).then((function(e){var t=e.parsedBody,o=e.getHeader,r=a({content:t,getHeader:o});return n.responseToCookies(r),_.call({response:r}).then(Uu)}))}},Gu=204,Hu="The server responded with a",zu=function(e){var t=e.logger;return function(e){var o=e.statusCode,n=e.body,r=e.parsedBody;if(o<200||o>=300||!r&&o!==Gu||r&&!Array.isArray(r.handle)){var a=r?JSON.stringify(r,null,2):n,s=a?"response body:\n".concat(a):"no response body.";throw new Error("".concat(Hu," status code ").concat(o," and ").concat(s))}if(r){var c=r.warnings,i=void 0===c?[]:c,l=r.errors,d=void 0===l?[]:l;i.forEach((function(e){t.warn("".concat(Hu," warning:"),e)})),d.forEach((function(e){t.error("".concat(Hu," non-fatal error:"),e)}))}}},Wu=function(e){var t=e.orgId,o=e.cookieJar,n=$t(t,Zt),r=function(){return o.get(n)},a=function(){var e=o.get(Tu);if(e)return"t".concat(e)};return function(){return r()||a()}},Qu=3,Xu=[429,503,502,504],$u=function(e){var t=e.response;return e.retriesAttempted<Qu&&xe(Xu,t.statusCode)},Ju=1e3,Ku=1e3,Yu=.3,Zu=function(e){var t=Ju+e*Ku,o=t*Yu,n=t-o,r=t+o;return Math.round(n+Math.random()*(r-n))},em=function(e){var t,o=e.getHeader(fr);if(o){var n=parseInt(o,10);t=so(n)?1e3*n:Math.max(0,new Date(o).getTime()-(new Date).getTime())}return t},tm=function(e){var t=e.response,o=e.retriesAttempted,n=em(t);return void 0===n&&(n=Zu(o)),n},om=200,nm=function(e){var t=e.cookieTransfer,o=e.lifecycle,n=e.createResponse,r=e.processWarningsAndErrors;return function(e){var a=e.request,s=e.responseHeaders,c=e.responseBody,i=e.runOnResponseCallbacks,l=void 0===i?mo:i,d=e.runOnRequestFailureCallbacks,u=void 0===d?mo:d,m=Be();m.add(o.onResponse),m.add(l);var g=Be();g.add(o.onRequestFailure),g.add(u);var p=function(e){return s[e]};return o.onBeforeRequest({request:a,onResponse:m.add,onRequestFailure:g.add}).then((function(){return r({statusCode:om,getHeader:p,body:JSON.stringify(c),parsedBody:c})})).catch(Bu(g)).then((function(){var e=n({content:c,getHeader:p});return t.responseToCookies(e),m.call({response:e}).then(Uu)}))}},rm=oo(window),am=window,sm=(am.console,am.fetch),cm=am.navigator,im=am.XMLHttpRequest,lm=Pu(),dm=Wt(window,Fe),um=it(sm)?Eu({fetch:sm}):Lu({XMLHttpRequest:im}),mm=Mt(),gm=Va({window:window,createNamespacedStorage:rm}),pm=function(e){var t=e.instanceName,o=e.logController,n=o.setDebugEnabled,r=o.logger,a=o.createComponentLogger,s=Zn(),c=Kn(s),i=function(e){n(e.enabled,{fromConfig:!1})},l=qe({logger:r,cookieJar:Fe}),d=function(e){var o=hu({options:e,componentCreators:pu,coreConfigValidators:lm,createConfig:yu,logger:r,setDebugEnabled:n}),i=o.orgId,d=o.targetMigrationEnabled,u=Au({orgId:i,targetMigrationEnabled:d}),m=Ru({cookieJar:l,shouldTransferCookie:u,apexDomain:dm,dateProvider:function(){return new Date}}),g=it(cm.sendBeacon)?Vu({sendBeacon:cm.sendBeacon.bind(cm),sendFetchRequest:um,logger:r}):um,p=er({logger:r,sendFetchRequest:um,sendBeaconRequest:g,isRequestRetryable:$u,getRequestRetryDelay:tm}),f=zu({logger:r}),_=tr({logger:r}),v=vr({extractEdgeInfo:_}),b=Wu({orgId:i,cookieJar:Fe}),h=qu({config:o,lifecycle:c,cookieTransfer:m,sendNetworkRequest:p,createResponse:v,processWarningsAndErrors:f,getLocationHint:b,getAssuranceValidationTokenParams:gm}),C=nm({lifecycle:c,cookieTransfer:m,createResponse:v,processWarningsAndErrors:f}),y=ur({logger:r}),S=mr({generalConsentState:y,logger:r}),I=ku({config:o,logger:r,lifecycle:c,consent:S,createEvent:pr,createDataCollectionRequestPayload:Ia,createDataCollectionRequest:Ca,sendEdgeNetworkRequest:h,applyResponse:C});return Cu({componentCreators:pu,lifecycle:c,componentRegistry:s,getImmediatelyAvailableTools:function(e){var n=a(e);return{config:o,componentRegistry:s,consent:S,eventManager:I,fireReferrerHideableImage:mm,logger:n,lifecycle:c,sendEdgeNetworkRequest:h,handleError:ju({errorPrefix:"[".concat(t,"] [").concat(e,"]"),logger:n}),createNamespacedStorage:rm,apexDomain:dm}}})},u=ju({errorPrefix:"[".concat(t,"]"),logger:r});return Cr({logger:r,configureCommand:d,setDebugCommand:i,handleError:u,validateCommandOptions:Sr})},fm=window.console,_m=oo(window);t.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Un({name:Bn().default("alloy"),monitors:Rn(Un({})).default([])}).noUnknownFields()(e),o=t.name,n=t.monitors,r=function(){return(window.__alloyMonitors||[]).concat(n)},a=Qn({console:fm,locationSearch:window.location.search,createLogger:xu,instanceName:o,createNamespacedStorage:_m,getMonitors:r}),s=pm({instanceName:o,logController:a});return a.logger.logOnInstanceCreated({instance:s}),s}}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,o){return(t=a(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e){var o=s(e,"string");return"symbol"==t(o)?o:o+""}function s(e,o){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,o||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}function c(e,t){if(null==e)return{};var o,n,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||{}.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function i(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;o[n]=e[n]}return o}var l=["name","edgeConfigId","stagingEdgeConfigId","developmentEdgeConfigId","onBeforeEventSend"];e.exports=function(e){var t=e.turbine,o=e.window,r=e.createInstance,a=e.createEventMergeId,s=e.orgId,i=e.wrapOnBeforeEventSend,d=e.getConfigOverrides,u=t.getExtensionSettings().instances,m={};return u.forEach((function(e){var a=e.name,u=e.edgeConfigId,g=e.stagingEdgeConfigId,p=e.developmentEdgeConfigId,f=e.onBeforeEventSend,_=c(e,l),v=r({name:a});o[a]=v,o.__alloyNS||(o.__alloyNS=[]),o.__alloyNS.push(a),m[a]=v;var b=t.environment&&t.environment.stage,h="development"===b&&p||"staging"===b&&g||u;_.edgeConfigOverrides=d(_),v("configure",n(n({},_),{},{datastreamId:h,debugEnabled:t.debugEnabled,orgId:_.orgId||s,onBeforeEventSend:i(f)})),t.onDebugChanged((function(e){v("setDebug",{enabled:e})}))})),{getInstance:function(e){return m[e]},createEventMergeId:function(){return a()}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=function(e){var t=e.version;return function(e){return function(o){if(o.xdm.implementationDetails.name="".concat(o.xdm.implementationDetails.name,"/reactor"),o.xdm.implementationDetails.version="".concat(o.xdm.implementationDetails.version,"+").concat(t),e)return e(o)}}}}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=function(){var e={};return{set:function(t,o){e[t]=o},getByCacheId:function(t){return e[t]},clearByEventMergeId:function(t){Object.keys(e).forEach((function(o){e[o]===t&&delete e[o]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=function(){var e=[];return{add:function(t){e.push(t)},triggerEvent:function(t){e.forEach((function(e){e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=function(){var e={};return{add:function(t){var o=t.playerId,n=t.sessionDetails;if(e[o])throw new Error("Player Id ".concat(o," already exists"));e[o]=n},remove:function(t){var o=t.playerId;e[o]=void 0},get:function(t){var o=t.playerId;return e[o]}}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=function(){return{}}}}}},"quantum-metric":{displayName:"Quantum Metric",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPcb7e7e89406d4ba3bfba3f3a11ac8c76/",settings:{subscription:"lenovo"},modules:{"quantum-metric/src/lib/actions/startCapture.js":{name:"start-capture",displayName:"Start Capture",script:function(e,t,o,n){"use strict";e.exports=function(e){var t=n.getExtensionSettings().subscription;if(t){var o="";e&&e.configuration&&"test"===e.configuration&&(o="-test");var r=document.createElement("script");r.type="text/javascript",r.async=1,r.src="https://cdn.quantummetric.com/qscripts/quantum-"+t+o+".js";var a=document.getElementsByTagName("script")[0];!window.QuantumMetricAPI&&a.parentNode.insertBefore(r,a)}}}}}},"bing-ads-extension":{displayName:"Bing Ads UET Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP05eac6e292f1486a812623da300a51b4/",settings:{qname:"uetq",tagid:"5612701",navTimingApi:!0,storeConvTrackCookies:!0},modules:{"bing-ads-extension/src/lib/actions/baseTag.js":{name:"basetag",displayName:"Base Tag",script:function(e,t,o,n){"use strict";e.exports=function(){o("../helpers/getBatJsBase")().then((function(){n.logger.log("Base code loaded and a page load event is sent.")}))}}},"bing-ads-extension/src/lib/helpers/getBatJsBase.js":{script:function(e,t,o,n){"use strict";e.exports=function(){var e=o("@adobe/reactor-window"),t=o("@adobe/reactor-load-script"),r=n.getExtensionSettings(),a=r.qname||"uetq";return e[a]=e[a]||[],t("//bat.bing.com/bat.js").then((function(){var t={ti:r.tagid,navTimingApi:r.navTimingApi,storeConvTrackCookies:r.storeConvTrackCookies,tm:"al001"};t.q=e[a],e[a]=new UET(t),e[a].push("pageLoad"),n.logger.log("BingAds Base Code successfully loaded.")})).catch((function(){n.logger.error("BingAds Base Code could not be loaded.")}))}}}}},"evidon-universal-consent-platform":{displayName:"Evidon Universal Consent Platform",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPfcfa79797686413784dd0aa4cdcc53cc/",settings:{companyid:"1975"},modules:{"evidon-universal-consent-platform/src/lib/events/consentChanged.js":{name:"consent-changed",displayName:"Consent Changed",script:function(e){"use strict";var t=[];window.evidon||(window.evidon={}),window.evidon.consentChangedCallback=function(){for(var e=0;e<t.length;e++)t[e]()},e.exports=function(e,o){t.push(o)}}},"evidon-universal-consent-platform/src/lib/actions/writeScript.js":{name:"write-script",displayName:"Write Script",script:function(e,t,o,n){"use strict";e.exports=function(){var e=n.getExtensionSettings(),t=document.createElement("script");t.innerHTML="(function (id) {  \n      function append(scriptid, url, async) {     var d = document, sn = 'script', f = d.getElementsByTagName(sn)[0]; if (!f) f = d.head;     var s = d.createElement(sn); s.async = async; s.id = scriptid; s.src = url; s.charset='utf-8'; \n f.parentNode.insertBefore(s, f);  } \n\nfunction is2parttld(value) { \n  var tldindicators = ['co', 'com', 'info', 'web', 'info', 'gov', 'edu', 'biz', 'net', 'org']; \n   var countryindicators = ['uk', 'us', 'fr', 'es', 'de', 'at', 'au', 'ae', 'be', 'br', 'ca', 'ch', 'cn', 'co', 'cz', 'dk', 'eg', 'eu', 'fi', 'gb', 'gr', 'hk', 'hr', 'hu', 'ie', 'in', 'jp', 'mx', 'nl', 'no', 'nz', 'pl', 'ro', 'ru', 'se']; \n   return (tldindicators.indexOf(value) !== -1 || countryindicators.indexOf(value) !== -1);  } \n\n      function getRootDomain() {           var parts = window.location.hostname.split('.'); \n          if (parts.length === 2) rootDomain = parts[0]; \n          else if (parts.length > 2) { \n            var part = parts[parts.length - 2]; \n            if (is2parttld(part)) { \n              rootDomain = parts[parts.length - 3]; \n           } \n            else {               rootDomain = part;             } \n          } \n        return rootDomain;       } \n      if (!window.evidon) window.evidon = {}; \n      window.evidon.id = id; \n      window.evidon.test = false; \n      var cdn = '//c.evidon.com/', rootDomain = getRootDomain(), noticecdn = cdn + 'sitenotice/'; \n      append('evidon-notice', noticecdn + 'evidon-sitenotice-tag.js', false); \n      append('evidon-location', cdn + 'geo/country.js', true); \n      append('evidon-themes', noticecdn + id + '/snthemes.js', true); \n      if (rootDomain) append('evidon-settings', noticecdn + id + '/' + rootDomain + (window.evidon.test ? '/test' : '') + '/settings.js', true); \n\n  })("+e.companyid+");",document.head.appendChild(t)}}},"evidon-universal-consent-platform/src/lib/events/consentReceived.js":{name:"consent-received",displayName:"Consent Received",script:function(e){"use strict";function t(){for(var e=0;e<o.length;e++)o[e]()}var o=[];window.evidon||(window.evidon={}),window.evidon.priorConsentCallback=function(){console.log("consent callback executing"),void 0!==window.evidon.notice&&window.evidon.notice?t():window.evidon.events.subscribe("apiReady",t,1)},e.exports=function(e,t){o.push(t)}}}}},"confirmit-digital-feedback":{displayName:"Confirmit Digital Feedback",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf4917d8ce41549f9ba6b331a45d216fc/",modules:{"confirmit-digital-feedback/src/lib/actions/loadProgram.js":{name:"load-program",displayName:"Load Program",script:function(e,t,o){"use strict";var n,r={UK:"https://digitalfeedback.euro.confirmit.com/api/digitalfeedback",US:"https://digitalfeedback.us.confirmit.com/api/digitalfeedback",AU:"https://digitalfeedback.confirmit.com.au/api/digitalfeedback",DE:"https://digitalfeedback.confirmit.de/api/digitalfeedback",Teslab:"https://digitalfeedback.testlab.firmglobal.net/api/digitalfeedback",Nordic:"https://digitalfeedback.nordic.confirmit.com/api/digitalfeedback"},a=o("@adobe/reactor-load-script");e.exports=function(e){var t=e.programKey,o="Custom"!==e.environment?r[e.environment]:e.customUrl;if(o&&t){var s=o.replace(/\/$/,"")+"/loader?programKey="+encodeURIComponent(t);return n=n||a(s)}console.warn("Invalid settings for Confirmit Digital Feedback extension")}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1fdd2a6ec2ae468fb1d2cac08df65f83/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,o){"use strict";var n=o("../helpers/getObjectProperty.js");e.exports=function(e){return n(window,e.path)}}},"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){var o=e.elementProperty;return"text"===o?t.innerText||t.textContent:o in t?t[o]:t.getAttribute?t.getAttribute(o):void 0}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-cookie");e.exports=function(e){return n.get(e.name)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-window"),r=o("@adobe/reactor-query-string");e.exports=function(e){var t=r.parse(n.location.search);if(!e.caseInsensitive)return t[e.name];for(var o=e.name.toLowerCase(),a=Object.keys(t),s=0;s<a.length;s++){var c=a[s];if(c.toLowerCase()===o)return t[c]}}}},"core/src/lib/dataElements/visitorBehavior.js":{name:"visitor-behavior",displayName:"Visitor Behavior",script:function(e,t,o){"use strict";var n=o("../helpers/visitorTracking");e.exports=function(e){switch(e.attribute){case"landingPage":return n.getLandingPage();case"trafficSource":return n.getTrafficSource();case"minutesOnSite":return n.getMinutesOnSite();case"sessionCount":return n.getSessionCount();case"sessionPageViewCount":return n.getSessionPageViewCount();case"lifetimePageViewCount":return n.getLifetimePageViewCount();case"isNewVisitor":return n.getIsNewVisitor()}}}},"core/src/lib/dataElements/sessionStorage.js":{name:"session-storage",displayName:"Session Storage",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-window");e.exports=function(e){try{return n.sessionStorage.getItem(e.name)}catch(e){return null}}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,o){"use strict";var n=o("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerWindowLoadedTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,o,n){"use strict";var r,a,s,c,i=o("@adobe/reactor-document"),l=o("@adobe/reactor-promise"),d=o("./helpers/decorateCode"),u=o("./helpers/loadCodeSequentially"),m=o("../../../node_modules/postscribe/dist/postscribe"),g=o("./helpers/unescapeHtmlCode"),p=o("../helpers/findPageScript").getTurbine,f=(a=function(e){m(i.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=g(e.attrs[t])})),e.src&&(e.src=g(e.src))),e},error:function(e){n.logger.error(e.msg)}})},s=[],c=function(){if(i.body)for(;s.length;)a(s.shift());else setTimeout(c,20)},function(e){s.push(e),c()}),_=function(){if(i.currentScript)return i.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var o;r=n.getExtensionSettings().cspNonce;var a={settings:e,event:t},s=a.settings.source;if(s)return a.settings.isExternal?u(s).then((function(e){return e?(o=d(a,e),f(o.code),o.promise):l.resolve()})):(o=d(a,s),_||"loading"!==i.readyState?f(o.code):i.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?i.write(o.code):f(o.code),o.promise)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,o){"use strict";var n=o("../helpers/stringAndNumberUtils").isString,r=o("../helpers/stringAndNumberUtils").isNumber,a=o("../helpers/stringAndNumberUtils").castToStringIfNumber,s=o("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e,t){return t&&n(e)?e.toLowerCase():e},i=function(e){return function(t,o,r){return t=a(t),o=a(o),n(t)&&n(o)&&e(t,o,r)}},l=function(e){return function(t,o){return t=s(t),o=s(o),r(t)&&r(o)&&e(t,o)}},d=function(e){return function(t,o,n){return e(c(t,n),c(o,n))}},u={equals:d((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:i(d((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:i(d((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:i(d((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:i((function(e,t,o){return new RegExp(t,o?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:l((function(e,t){return e<t})),lessThanOrEqual:l((function(e,t){return e<=t})),greaterThan:l((function(e,t){return e>t})),greaterThanOrEqual:l((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,o,n){"use strict";var r={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var o=r[e];if(o){var a={identifier:e,detail:t};o.forEach((function(e){e(a)}));var s=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&s.push(t),n.logger.log.apply(n.logger,s)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var o=r[e.identifier];o||(o=r[e.identifier]=[]),o.push(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,o){"use strict";var n=o("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,o,n){"use strict";var r={},a={};setInterval((function(){Object.keys(r).forEach((function(e){var t=JSON.stringify(n.getDataElementValue(e));if(t!==a[e]){var o={dataElementName:e};r[e].forEach((function(e){e(o)})),a[e]=t}}))}),1e3),e.exports=function(e,t){var o=e.name,s=r[o];s||(s=r[o]=[],a[o]=JSON.stringify(n.getDataElementValue(o))),s.push(t)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-window"),r=o("./helpers/createBubbly")(),a=new(o("./helpers/weakMap")),s=2,c=o("../helpers/stringAndNumberUtils").castToNumberIfString,i=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==s)for(var t=e.target;t;){var o=t.tagName;if(o&&"a"===o.toLowerCase()){var r=t.getAttribute("href"),a=t.getAttribute("target");return r&&(!a||"_self"===a||"_top"===a&&n.top===n||a===n.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,(function(o){var r=o.nativeEvent;if(!r.s_fe){var s=c(e.anchorDelay);if(s&&!a.has(r)){var l=i(r);l&&(r.preventDefault(),setTimeout((function(){n.location=l.href}),s)),a.set(r,!0)}t(o)}}))},e.exports.__reset=r.__reset}},"core/src/lib/events/timeOnPage.js":{name:"time-on-page",displayName:"Time On Page",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-document"),r=o("./helpers/once"),a=o("./helpers/visibilityApi")(),s=o("./helpers/timer"),c=o("../helpers/stringAndNumberUtils").castToNumberIfString,i=a.hiddenProperty,l=a.visibilityChangeEventType,d={},u=function(e){var t={timeOnPage:e/1e3};d[e].forEach((function(e){e(t)}))},m=r((function(){var e=new s;return e.on("markerPassed",u),n.addEventListener(l,(function(){n[i]?e.pause():e.resume()}),!0),e.start(),e}));e.exports=function(e,t){var o=m(),n=1e3*c(e.timeOnPage);o.addMarker(n),d[n]||(d[n]=[]),d[n].push(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-document"),r=o("../helpers/textMatch");e.exports=function(e){var t=n.location.pathname;return e.paths.some((function(e){var o=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,o)}))}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,o){"use strict";var n=o("../helpers/getObjectProperty"),r=o("../helpers/textMatch");e.exports=function(e){var t;t=Array.isArray(e.variableValues)?e.variableValues:[{value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}];var o=n(window,e.name);return t.some((function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(o,t)}))}}},"core/src/lib/actions/directCall.js":{name:"direct-call",displayName:"Trigger Direct Call",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-window");e.exports=function(e){if(e&&e.identifier){var t=e.detail;if(t&&Array.isArray(t.eventObjectEntries)&&t.eventObjectEntries.length){var o={};t.eventObjectEntries.forEach((function(e){o[e.key]=e.value})),n._satellite.track(e.identifier,o)}else n._satellite.track(e.identifier)}}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-document"),r=o("../helpers/textMatch");e.exports=function(e){var t=n.location.pathname+n.location.search;return e.paths.some((function(e){var o=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,o)}))}}},"core/src/lib/conditions/dateRange.js":{name:"date-range",displayName:"Date Range",script:function(e){"use strict";e.exports=function(e){var t=new Date;return!(e.start&&t<new Date(e.start)||e.end&&t>new Date(e.end))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,o){"use strict";var n=o("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-document"),r=/[|\\{}()[\]^$+*?.-]/g,a=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")};e.exports=function(e){var t=n.location.hostname;return e.domains.some((function(e){return t.match(new RegExp("(^|\\.)"+a(e)+"$","i"))}))}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-document"),r=o("../helpers/textMatch");e.exports=function(e){var t=n.location.hostname;return e.subdomains.some((function(e){var o=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,o)}))}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,o){"use strict"
;var n,r=o("@adobe/reactor-document"),a=o("@adobe/reactor-window"),s=o("./helpers/weakMap"),c=o("./helpers/enableWeakMapDefaultValue"),i=o("./helpers/matchesSelector"),l=o("./helpers/matchesProperties"),d=o("../helpers/stringAndNumberUtils").castToNumberIfString,u=o("../helpers/intersectionObserverIntervals"),m={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},g=c(new s,(function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}})),p={},f=function(e){var t=g.get(e);t.inViewport||(t.inViewport=!0,Object.keys(p).forEach((function(o){i(e,o)&&p[o].forEach((function(o){if(l(e,o.settings.elementProperties)&&-1===t.completedListeners.indexOf(o)){var n=function(){(o.settings.frequency||m.FIRST_ENTRY)===m.FIRST_ENTRY&&t.completedListeners.push(o),o.trigger({element:e,target:e,delay:o.settings.delay})};if(o.settings.delay){var r=a.setTimeout((function(){Boolean(g.get(e).inViewport)&&n()}),o.settings.delay);t.timeoutIds.push(r)}else n()}}))})))},_=function(e){var t=g.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},v=[],b=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?f(e.target):_(e.target)}))}),{root:null,rootMargin:"0px"}),h=function(e){e&&r.querySelectorAll(e).forEach((function(e){b.observe(e)}))};n=function(){h(v.join(",")),v=[];var e=a.setInterval((function(){h(Object.keys(p).join(","))}),u.standard.pageElementsRefresh);a.addEventListener("beforeunload",(function(){b.disconnect(),a.clearInterval(e)}),!1)},"loading"!==r.readyState?n():r.addEventListener("DOMContentLoaded",n),e.exports=function(e,t){if(e.elementSelector){var o=p[e.elementSelector],n=Boolean(!o);n&&(o=p[e.elementSelector]=[]),e.delay=d(e.delay),o.push({settings:e,trigger:t}),"loading"===r.readyState?v.push(e.elementSelector):n&&h(e.elementSelector)}}}},"core/src/lib/conditions/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,o){"use strict";var n=o("@adobe/reactor-window"),r=o("@adobe/reactor-query-string"),a=o("../helpers/textMatch");e.exports=function(e){var t,o=r.parse(n.location.search);if(!o.hasOwnProperty(e.name))return!1;t=Array.isArray(e.queryParams)?e.queryParams:[{value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}];var s=o[e.name];return t.some((function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(s,t)}))}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,o){"use strict";var n=o("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/sampling.js":{name:"sampling",displayName:"Sampling",script:function(e,t,o){"use strict";var n=o("../helpers/getNamespacedStorage")("localStorage","sampling");e.exports=function(e,t){var o=Math.random()<e.rate;if(e.persistCohort){var r="cohorts."+t.$rule.id+"."+e.rate,a=n.getItem(r);if("true"===a)return!0;if("false"===a)return!1;n.setItem(r,o)}return o}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,o){"use strict";var n=o("./helpers/debounce"),r=o("./helpers/once"),a=window.history,s=window.location.href,c=[],i=function(e,t,o){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return o.apply(null,arguments),t}},l=n((function(){var e=window.location.href;s!==e&&(c.forEach((function(e){e()})),s=e)}),0),d=r((function(){a&&(a.pushState&&i(a,"pushState",l),a.replaceState&&i(a,"replaceState",l)),window.addEventListener("popstate",l),window.addEventListener("hashchange",l)}));e.exports=function(e,t){d(),c.push(t)}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,o){"use strict";var n=o("../helpers/textMatch");e.exports=function(e){var t=document.location.hash;return e.hashes.some((function(e){var o=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return n(t,o)}))}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var o=t.split("."),n=e,r=0,a=o.length;r<a;r++){if(null==n)return;n=n[o[r]]}return n}}},"core/src/lib/helpers/visitorTracking.js":{script:function(e,t,o){"use strict";var n,r=o("@adobe/reactor-document"),a=o("@adobe/reactor-window"),s=o("./getNamespacedStorage"),c="visitorTracking",i=s("localStorage",c),l=s("sessionStorage",c),d=function(){var e=l.getItem("landingPage");return e||(l.setItem("landingPage",a.location.href),l.setItem("landingTime",(new Date).getTime())),!e},u=function(){return l.getItem("landingPage")},m=function(){return Number(l.getItem("landingTime"))},g=function(){return Number(i.getItem("sessionCount"))},p=function(){return Number(i.getItem("pagesViewed"))},f=function(){var e=(new Date).getTime();return Math.floor((e-m())/1e3/60)},_=function(){return l.getItem("trafficSource")},v=function(){return Number(l.getItem("pagesViewed"))},b=function(){return 1===g()},h=function(e){e&&i.setItem("sessionCount",g()+1)},C=function(){l.setItem("pagesViewed",v()+1)},y=function(){i.setItem("pagesViewed",p()+1)},S=function(){l.getItem("trafficSource")||l.setItem("trafficSource",r.referrer)};n=d(),h(n),y(),C(),S(),e.exports={getLandingPage:u,getLandingTime:m,getMinutesOnSite:f,getSessionCount:g,getLifetimePageViewCount:p,getSessionPageViewCount:v,getTrafficSource:_,getIsNewVisitor:b}}},"core/src/lib/helpers/getNamespacedStorage.js":{script:function(e,t,o,n){"use strict";var r=o("@adobe/reactor-window"),a="com.adobe.reactor.core";e.exports=function(e,t){var o='"'+e+'" is not available on the window object.',s=a+"."+t;return{getItem:function(t){try{return r[e].getItem(s+"."+t)}catch(e){return n.logger.warn(o),null}},setItem:function(t,a){try{return r[e].setItem(s+"."+t,a),!0}catch(e){return n.logger.warn(o),!1}}}}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-window"),r=o("@adobe/reactor-document"),a=-1!==n.navigator.appVersion.indexOf("MSIE 10"),s="WINDOW_LOADED",c="DOM_READY",i="PAGE_BOTTOM",l=[i,c,s],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach((function(e){u[e]=[]}));var m=function(e,t){l.slice(0,p(e)+1).forEach((function(e){f(t,e)}))},g=function(){return"complete"===r.readyState?s:"interactive"===r.readyState?a?null:c:void 0},p=function(e){return l.indexOf(e)},f=function(e,t){u[t].forEach((function(t){_(e,t)})),u[t]=[]},_=function(e,t){var o=t.trigger,n=t.syntheticEventFn;o(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=m.bind(null,i),r.addEventListener("DOMContentLoaded",m.bind(null,c),!0),n.addEventListener("load",m.bind(null,s),!0),n.setTimeout((function(){var e=g();e&&m(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[i].push({trigger:e})},registerDomReadyTrigger:function(e){u[c].push({trigger:e,syntheticEventFn:d.bind(null,r)})},registerWindowLoadedTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,n)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,o){"use strict";var n=o("./decorators/decorateGlobalJavaScriptCode"),r=o("./decorators/decorateNonGlobalJavaScriptCode"),a={javascript:function(e,t){return e.settings.global?n(e,t):r(e,t)},html:o("./decorators/decorateHtmlCode")};e.exports=function(e,t){return a[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-promise"),r=o("./getSourceByUrl"),a=n.resolve();e.exports=function(e){var t=new n((function(t){var o=r(e);n.all([o,a]).then((function(e){var o=e[0];t(o)}))}));return a=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var o,n;o=this,n=function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(o(1));e.exports=r.default},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){}function s(){var e=p.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=c.apply(void 0,e),t.afterStreamStart()}}function c(e,t,o){function n(e){e=o.beforeWrite(e),f.write(e),o.afterWrite(e)}(f=new d.default(e,o)).id=g++,f.name=o.name||f.id,i.streams[f.name]=f;var r=e.ownerDocument,c={close:r.close,open:r.open,write:r.write,writeln:r.writeln};l(r,{close:a,open:a,write:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(t.join("")+"\n")}});var u=f.win.onerror||a;return f.win.onerror=function(e,t,n){o.error({msg:e+" - "+t+": "+n}),u.apply(f.win,[e,t,n])},f.write(t,(function(){l(r,c),f.win.onerror=u,o.done(),f=null,s()})),f}function i(e,t,o){if(u.isFunction(o))o={done:o};else if("clear"===o)return p=[],f=null,void(g=0);o=u.defaults(o,m);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,o];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=a}},o.beforeEnqueue(n),p.push(n),f||s(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};t.default=i;var d=r(o(2)),u=n(o(4)),m={afterAsync:a,afterDequeue:a,afterStreamStart:a,afterWrite:a,autoFix:!0,beforeEnqueue:a,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:a,error:function(e){throw new Error(e.msg)},releaseAsync:!1},g=0,p=[],f=null;l(i,{streams:{},queue:p,WriteStream:d.default})},function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){var o=m+t,n=e.getAttribute(o);return d.existy(n)?String(n):n}function c(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=m+t;d.existy(o)&&""!==o?e.setAttribute(n,o):e.removeAttribute(n)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},l=r(o(3)),d=n(o(4)),u=!1,m="data-ps-",g="ps-style",p="ps-script",f=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.root=t,this.options=o,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:o.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],c(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,o=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(o=d.isScript(t))&&!(n=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),o&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,o=[],n=[],r=[],a=e.length,s=0;s<a;s++){var c=e[s],i=c.toString();if(o.push(i),c.attrs){if(!/^noscript$/i.test(c.tagName)){var l=t++;n.push(i.replace(/(\/?>)/," "+m+"id="+l+" $1")),c.attrs.id!==p&&c.attrs.id!==g&&r.push("atomicTag"===c.type?"":"<"+c.tagName+" "+m+"proxyof="+l+(c.unary?" />":">"))}}else n.push(i),r.push("endTag"===c.type?i:"")}return{tokens:e,raw:o.join(""),actual:n.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var o=1===e.nodeType;if(!o||!s(e,"proxyof")){o&&(this.actuals[s(e,"id")]=e,c(e,"id"));var n=e.parentNode&&s(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,o=this.parser.clear();o&&this.writeQueue.unshift(o),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,g),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,o){t.setAttribute(e,o)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var o=this.doc.getElementById(t);o&&o.parentNode.replaceChild(e,o)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var o=this._buildScript(e),n=this._shouldRelease(o),r=this.options.afterAsync;e.src&&(o.src=e.src,this._scriptLoadHandler(o,n?r:function(){t(),r()}));try{this._insertCursor(o,p),o.src&&!n||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,o){t.setAttribute(e,o)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function o(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){o(),null!=t&&t(),t=null}function r(e){o(),s(e),null!=t&&t(),t=null}function a(e,t){var o=e["on"+t];null!=o&&(e["_on"+t]=o)}var s=this.options.error;a(e,"load"),a(e,"error"),i(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}n()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(o(1));e.exports=r.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=r(o(2)),c=r(o(3)),i=n(o(6)),l=o(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.stream=o;var r=!1,c={};for(var l in s)s.hasOwnProperty(l)&&(n.autoFix&&(c[l+"Fix"]=!0),r=r||c[l+"Fix"]);r?(this._readToken=(0,i.default)(this,c,(function(){return t._readTokenImpl()})),this._peekToken=(0,i.default)(this,c,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=c[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var m in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=(0,l.escapeQuotes)(e[o],null));return t},u.supports=s,s)s.hasOwnProperty(m)&&(u.browserHasFlaw=u.browserHasFlaw||!s[m]&&m)},function(e,t){"use strict";t.__esModule=!0;var o=!1,n=!1,r=window.document.createElement("div");try{var a="<P><I></P></I>";r.innerHTML=a,t.tagSoup=o=r.innerHTML!==a}catch(e){t.tagSoup=o=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(e){t.selfClose=n=!1}r=null,t.tagSoup=o,t.selfClose=n},function(e,t,o){"use strict";function n(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function a(e){var t,o,n;if(-1!==e.indexOf(">")){var r=e.match(d.startTag);if(r){var a=(t={},o={},n=r[2],r[2].replace(d.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",o[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(r)&&r||"":t[r]="",n=n.replace(e,"")})),{v:new l.StartTagToken(r[1],r[0].length,t,o,!!r[3],n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":i(a)))return a.v}}}function s(e){var t=a(e);if(t){var o=e.slice(t.length);if(o.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=o.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new l.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function c(e){var t=e.match(d.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=r,t.startTag=a,t.atomicTag=s,t.endTag=c;var l=o(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=o(5),a=(t.Token=function e(t,o){n(this,e),this.type=t,this.length=o,this.text=""},t.CommentToken=function(){function e(t,o){n(this,e),this.type="comment",this.length=o||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){n(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,o,r,a,s){n(this,e),this.type=t,this.length=r,this.text="",this.tagName=o,this.attrs=a,this.booleanAttrs=s,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){o+=" "+n;var a=e.attrs[n];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(o+='="'+(0,r.escapeQuotes)(a)+'"')}return e.rest&&(o+=" "+e.rest),e.unary&&!e.html5Unary?o+="/>":o+=">",null!=t&&(o+=t+"</"+e.tagName+">"),o},e}());t.StartTagToken=function(){function e(t,o,r,a,s,c){n(this,e),this.type="startTag",this.length=o,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=a,this.html5Unary=!1,this.unary=s,this.rest=c}return e.prototype.toString=function(){return a.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,o,r,a,s){n(this,e),this.type="atomicTag",this.length=o,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1,this.content=s}return e.prototype.toString=function(){return a.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,o){n(this,e),this.type="endTag",this.length=o,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=o},function(e,t){"use strict";function o(e){return e&&"startTag"===e.type&&(e.unary=c.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function n(e,t){var n=e.stream,r=o(t());return e.stream=n,r}function r(e,t){var o=t.pop();e.prepend("</"+o.tagName+">")}function a(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,o=0;t=this[o];o++)if(t.tagName===e)return!0;return!1},e}function s(e,t,s){function c(){var t=n(e,s);t&&d[t.type]&&d[t.type](t)}var l=a(),d={startTag:function(o){var n=o.tagName;"TR"===n.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),c()):t.selfCloseFix&&i.test(n)&&l.containsTagName(n)?l.lastTagNameEq(n)?r(e,l):(e.prepend("</"+o.tagName+">"),c()):o.unary||l.push(o)},endTag:function(o){l.last()?t.tagSoupFix&&!l.lastTagNameEq(o.tagName)?r(e,l):l.pop():t.tagSoupFix&&(s(),c())}};return function(){return c(),o(s())}}t.__esModule=!0,t.default=s;var c=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,i=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function o(e){return null!=e}function n(e){return"function"==typeof e}function r(e,t,o){var n=void 0,r=e&&e.length||0;for(n=0;n<r;n++)t.call(o,e[n],n)}function a(e,t,o){for(var n in e)e.hasOwnProperty(n)&&t.call(o,n,e[n])}function s(e,t){return e=e||{},a(t,(function(t,n){o(e[t])||(e[t]=n)})),e}function c(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(o=[],r(e,(function(e){o.push(e)})),{v:o});if("object"===(void 0===t?"undefined":m(t)))return t.v}var o}function i(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return l(e,"script")}function u(e){return l(e,"style")}t.__esModule=!0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=o,t.isFunction=n,t.each=r,t.eachKey=a,t.defaults=s,t.toArray=c,t.last=i,t.isTag=l,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.postscribe=n():o.postscribe=n()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-document"),r=function(e){for(var t=n.querySelectorAll("script"),o=0;o<t.length;o++){var r=t[o];if(e.test(r.src))return r}},a=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:a,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var o="_runScript"+ ++r,a=new n((function(t,r){_satellite[o]=function(a){delete _satellite[o],new n((function(t){t(a.call(e.event.element,e.event,e.event.target,n))})).then(t,r)}}));return{code:'<script>_satellite["'+o+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:a}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,o,n){"use strict";var r=o("@adobe/reactor-promise"),a=0,s={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=s[e];t&&(delete s[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=s[e];t&&(delete s[e],t.reject())};var c=function(e){return-1!==e.indexOf("${reactorCallbackId}")},i=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var o;return l(e)&&(t=n.replaceTokens(t,e.event)),c(t)?(o=new r((function(e,t){s[String(a)]={resolve:e,reject:t}})),t=i(t,a),a+=1):o=r.resolve(),{code:t,promise:o}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-load-script"),r=o("@adobe/reactor-promise"),a=o("../../helpers/findPageScript").byRegexPattern,s={},c={},i=function(e){return c[e]||(c[e]=n(e)),c[e]};_satellite.__registerScript=function(e,t){var o;if(document.currentScript)o=document.currentScript.getAttribute("src");else{var n=new RegExp(".*"+e+".*");o=a(n).getAttribute("src")}s[o]=t},e.exports=function(e){return s[e]?r.resolve(s[e]):new r((function(t){i(e).then((function(){t(s[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},o=function(e){return"string"==typeof e||e instanceof String},n=function(e){return t(e)?String(e):e},r=function(e){return o(e)?Number(e):e};e.exports={isNumber:t,isString:o,castToStringIfNumber:n,castToNumberIfString:r}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,o){"use strict";var n=o("./weakMap"),r=o("./matchesProperties"),a=o("./matchesSelector");e.exports=function(){var e=[],t=new n,o={addListener:function(t,o){e.push({settings:t,callback:o})},evaluateEvent:function(o,n){if(e.length&&!t.has(o)){for(var s=o.target,c=!1;s;){for(var i=!1,l=!1,d=0;d<e.length;d++){var u=e[d],m=u.settings.elementSelector,g=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!c)&&(s===o.target||!1!==u.settings.bubbleFireIfParent)&&(s===o.target||m||g&&Object.keys(g).length)&&(!m||a(s,m))&&(!g||r(s,g))){var p={};n?Object.keys(o).forEach((function(e){p[e]=o[e]})):p.nativeEvent=o,p.element=s,p.target=o.target,!1!==u.callback(p)&&(l=!0,u.settings.bubbleStop&&(i=!0))}}if(i)break;l&&(c=!0),s=s.parentNode}t.set(o,!0)}},__reset:function(){e=[]}};return o}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-window").WeakMap;if(void 0===n){var r=Object.defineProperty,a=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+a+++"__"}).prototype={set:function(e,t){var o=e[this.name];return o&&o[0]===e?o[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,o){"use strict";var n=o("./../../helpers/textMatch"),r=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var o=r(e,t.name),a=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return n(o,a)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,o,n){"use strict";e.exports=function(e,t){var o=e.matches||e.msMatchesSelector;if(o)try{return o.call(e,t)}catch(e){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var o;return function(){return e&&(o=e.apply(t||this,arguments),e=null),o}}}},"core/src/lib/events/helpers/visibilityApi.js":{script:function(e){"use strict";e.exports=function(){var e={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"};for(var t in e)if(e.hasOwnProperty(t)&&void 0!==document[t])return{hiddenProperty:t,visibilityChangeEventType:e[t]};return{}}}},"core/src/lib/events/helpers/timer.js":{script:function(e,t,o){"use strict";var n=o("@adobe/reactor-object-assign"),r=o("../../../../node_modules/mitt/dist/mitt"),a=1e3,s=function(e,t,o){return o.indexOf(e)===t},c=function(e){n(this,r()),this._total=0,this._checkInterval=e||a,this._intervalId=null,this._markers=[]};c.prototype={start:function(){this.resume()},resume:function(){this._setIntervalUpdater(),this._startNewInternalTimer()},pause:function(){this._removeIntervalUpdater(),this._calculateTimePassed(),this._stopInternalTimer()},getTime:function(){return this._total},addMarker:function(e){this._markers.push(e),this._markers=this._markers.filter(s),this._markers.sort()},_setIntervalUpdater:function(){this._intervalId=window.setInterval(this._calculateTimePassed.bind(this),this._checkInterval)},_removeIntervalUpdater:function(){window.clearInterval(this._intervalId)},_startNewInternalTimer:function(){this._startTime=(new Date).getTime()},_stopInternalTimer:function(){this._startTime=null},_calculateTimePassed:function(){this._total+=(new Date).getTime()-this._startTime,this._checkMarkersCompleted(),this._startNewInternalTimer()},_checkMarkersCompleted:function(){for(var e=this.getTime(),t=0;t<this._markers.length;t++){var o=this._markers[t];e>=o&&(this.emit("markerPassed",o),this._markers.splice(t,1),t-=1)}}},e.exports=c}},"core/node_modules/mitt/dist/mitt.js":{script:function(e){e.exports=function(e){return{all:e=e||new Map,on:function(t,o){var n=e.get(t);n?n.push(o):e.set(t,[o])},off:function(t,o){var n=e.get(t);n&&(o?n.splice(n.indexOf(o)>>>0,1):e.set(t,[]))},emit:function(t,o){var n=e.get(t);n&&n.slice().map((function(e){e(o)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,o)}))}}}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(e,t){var o=e.get;return e.get=function(n){return e.has(n)||e.set(n,t()),
o.apply(this,arguments)},e}}},"core/src/lib/helpers/intersectionObserverIntervals.js":{script:function(e){"use strict";e.exports={standard:{pageElementsRefresh:3e3}}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,o){var n=null;return function(){var r=o||this,a=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}}}}}}},company:{orgId:"F6171253512D2B8C0A490D45@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Lenovo AEP Test",settings:{domains:["lenovo.com","lenovouat.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR326df9cda60f40e1a4b56ebe5eea72db"},rules:[{id:"RL007fa8c1aaaa4f59bcaecaa6b4e1280f",name:"Bluecore - Global : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS direct%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe9e116f0a03a4418b4858b5a953845d7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL00924aca3f5d48dba06a5809b6143749",name:"Analytics : Indirect Sites Buyfrom_Reseller",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Buyfrom_Reseller"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for buyfrom Reseller%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL00ce3927bb6b435194d569f2c093c8ad",name:"Page Load Rule : LISA New Zealand",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovonzpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.77);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.002);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.20;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.15;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.13;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.77;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.40;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.17;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.002;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.16;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.39;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.52;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.19;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.02;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL0180fef7d084438790e4ff5f08dfd4ae",name:"Direct Call Rule : Homepage : Recommendation",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"recommendation_tracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Homepage : Recommendation%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL01cc8d468b8343c2936f8f8c72fb1ccd",name:"Page Load : Cart View : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Cart View%",rightOperand:"Cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%cart:event:name%",rightOperand:"scadd"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Cart View%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL021a082e8e054daf8beab3628c3e83bb",name:"Tealium : SG - Google Analytics (gtag.js) : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%domain%",rightOperand:"tele-hybris.lenovo.com"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/sg/tele/en/"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("sg"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"sg"==_satellite.getVar("Country Code").toLocaleLowerCase())&&document.URL.toLowerCase().includes("lenovo.com/sg/")&&1!=document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/sg/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCab480b543b3f433d8d7b16a3ca08265a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL023100ddfc7c45eba0b84e93dea08896",name:"Tealium : Clickforce - All pages - TW SMB",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/tw")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/tw"))&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele")&&lmd.storeID.toLowerCase().includes("tw_smbpro"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa8aae39aa9544912adc0172aa5bb20c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL02d9c593d149476d9955d55be32dedad",name:"Direct Call Rule : Loyalty Account Registration : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rew_join_register"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Loyalty Account Registration%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL03ce8d28bc704e069700db20cf374805",name:"Third Party Pixel : USI - Upsellit Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS countries%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdcfb84dba3ca47b29f6e5e7ee9b950f0-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL03f6360f3da94bc88810f2066f8a33b3",name:"Page Load Rule : LISA Sweden",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovosepub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.19;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.14;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.15;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.90;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.40;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.20;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.15;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.41;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.53;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.21;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.03;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.01;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL049fa08997af49fea0bc7d07290e1814",name:"EMEA : pixel Wunderkind Non Conversion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|wunderkind|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC90bc1d2b75884c30a262f7954695249c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL04f485b9babd4089a2e83efb4626cb0a",name:"EMEA: Custom Overrides",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|custom override|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().indexOf("/d/")>-1||window.location.href.toLowerCase().indexOf("/dg/")>-1||0==$('meta[name="platform"]').length||0!=$('meta[name="platform"]').length&&"mfe"==$('meta[name="platform"]').attr("content").toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC72ac800ef5d84101a77ae3915acd8384-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL050fc8330fd54f10a80f0e1996bd48f1",name:"Scrape User Email - Shipping Details - EMEA",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#checkoutButton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%EMEA - B countries%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0d2c5d091fa34161a0f14aeca22fa43b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL052c693fe1164163a9bbde431df5b25d",name:"ZZ_NP_Tealium : implement Tag to Yoga pages : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.toLowerCase().includes("/yoga/")||document.URL.toLowerCase().includes("/c/yoga-c-series"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC129b61ada531463895fb9716f3c0a209-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL053d300617d04c4cacc8915f07b51417",name:"IN Amazon LinkOut Landing Page Visits : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.includes("/in/en/d/yoga-intel-products")||window.location.href.includes("/in/en/d/intel-gaming-deals"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa3c32d4eb6a14c95b45315c029532c91-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL059f8369d76940b5a97faf42a2014067",name:"Evidon Consent Checker US Custom",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-accept",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#_evidon-banner-acceptbutton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-decline",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.toLowerCase().includes("preaccount.lenovo.com/le/epps/us/1213805614/en/b2baccount")||document.URL.toLowerCase().includes("pre-www.lenovo.com/le/epps/us/1213805614/"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9efd48a4d58e4da78efa514fd0529928-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL05fafbbdd7df4473aeaba1c31e612bb0",name:"Custom Code : Page Load : DCG - LDR New - New Widget UI : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|dcg ldr|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Data Center or Systems%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not DCG Service%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3cb4c4bb30194a248ea5ab36011adad9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL063701cdb31c423ba9d8272f8f0351c1",name:"Page Load : Cart Add : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%cart:event:name%",rightOperand:"scadd"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%cart:cartID%",rightOperand:".+"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Hybris Cart Add%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'_satellite.notify(JSON.stringify(lmd));\n//Jef 31:05:23\n_satellite.getVar(\'GA4 Init\')\nwindow.dataLayer = window.dataLayer || [];\n\nfunction gtag() {\n    dataLayer.push(arguments);\n    _satellite.logger.log(\'Inside gtag function\')\n}\n//\nconsole.log("GA4:Hybrid Add to Cart");\nvar productlistitems = {}\nvar productListItemsArr = []\n//Creates an array of configurations to be added into products\ntry{\n\n\tvar numberofProducts = document.getElementsByClassName("cart-item").length;\n  var cssdetails\n  var configurationdetails =[];\n  var configCPU = [],configOS = [],configDisplay = [],configMeM = [],configHDD = [],configFrontBattery = [],configRearBattery = [],configBodyColor = [];\n  \n  for(var i =0;i<numberofProducts;i++){\n  if(document.getElementsByClassName("cart-item")[i].getAttribute("data-is-cto") == "true" )\n\t{\n   cssdetails =  document.getElementsByClassName("cart-item")[i].getAttribute("data-p-configuration");\n   cssdetails = cssdetails.replace("[","{").replace("]","}");\n    cssdetails = cssdetails.replace(/\\:/g,\'":"\');\n\tvar re = /_/gi\n    var configJSON = JSON.parse(cssdetails);\n    \n\t configCPU[i] = configJSON.NB_CPU?configJSON.NB_CPU:configJSON.NB_SP?configJSON.NB_SP:configJSON.DTCPU?configJSON.DTCPU:configJSON.EPCPU?configJSON.EPCPU:configJSON.ISESP?configJSON.ISESP:configJSON.ISESP1?configJSON.ISESP1:configJSON.DUM_DTCPU_M600?configJSON.DUM_DTCPU_M600:configJSON.NBCPUCP?configJSON.NBCPUCP:configJSON.DUM_DTCPU_M600?configJSON.DUM_DTCPU_M600:configJSON.DUM_DTCPU_X1?configJSON.DUM_DTCPU_X1:"Not Found";\n\t if(configCPU[i].indexOf(\'_\')>=0)\n\t\tconfigCPU[i] = configCPU[i].replace(re,\' \'); \n\t\t\n\t configOS[i] = configJSON.NB_OSL?configJSON.NB_OSL:configJSON.NB_PRELOAD_OS?configJSON.NB_PRELOAD_OS:configJSON.DTOS?configJSON.DTOS:configJSON.DTPRELOAD_OS?configJSON.DTPRELOAD_OS:configJSON.EPOS?configJSON.EPOS:configJSON.EPPRELOAD_OS?configJSON.EPPRELOAD_OS:configJSON.ISEOS?configJSON.ISEPRELOAD_OS:configJSON.NBY70015ISKOTHER2?configJSON.NBY70015ISKOTHER2:configJSON.NBMARKETINGOS?configJSON.NBMARKETINGOS:"Not Found";\n\t if(configOS[i].indexOf(\'_\')>=0)\n\t\tconfigOS[i] = configOS[i].replace(re,\' \'); \n\t\t\n\t configDisplay[i] = configJSON.NB_DPY?configJSON.NB_DPY:configJSON.NB_TS?configJSON.NB_TS:configJSON.NB_DISPLAY?configJSON.NB_DISPLAY:configJSON.NBLCD?configJSON.NBLCD:"Not Found";\n\t if(configDisplay[i].indexOf(\'_\')>=0)\n\t\tconfigDisplay[i] = configDisplay[i].replace(re,\' \'); \n\t\t\n\t configMeM[i] = configJSON.NB_MEM?configJSON.NB_MEM:configJSON.DTMEMORY?configJSON.DTMEMORY:configJSON.Memory?configJSON.Memory:configJSON.EPMEMORY?configJSON.EPMEMORY:configJSON.EPMEMORY1?configJSON.EPMEMORY1:configJSON.ISEMEM1?configJSON.ISEMEM1:configJSON.NBRAM?configJSON.NBRAM:configJSON.NBONBOARDRAM?configJSON.NBONBOARDRAM:"Not Found";\n\t if(configMeM[i].indexOf(\'_\')>=0)\n\t\tconfigMeM[i] = configMeM[i].replace(re,\' \'); \n\t\t\n\t configHDD[i] = configJSON.NB_HDD?configJSON.NB_HDD:configJSON.DTHDD1?configJSON.DTHDD1:configJSON.ISEHDD1?configJSON.ISEHDD1:configJSON.DTFIRST_HARD_DRIVE?configJSON.DTFIRST_HARD_DRIVE:configJSON.NB_HDD1?configJSON.NB_HDD1:configJSON.NB_HDD3?configJSON.NB_HDD3:configJSON.NB_HDD?configJSON.NB_HDD:"Not Found";\n\t if(configHDD[i].indexOf(\'_\')>=0)\n\t\tconfigHDD[i] = configHDD[i].replace(re,\' \'); \n\t\t\n\t configFrontBattery[i] = configJSON.NB_BAT?configJSON.NB_BAT:configJSON.NBBATTERY?configJSON.NBBATTERY:"Not Found";\n\t if(configFrontBattery[i].indexOf(\'_\')>=0)\n\t\tconfigFrontBattery[i] = configFrontBattery[i].replace(re,\' \').replace("FRONT","F"); \n\t\t\n\t configRearBattery[i] = configJSON.NB_BAT2?configJSON.NB_BAT2:"Not Found";\n\t if(configRearBattery[i].indexOf(\'_\')>=0)\n\t\tconfigRearBattery[i] = configRearBattery[i].replace(re,\' \').replace("REAR","R"); \n\t\t\n\t configBodyColor[i] = configJSON.NB_BODY_COLOR?configJSON.NB_BODY_COLOR:configJSON.NBBASE?configJSON.NBBASE:"Not Found";\n\tif(configBodyColor[i].indexOf(\'_\')>=0)\n\t\tconfigBodyColor[i] = configBodyColor[i].replace(re,\' \'); \t\n    \n    _satellite.notify(configCPU[i],1);\n\t_satellite.notify(configOS[i],1);\n\t_satellite.notify(configDisplay[i],1);\n\t_satellite.notify(configMeM[i],1);\n\t_satellite.notify(configHDD[i],1);\n\t_satellite.notify(configFrontBattery[i],1);\n\t_satellite.notify(configRearBattery[i],1);\n\t_satellite.notify(configBodyColor[i],1);\n\t}\n\telse{}\n}\n}\n\ncatch(e) {}\n//configuration details to be added only when corresponding lmd.cart.allProducts.type is "Commercial Notebook" & lmd.cart.allProducts.configType is CTO\n\ntry{\n//var cartcoreproduct =\n // get core products available in the cart\nvar productList=lmd.cart.allProducts;\n//code to replace "-" in the list of product ids\nfor(i=0;i<productList.length;i++){\n\tproductList[i].productID = productList[i].productID.indexOf("-")>0?productList[i].productID.split(\'-\')[0]:productList[i].productID;\n\n}\n\nvar products=""; var configcounter = 0; \nvar val = productList[productList.length - 1];\n//console.log("this is the value" + val);\nconsole.log(val.productID + "\'" + val.quantity);\n\n//for (x=0;x<productList.length;x++){\n\t//if(productList[x].configType == "CTO" ){\n       if(val.configType == "CTO" ){\n         if(val.itadminrecommend!=="")\n         {\n          productlistitems.item_id = val.productID\n          productlistitems.quantity = Number(val.quantity)\n          productlistitems.price = Number(val.price)\n         // productlistitems.dimension23 = val.itadminrecommend\n          //productlistitems.dimension208 = configCPU[configcounter]\n          //productlistitems.dimension209 = configOS[configcounter]\n          //productlistitems.dimension210 = configDisplay[configcounter]\n          //productlistitems.dimension211 = configMeM[configcounter]\n          //productlistitems.dimension212 = configHDD[configcounter]\n          //productlistitems.dimension213 = configFrontBattery[configcounter] + "|" + configRearBattery[configcounter] + "|" + configBodyColor[configcounter]\n\n          //events\n          //productlistitems.metric299=val.quantity\n          //productlistitems.metric300=val.price\n\n\n          productListItemsArr.push(productlistitems)\n         }\n         else{\n          productlistitems.item_id = val.productID\n          productlistitems.quantity = Number(val.quantity)\n          productlistitems.price = Number(val.price)\n          //// productlistitems.dimension23 = val.itadminrecommend\n          //productlistitems.dimension208 = configCPU[configcounter]\n          //productlistitems.dimension209 = configOS[configcounter]\n          //productlistitems.dimension210 = configDisplay[configcounter]\n          //productlistitems.dimension211 = configMeM[configcounter]\n          //productlistitems.dimension212 = configHDD[configcounter]\n          //productlistitems.dimension213 = configFrontBattery[configcounter] + "|" + configRearBattery[configcounter] + "|" + configBodyColor[configcounter]\n\n\n\n          //events\n          //productlistitems.metric299=val.quantity\n          //productlistitems.metric300=val.price\n          productListItemsArr.push(productlistitems) \n        }\n           configcounter++\n         \n\t\t}\n\telse{\n      if(val.itadminrecommend!=="")\n         {\n          productlistitems.item_id = val.productID\n          productlistitems.quantity = Number(val.quantity)\n          productlistitems.price = Number(val.price)\n         // productlistitems.dimension23 = val.itadminrecommend\n          productListItemsArr.push(productlistitems)\n\n\n          //events\n          //productlistitems.metric299=val.quantity\n          //productlistitems.metric300=val.price\n         }\n      else{\n        productlistitems.item_id = val.productID\n        productlistitems.quantity = Number(val.quantity)\n        productlistitems.price = Number(val.price)\n\n        //events\n        //productlistitems.metric299=val.quantity\n        //productlistitems.metric300=val.price\n        productListItemsArr.push(productlistitems)\n    }\n\t}\n // }\n\n\n// if(typeof s.events !== "undefined")\n// s.events = s.events + ",event299,event300," + "scView,scAdd,scOpen:"+_satellite.getVar("cart:cartID")+_satellite.getVar("cc")+_satellite.getVar("storeID");\n// else\n//   s.events = "event299,event300," + "scView,scAdd,scOpen:"+_satellite.getVar("cart:cartID")+_satellite.getVar("cc")+_satellite.getVar("storeID");\n// console.log("entered scOPen "+ s.events);\n\nvar dim63 = _satellite.getVar("reportSuite");\n\ngtag("event", "add_to_cart", {\n  currency: "USD",\n  items: productListItemsArr,\n  //adobe_report_suite:dim63,\n  internal_promotion: _satellite.getVar(\'internalPromotion\'),\n  site_country: _satellite.getVar(\'cc\'),\n  store_id: _satellite.getVar(\'store":storeID\'),\n  coupon: _satellite.getVar(\'eCoupon\'),\n  site_section: _satellite.getVar(\'sectionDetail\'),\n  tracking_rep_id: _satellite.getVar(\'lmd_repID\'),\n  site_business: _satellite.getVar(\'lmd_bu\'),\n  page_name: lmd.pagename,\n  adobe_report_suite: _satellite.getVar(\'reportSuite\'),\n  url: _satellite.getVar(\'URL\'),\n  site_language: _satellite.getVar(\'Language\'),\n  ecid: _satellite.getVar("visitor:compatibleID"),\n  user_agent: _satellite.getVar(\'User Agent\'),\n  bpid_store_id: _satellite.getVar("BPID") + "|" + _satellite.getVar("store:storeID"),\n  group_id: _satellite.getVar(\'GroupID\'),\n  previous_page_url: _satellite.getVar("Referrer URL")\n});\n\n\ngtag(\'set\', {\n  //evars\n  //adobe_report_suite:null,\n      items:null,\n    internal_promotion:null,\n    site_country:null,\n    store_id:null,\n    coupon:null,\n    site_section:null,\n    tracking_rep_id:null,\n    site_business:null,\n    page_name:null,\n    adobe_report_suite:null,\n    url:null,\n    user_location:null,\n    site_language:null,\n    ecid:null,\n    user_agent:null,\n    bpid_store_id:null,\n    group_id:null,\n    previous_page_url:null\n  \n \n});\n  \n}\ncatch(e){\n  console.log("Error in GA4 add_to_cart custom code"+e)\n}',language:"javascript"}}]},{id:"RL069f6564cd00493d99e93a60dd271a0b",name:"Third Party Pixel : Adform - Timer 60Sec : EMEA + APAC + LATAM + NA",events:[{modulePath:"core/src/lib/events/timeOnPage.js",settings:{timeOnPage:60},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){
if("eet"==_satellite.getVar("Region Code").toLowerCase()||"russia/cis"==_satellite.getVar("Region Code").toLowerCase()||"mea"==_satellite.getVar("Region Code").toLowerCase()||"we"==_satellite.getVar("Region Code").toLowerCase()||"emea"==_satellite.getVar("Region Code").toLowerCase()||"htk"==_satellite.getVar("Region Code").toLowerCase()||"asean"==_satellite.getVar("Region Code").toLowerCase()||"cap"==_satellite.getVar("Region Code").toLowerCase()||"sasia"==_satellite.getVar("Region Code").toLowerCase()||"latam"==_satellite.getVar("Region Code").toLowerCase()||"na"==_satellite.getVar("Region Code").toLowerCase()||"jpregion"==_satellite.getVar("Region Code").toLowerCase()||"las"==_satellite.getVar("Region Code").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcd74bbf2348a431b84a12804f12f0f4c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf6ad721fa96f4da88ab4ff047a8e5f35-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL06e457eca861416690d1589423e5e7e1",name:"Tealium : KR - Google Tag Manager - Thank you Page Extension : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("uat-www.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-www.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com")&&(document.URL.includes("/thankyou")||lmd.pageName.includes("/thankyou")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8eba0476abc64e3c80d6d332392f534e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL071ccac2f359404dbe784c71c082e674",name:"Third party pixel : Page Load : Quantum Metric : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|quantum metric|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=document.domain,t=lmd.bu;if("pre-c-hybris.lenovo.com"!=e&&e.includes(".lenovo.com")&&("public"==t.toLowerCase()||"public_consumer"==t.toLowerCase()||"smb"==t.toLowerCase()||lmd.storeID.indexOf("edu")>-1))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1!=_satellite.getVar("Disable Pixel On Email URL For EMEA")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"quantum-metric/src/lib/actions/startCapture.js",settings:{configuration:"default"}}]},{id:"RL07324614477e444bb7c3ef19be9ac2a3",name:"EMEA - Pixel Bluecore - Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|bluecore|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC664dd8b8c3814b4abf781f9820f5b742-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL07b309618f004bcab075cd5e2253ec68",name:"Mask checkout AR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Argentina%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%IS Checkout Page%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC80279ab5190d458b91c4268519b099f8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL07ff0f9bea4343f683f6116bd9eeb70b",name:"Marketing : Reseller : Registration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"hashed_email_tracking"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.URL.includes("www.lenovo.com/us/en/business/reseller-benefits/form/")||document.URL.includes("gp.wd.lenovo.com/en/signup/prtlen23")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0d99d7dd3928495987160126583d83c1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd1cf54fdebbb4c76a8da1131072c7e1c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc8b2c42c19e24ed99b7bc6046fae357c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8a44c32069ea442aa499b7184adb8768-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0865a52b08f349a4a171d415bcd946bc",name:"Page Load Rule : LISA Netherlands",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovonlpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem('rec_score') == \"\" || localStorage.getItem('rec_score') == '' || localStorage.getItem('rec_score') == \"Undefined\" || localStorage.getItem('rec_score') == \"undefined\" || localStorage.getItem('rec_score') == null || localStorage.getItem('rec_score') == \"0\")\n    {\n      localStorage.setItem('rec_score', 1.0);\n    //  console.log(\"rec_test\"+localStorage.getItem('rec_score'));\n    \n    }\nif( localStorage.getItem('fre_score') == \"\" || localStorage.getItem('fre_score') == '' || localStorage.getItem('fre_score') == \"Undefined\" || localStorage.getItem('fre_score') == \"undefined\" || localStorage.getItem('fre_score') == null || localStorage.getItem('fre_score') == \"0\")\n    {\n      localStorage.setItem('fre_score', 0.98);\n    \n    }\nif( localStorage.getItem('dur_score') == \"\" || localStorage.getItem('dur_score') == '' || localStorage.getItem('dur_score') == \"Undefined\" || localStorage.getItem('dur_score') == \"undefined\" || localStorage.getItem('dur_score') == null || localStorage.getItem('dur_score') == \"0\")\n    {\n      localStorage.setItem('dur_score', 0.0);\n    \n    }\nif(localStorage.getItem('tot_rfd_score')==\"NaN\" || localStorage.getItem('tot_rfd_score') == \"\" || localStorage.getItem('tot_rfd_score') == '' || localStorage.getItem('tot_rfd_score') == \"Undefined\" || localStorage.getItem('tot_rfd_score') == \"undefined\" || localStorage.getItem('tot_rfd_score') == null || localStorage.getItem('tot_rfd_score') == \"0\")\n    {\n      localStorage.setItem('tot_rfd_score', 0.0);\n    //  console.log(\"typeof tot_rfd_score3\"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem('score')==\"NaN\" || localStorage.getItem('score') == \"\" || localStorage.getItem('score') == '' || localStorage.getItem('score') == \"Undefined\" || localStorage.getItem('score') == \"undefined\" || localStorage.getItem('score') == null || localStorage.getItem('score') == \"0\")\n    {\n      localStorage.setItem('score', 0.0);\n      \n    \n    }\nif(localStorage.getItem('cur_eng_score')==\"NaN\" || localStorage.getItem('cur_eng_score') == \"\" || localStorage.getItem('cur_eng_score') == '' || localStorage.getItem('cur_eng_score') == \"Undefined\" || localStorage.getItem('cur_eng_score') == \"undefined\" || localStorage.getItem('cur_eng_score') == null || localStorage.getItem('cur_eng_score') == \"0\")\n    {\n      localStorage.setItem('cur_eng_score', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem('tot_prev_score');\n        if(la_total_rdf!=\"NaN\"){\n        var last_total_rdf=parseFloat(localStorage.getItem('tot_prev_score'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem(\"rec_score\"));\nvar last_frequency=parseFloat(localStorage.getItem(\"fre_score\"));\nvar last_duration=parseFloat(localStorage.getItem(\"dur_score\"));\n//console.log(\"----last_recency---\"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem('score') == \"\" || localStorage.getItem('score') == '' || localStorage.getItem('score') == \"Undefined\" || localStorage.getItem('score') == \"undefined\" || localStorage.getItem('score') == null  || localStorage.getItem('score')==\"NaN\" )\n    {\n      localStorage.setItem('score', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem('last_total_rdf') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x==\"New Visitor\")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search(\"day\");\n\t\tvar recency_minute=x.search(\"minute\");\n\t\tvar recency_hour=x.search(\"hour\");\n\t\tvar recency_month=x.search(\"month\");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency==\"\" || last_recency==\"NaN\" || last_recency==\"null\" ||last_recency==\"undefined\")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.22;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.17;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.09;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.20;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log(\"rec_test not equal to last\");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log(\"rec_test equal to last\");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.98;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.34;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.17;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z==\"first hit of visit\" ||z==\"less than a minute\")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search(\"Day\");\n      var duration_minute=z.search(\"minute\");\n      var duration_hour=z.search(\"hour\");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.25;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.47;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.49;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.19;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration==\"undefined\")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n     localStorage.setItem('rec_score',cur_recency_score);\n    \n     \n      localStorage.setItem('fre_score',cur_visit_num_bucket);\n     \n      //duration on local storage\n      localStorage.setItem('dur_score',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n  //  console.log(\"duration score:\"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!=\"undefined\" || cur_dur_score!=undefined ||cur_dur_score!=\"\"){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n      //  console.log(\"typeof recency1\"+typeof(cur_recency_score))\n      //  console.log(\"total_cur_score\"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n  \n      }\n       \n    \n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem(\"tot_rfd_score\"))+total_cur_score;\n        localStorage.setItem('tot_rfd_score',parseFloat(total_cur_add_score));\n        \n       localStorage.setItem('tot_prev_score',total_cur_score);\n     \n        }\n        else{\n     \n         var total_cur_add_score=parseFloat(localStorage.getItem(\"tot_rfd_score\"));\n        localStorage.setItem('tot_rfd_score',parseFloat(total_cur_add_score));\n         \n          localStorage.setItem('tot_prev_score',total_cur_score);\n      \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem(\"score\"))+total_cur_score).toFixed(2);\n   \n       \n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem(\"tot_prev_score\")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem(\"score\")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,'s_tot_rfd',0);\nvar cur_eng_val=getValOnce(cur_eng_score_change,'s_eng_rfd',0);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem(\"tot_prev_score\"))+parseFloat(localStorage.getItem(\"cur_eng_score\"))).toFixed(2);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar(\"LISA RFD Score\")+_satellite.getVar(\"LISA Engagement Score\")).toFixed(2));\n\nif(cur_tot_val)\n{\n\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n \n    \n  }\n  \n}\n\n \nelse\n{\n\n  console.log(\"Third else No Paas\")\n}\n \n\n    ",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL08779c58590f48b49f04c02d32fc6f6c",name:"IN Daily Hunt Pixel Yoga & Legion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/in/en/gaming/shop",valueIsRegex:!0},{value:"/in/en/d/yoga-intel-products",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC18cef028bba844ce9dae70ae6095f2ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL09532baf72634fbea2151a75ae38e0fa",name:"Direct Call : OMO : checkoutpage1",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"checkoutpage1"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for OMO Checkoutpage1%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL097a21962f5f41a984a4307935c751c5",name:"EMEA : pixels UpSellit - Nov 23 2015 Conversion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|upsellit|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 0==location.search.toLowerCase().includes("cid=gb:sem|se|google|")&&"googlestadia"!=lmd.storeID.toLowerCase()&&(document.URL.toLowerCase().includes("thankyoupage")||document.URL.toLowerCase().includes("thankyou")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage"))&&"tele-hybris.lenovo.com"!=document.domain}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7c0c260ce3854a2e965c7b6d29eae9d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL09caf206bdf644b7aa08a2b8a019c172",name:"JP-A8-smbregistration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&location.pathname.includes("/jp/lenovopro/ja/smbaccount/gatekeeper/showpage"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC37c661dd04814d988a1ef8c0670d0a90-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0a0d10135dfe485aa7906b0849a46834",name:"Tealium : LinkedIn Insight Tag - NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())&&1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{}}]},{id:"RL0aca3ff0b8fb441789ba0b60fb8f1c0e",name:"B2B - Pixels Tealium Custom Container - UNC Chapel Hill - PLP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if("1213063032"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("laptops"))return!0;if("1213063032"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("tablets"))return!0;if("1213063032"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("desktops"))return!0;if("1213063032"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("workstations"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc077800803bd4fd298a1b7affbcd57c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b19fb3c9acf4741ba236d39cc974c9d",name:"Direct Call Rule : LPP Notification Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"LPP_Notify"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for LPP Notification Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL0b46d7b8e4bc42dca94c0d0efc0315f1",name:"Third Party Pixel : Twitter Universal Tag - Homepage : Twitter : IN",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/in/en"},{value:"/in/en/pc",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(e,t,o,n,r,a){try{for(r={is:[e,t],dt:[],tm:[],hd:0,ms:0},a=0;a<2;a++)o=r.is[a].substring(0,8),n=r.is[a].substring(8),r.dt[a]=new Date,console.log(r.dt[a]),"--------"!==o&&(r.dt[a].setFullYear(o.substring(0,4)),r.dt[a].setMonth(parseInt(o.substring(4,6))-1),r.dt[a].setDate(o.substring(6,8))),"----"!==n?(r.dt[a].setHours(n.substring(0,2)),r.dt[a].setMinutes(n.substring(2,4))):(r.dt[a].setHours(r.hd),r.dt[a].setMinutes(r.ms)),r.dt[a].setSeconds(r.ms),r.tm[a]=r.dt[a].getTime(),r.hd=23,r.ms=59;return r.n=(new Date).getTime(),r.n>=r.tm[0]&&r.n<=r.tm[1]}catch(t){return!1}}("202209290000","202303312359")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC87f4858c0cea435a9b56b7caf199dd7f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0ba23f893cb241dfa2a879c94fcbac5e",name:"Assembly - Conversion - ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"au|nz",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC134c121e3e064c64bd359a9cdb126fd2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0bbbc1423b724421b8ba6aa22b60f2a1",name:"East EMEA : LinkedIn Insight Tag - DCG pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|linkedin|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{}}]},{id:"RL0bbfa86e1eda4374b85e5182c3e73fd3",name:"Tealium : KR - Google Tag Manager : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/kr/ko/")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&(1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")||1!=document.URL.toLowerCase().includes("lenovotele")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbcfa9b75e1524c568ce64ace329a2454-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0be74912b59b43c79a7abb2ebc7e0830",name:"Tealium : KR Google Remarketing Tag : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf40b3e2779b84730b6bf016b11c493b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c5c72f7131548af9c35d40331bda903",name:"Third Party Pixel : Adform - Timer 30Sec : EMEA + APAC + LATAM + NA",events:[{modulePath:"core/src/lib/events/timeOnPage.js",settings:{timeOnPage:30},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eet"==_satellite.getVar("Region Code").toLowerCase()||"russia/cis"==_satellite.getVar("Region Code").toLowerCase()||"mea"==_satellite.getVar("Region Code").toLowerCase()||"we"==_satellite.getVar("Region Code").toLowerCase()||"emea"==_satellite.getVar("Region Code").toLowerCase()||"htk"==_satellite.getVar("Region Code").toLowerCase()||"asean"==_satellite.getVar("Region Code").toLowerCase()||"cap"==_satellite.getVar("Region Code").toLowerCase()||"sasia"==_satellite.getVar("Region Code").toLowerCase()||"latam"==_satellite.getVar("Region Code").toLowerCase()||"na"==_satellite.getVar("Region Code").toLowerCase()||"jpregion"==_satellite.getVar("Region Code").toLowerCase()||"las"==_satellite.getVar("Region Code").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd5238fb56bd846e198cd3fca42731928-source.min.js",language:"javascript",
isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCabfd7e0290674e849be74fc897c60d26-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0cc6338a9dd1494d9e643e969d14317c",name:"Page Load Rule : Global",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(_satellite.getVar("Platform")&&"flash"==_satellite.getVar("Platform").toLowerCase()&&location.pathname.indexOf("/p/")>-1||lmd.taxonomytype.indexOf("dealspage")>-1||lmd.taxonomytype.indexOf("dlp")>-1)}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    if (_satellite.getVar("Adobe Consent Cookie") !== undefined &&  _satellite.getVar("Target Global Exclude Trigger")==true) {\n        alloy("setConsent", {\n            consent: [{\n                standard: "Adobe",\n                version: "2.0",\n                value: _satellite.getVar("Consent JSON")\n            }]\n        });\n    }\n} catch (e) {}',language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object Page Load%",type:"web.webpagedetails.pageViews",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{development:{}}}},{modulePath:"core/src/lib/actions/directCall.js",settings:{identifier:"flashtalking_guid"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'//Jef 9/3/2023\nwindow.onload = function() {\n    if (window.location.href != sessionStorage.getItem("origin")) {\n        sessionStorage.removeItem(\'origin\');\n      sessionStorage.removeItem(\'PageTimerVal\');\n    }\n  /*Cart Id for Serialization, added by Vaibhav 12/4/2023*/\n    if(typeof lmd.cart != "undefined" && typeof lmd.cart.cartID != "undefined"){\n      sessionStorage.cartID=lmd.cart.cartID\n    }\n}',language:"javascript"}}]},{id:"RL0df81970525844f79d270f72ae55e9d8",name:"Whatsapp button - Indirect Countries",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%IS Homepage%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%is Not Thankyou%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS indirect%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe71ad852843a434381ffd54e44cf87fa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0ea2d3a847154e719ff701e93d0ab9a7",name:"Confirmit : Part Sale Survey : EN sites",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.includes("partsale")&&document.URL.includes("thankyou"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Language%",rightOperand:"en"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc97f93a32d7d454cad7cbee0f81d5a2d-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0ed4c29f264947ba8f6866faec29de95",name:"Direct Call Rule : Tab Tracking : All Sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Tab"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Tab Tracking : All Sites%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL0f38c0aa2a054a6fa8f2924471bb774b",name:"Third Party Pixel : Bing Page load : NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==_satellite.getVar("Target : Country")||"us"==_satellite.getVar("Target : Country"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"bing-ads-extension/src/lib/actions/baseTag.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC066879d2fa624a949ca9dcdee67c3b41-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0f5faad6e12940cd93d029a725073b11",name:"Tealium : Marketo - Global : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1==_satellite.getVar("AP Countries")&&1!=lmd.taxonomytype.toLowerCase().includes("cart")&&1!=location.pathname.toLowerCase().includes("thankyou")&&1!=location.pathname.toLowerCase().includes("newsletter")&&1!=location.pathname.toLowerCase().includes("chat-popup")&&(1!=location.pathname.toLowerCase().includes("checkout")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||1!=location.hostname.toLowerCase().includes("checkout.lenovo.com")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||location.pathname.toLowerCase().includes("orderconfirmation")||location.search.toLowerCase().includes("thankyoupage")||location.search.includes("YourOrderIsBeingProcessedPage"))&&1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC861e0d3ee1f343d9a6f6f450eacd7a35-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL105d935104fc4746b6363a47067da4f4",name:"Tealium : KR - Google AdWords Remarketing : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&(1!=location.pathname.includes("checkout")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||1!=location.hostname.toLowerCase().includes("checkout.lenovo.com")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||location.pathname.toLowerCase().includes("orderconfirmation")||location.search.toLowerCase().includes("thankyoupage")||location.search.toLowerCase().includes("YourOrderIsBeingProcessedPage"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC447f3522f99b49419520e53225cdaba8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL108dde56913d49a6b65f5e1429f572ce",name:"Tealium : TW Subseries - Yahoo AD Dot Code",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&"/customize"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/tw")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/tw"))&&location.pathname.toLowerCase().includes("/p/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe80152ad35284bf4b1b1f31f77ac074b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL109de6a848004a289511668ef0debfeb",name:"Tealium: Google Ads | Conversion Tracking & Remarketing - ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1==location.pathname.indexOf("checkout")&&"account.lenovo.com"!=location.hostname||"account.lenovo.com"!=location.hostname&&"checkout.lenovo.com"!=location.hostname||-1!=location.pathname.indexOf("orderconfirmation")||-1!=location.search.indexOf("thankyoupage")||-1!=location.search.indexOf("thankyou")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^au|nz$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7f1a5dbcbd9741618873c2aaf6464add-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL10c607dad028486cbd5113099107ac58",name:"Analytics: DCR: Segment Preference",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"segment_preferences"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object : Analytics: DCR: Segment Preference%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL115b424fafb14842b7b5e7ebb9f617c7",name:"LAS : BR Facebook Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Facebook Consent Rules%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC452839db970c4fb880a7c5055e59f68d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL11729c985a0f4e9a9444b3411facd537",name:"Tealium : Override | Product builder | Accessories, services and software discount banner - TW",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&lmd.internalsearchcanonical.includes("/product_builder")&&(window.location.href.toLowerCase().includes("lenovo.com/tw")&&1!=window.location.href.toLowerCase().includes("/twshadow")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/tw")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC40036a33cf0d4662915d9efdbc341d01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL117edf0181ad4ca689b8ee1e88e21954",name:"Third Party Pixel:Load Insight:Linkedin:ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^au|nz$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==location.pathname.toLowerCase().includes("/servers-storage/")||document.URL.toLowerCase().includes("lenovo.com/au/en/lenovo-pro/business/m365/")||document.URL.toLowerCase().includes("account.lenovo.com/au/lenovopro/en/smbaccount/gatekeeper/showpage")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL119eed554e924504a52275e2d02feff0",name:"Direct Call Rule : Confirmit Survey Next : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"survey_next"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL12089bfaea9b4684a521a32cd16182eb",name:"EMEA : pixels Google Ads Conversion Tracking & Remarketing - Test",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|google ads|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/p/",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC11921975f83640d6abdfd98cea697ab5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL129fc404c8884be6863b16b8728ca517",name:"Third Party Pixel : Facebook Pixel (V2): Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("emea"==lmd.regioncode.toLowerCase()||"cap"==lmd.regioncode.toLowerCase()||"sasia"==lmd.regioncode.toLowerCase()||"latam"==lmd.regioncode.toLowerCase()||"br"==lmd.cc.toLowerCase()||"na"==lmd.regioncode.toLowerCase()||"jpregion"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("Not Checkout or Account")||1==document.URL.toLowerCase().includes("/account/register/check")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public_consumer"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0===document.querySelector("meta[name=country]")||"br"!=document.querySelector("meta[name=country]").content.toLowerCase()||void 0!==getConsentVendors("facebook")&&getConsentVendors("facebook")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC85d1a359237d4bf48a4e337c9d91a227-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL12bdb5abab31477a9c33f74de6c84a72",name:"EMEA : pixels LinkedIn Insight - Global (Including DCG)",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:5},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|linkedin|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(0==location.pathname.toLowerCase().includes("/data-center")||0==location.pathname.toLowerCase().includes("servers-storage")||"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&0==document.URL.toLowerCase().includes("lenovotele"))return!0;var e=/^(fr|de|gb|it|nl|es)$/;return matches=new RegExp(e).test(lmd.cc.toLowerCase()),e&&location.pathname.toLowerCase().includes("/data-center")||location.pathname.toLowerCase().includes("servers-storage")&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&0==document.URL.toLowerCase().includes("lenovotele")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{}}]},{id:"RL13189c339b8b41c79391b54ddc2451f2",name:"Page Load : Checkout Start",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%pageBreadCrumb%",rightOperand:"delivery address:checkout|shipping:checkout|Payment Details:Checkout"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Checkout Start%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL13399b9dec984ce0af2b7118849a4898",name:"Marketing : GA4 : View Item List",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.taxonomytype",value:"subseries",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"es"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC193acb091ba8431487ca09009a5125f2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL13593d86bd334cd0b2384de9810280f1",name:"Cart Addition : TikTok : Advertising EMEA",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("emea"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd39f5af56e3941c7ab7b28d35035776a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1363f6a34e324eea98b567d55c9c66ec",name:"Direct Call Rule : Internal Search : Shop By Category(No Result): All sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"NoSearch_SBC"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search : Shop By Category(No Result)%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL136f88a6ce064ebab5494b4c5bbcfae7",name:"EMEA : pixels Inside Chat new design",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|powerfront test|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=/^(gbtest|detest)$/;if(matches=lmd.storeID.toLowerCase().match(e),null!==matches?reg1_bool="true":reg1_bool="false","true"==reg1_bool)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd1bfe63f7b6046d3a2b0715c2f8f259b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1512cfd23f354f9998222c73c1512432",name:"Tealium: Criteo | All events : APEM",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("in"==_satellite.getVar("Country Code").toLocaleLowerCase()||"kr"==_satellite.getVar("Country Code").toLocaleLowerCase()||"my"==_satellite.getVar("Country Code").toLocaleLowerCase()||"sg"==_satellite.getVar("Country Code").toLocaleLowerCase()||"tw"==_satellite.getVar("Country Code").toLocaleLowerCase()||"th"==_satellite.getVar("Country Code").toLocaleLowerCase()||"ph"==_satellite.getVar("Country Code").toLocaleLowerCase()||"hk"==_satellite.getVar("Country Code").toLocaleLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbdc87d6df52f47ceb3971b978cf23d21-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL153f54053cd64040b870549fa8b6d144",name:"Tealium : Price Function : BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"homepage"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC426945a8cef54830bd2d906367f0cd63-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1649c6efc2db4c8ca76eb38021e87c01",name:"Hashed email: Checkout",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"span.continue",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL16b2e13bfced4d7582da66a44d43df93",name:"Linkedin - EMEA pixel",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|linkedin|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 0==location.pathname.toLowerCase().includes("goaccountverfy")&&0==document.referrer.toLowerCase().includes("smbregisterwithlid")&&(1!=location.pathname.toLowerCase().includes("checkout")&&"account.lenovo.com"!=location.hostname.toLowerCase()||"checkout.lenovo.com"!=location.hostname.toLowerCase()&&"account.lenovo.com"!=location.hostname.toLowerCase()||1==location.pathname.toLowerCase().includes("orderconfirmation")||1==location.pathname.toLowerCase().includes("thankyoupage")||1==location.pathname.toLowerCase().includes("thankyou")||1==location.pathname.toLowerCase().includes("yourorderisbeingprocessed"))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCea8ed5b5eaae46d9a837b8733872f9d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL16faf92167e94b82835e81f2002193d5",name:"Tealium : New Email Signup : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("hk"==lmd.cc.toLowerCase()&&lmd.language.toLowerCase().includes("zf")&&(document.URL.toLowerCase().includes("lenovo.com/hk")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/hk")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/hk")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2d4c27ecc5a34555951d9f469b19f37b-source.min.js",language:"javascript",isExternal:!0}}]
},{id:"RL17123546d9c2458686644fdc9e9b689b",name:"Third Party Pixel : CCPA : Evidon UCP : Mobile Close Btn",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#_evh-ric-c",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"us"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu",value:"LE"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd3fa2894f60b43f3951c360b06ec6dea-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1791296d8e5c4c1a94c06301270872e5",name:"Tealium : ConfirmIT Region NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())return 1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent&&"le"!==lmd.bu.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Tag Exclusion Condition%",rightOperand:"excludetag"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%Domain%",rightOperand:"uat-admin.lenovo"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Is Vantage%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfa91aedb634048f1896da421f12bc88f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL17d40ca84f0b4e42978d33a74c05b9e0",name:"Tealium: Criteo | For order confirmation page - AU|NZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nz"==_satellite.getVar("Country Code").toLocaleLowerCase()||"au"==_satellite.getVar("Country Code").toLocaleLowerCase()||"nz"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"au"==_satellite.getVar("Target : Country").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%domain%",rightOperand:"tele-hybris.lenovo.com"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"lenovotele"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbe030267f2ef49a485412ae25f24a195-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL17e36f51bde7438681a699a71ac9e6a3",name:"East EMEA : Google Universal Analytics - EET",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|google EET|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC19907d30ea4640d58277eb718dae2a92-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1802147b34eb4178b857a17789d69857",name:"Tealium : Movable Ink Tag - Page View - BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Meta Data : Business Unit%",rightOperand:"public_consumer|smb"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Movable Consent Rule%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC930368aad87f4d0b835a53d531c3940c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL186d9e937f15473dae56c87e151aac54",name:"Direct Call Rule : Type Ahead Search Recommended : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TypeAhead_Recommended"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TypeAhead_ Recommended"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Type Ahead Search Recommended%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL192ce65822dd4d33b38d7834c96aa6ea",name:"Confirmit Feedback Survey - Staging",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Staging Site%",rightOperand:"Staging"},timeout:2e3}],actions:[{modulePath:"confirmit-digital-feedback/src/lib/actions/loadProgram.js",settings:{customUrl:"https://digitalfeedback.us.confirmit.com/api/digitalfeedback",programKey:"WMDjYH",environment:"US"},timeout:2e3,delayNext:!0}]},{id:"RL19c14082e550481f86becabb01d7338a",name:"Third Party Pixel : Script Insertion : Floodlight : Yoga|Gaming-shop : IN",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/in/en/gaming/shop",valueIsRegex:!0},{value:"/in/en/d/yoga-intel-products",valueIsRegex:!0},{value:"/in/en/d/intel-gaming-deals"},{value:"/in/en/d/deals/tablets"},{value:"/in/en/sports-partners/formula1"},{value:"/in/en/techsogood"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=function(e,t,o,n,r,a){try{for(r={is:[e,t],dt:[],tm:[],hd:0,ms:0},a=0;a<2;a++)o=r.is[a].substring(0,8),n=r.is[a].substring(8),r.dt[a]=new Date,console.log(r.dt[a]),"--------"!==o&&(r.dt[a].setFullYear(o.substring(0,4)),r.dt[a].setMonth(parseInt(o.substring(4,6))-1),r.dt[a].setDate(o.substring(6,8))),"----"!==n?(r.dt[a].setHours(n.substring(0,2)),r.dt[a].setMinutes(n.substring(2,4))):(r.dt[a].setHours(r.hd),r.dt[a].setMinutes(r.ms)),r.dt[a].setSeconds(r.ms),r.tm[a]=r.dt[a].getTime(),r.hd=23,r.ms=59;return r.n=(new Date).getTime(),r.n>=r.tm[0]&&r.n<=r.tm[1]}catch(t){return!1}};return location.pathname.indexOf("/in/en/gaming/shop")>-1?e("202301140000","202304072359"):location.pathname.indexOf("/in/en/d/yoga-intel-products")>-1?e("202212300000","202303312359"):location.pathname.indexOf("/in/en/d/intel-gaming-deals")>-1?e("202212300000","202306312359"):location.pathname.indexOf("/in/en/d/deals/tablets")>-1||location.pathname.indexOf("/in/en/sports-partners/formula1")>-1?e("202212300000","202310312359"):location.pathname.indexOf("/in/en/techsogood")>-1?e("202310190000","202403312359"):void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2df84d92734f4d26a99fec20c38609ea-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1a0e0761d00749d8bbdcabe430540677",name:"BR - Tealium: Powerfront | Inside chat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%NOT pre-c%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Indirect Site and Mobile Devices%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"uat"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd16a01d8a8cd4f3dba338fc93b3b775f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a15cbee2c1c41a2ad098d18abc0964f",name:"Wunderkind - BR Page View",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:45},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:45},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou"))return!0}},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Wunderkind Consent Rules%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfc8f660379894c90aa22f38adc51487a-source.min.js",language:"html",isExternal:!0}}]},{id:"RL1a21f848c51b4040af7be02d1e32cae9",name:"Direct Call Rule : Registration : All Site (Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"registration"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Registration%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf089a78754f54f288c28f2a17af17fdf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a2be81f2df24814b39118b77b899cfd",name:"Direct Call : Community Registration : Marketing Pixels",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"community_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Community Registration : Marketing Pixels%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5b5345b070b243aaa61d0129cba7e57a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1b18cb969b944044903298d634aac6a4",name:"East EMEA : Facebook Pixel-EET DCG",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook EET DCG|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdd6adfa4f50f4eeab6d79b02dac0ef84-source.min.js",language:"html",isExternal:!0}}]},{id:"RL1b52cea384164986b9ab783bbcb84d08",name:"Direct Call Rule : recommend_cart_add",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"recommend_cart_add"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for recommend_cart_add%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL1b64c1d720944663b83173fbd6a05b44",name:"MSA Telesales Support : BR & LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%MSA Platform Page%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Tele hybris + tun-c + pre-c%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("LAS countries")&&_satellite.getVar("LAS countries")||lmd.cc&&"br"==lmd.cc.toLowerCase()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC57ff5ad465f748c2a27833405d322d27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b7ff286102b435080ec51923c85d902",name:"Marketing : Snapchat : US",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"us"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){const e=location.search.toLowerCase().includes("thankyoupage")||location.search.toLowerCase().includes("yourorderisbeingprocessedpage")||location.href.toLowerCase().includes("thankyou"),t="cart"===_satellite.getVar("Target : Meta Taxonomy Type").toLowerCase();return!(e||t)}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0c85893dc89f44b3a850ddcf6f2474fc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1cca15ff4d4240ef8cd57f0da6074b54",name:"Third Party Pixel : Adform Sandbox Test 1003 - Disable After May 31",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentChanged.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("gb"==lmd.cc.toLowerCase()&&("public"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2024-06-01T00:00:00Z",start:"2024-03-06T00:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2f3fc3c2ac2046abb92b9a260484dc2b-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1d5f2ae4b5d54f90b0584c15be0bfc4a",name:"Custom Code : Checkout : Summary Leadtime Message : BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/checkout/multi/summary",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3867c8ed36ae44f1a0559d8ebdc70779-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1d7a8cc0a6284c7887e171b162b33612",name:"East EMEA : Facebook Pixel-Lenovo Morocco",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook MA|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1==location.href.includes("/ma/fr"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2211f6749f984b86b16c456df33f1bd0-source.min.js",language:"html",isExternal:!0}}]},{id:"RL1db65983db19414cb8adc2665f2794cd",name:"Third Party Pixel : Conversion : Thank You Page : ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^au|nz$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3c913221e9af4d2d84e6a85b3c91aff1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6f732ec2f787422f89990bf1cf95a6f3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCace8d80c9247410da09daf959d81a0ee-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0c4d186dc8304ebc9208236828620e5d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e24f73522cf479292790520b084708c",name:"LAS : BR | Pixel Gama | Globo | Marketing Consumer Account",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Appnexus Consent Rule%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4873f5b5873b4296bf46c907d3a4978a-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1e858a87693b44ffad8a0c0b4d73638c",name:"Logos y botones footer : PE",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Per\xfa%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%LA - Not Flash Platform%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf12cef490b7e4697add7d9b1e0b5ba04-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1ed654989c564ed3a555ed0f6b64b605",name:"Window Loaded : Out of stock product",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/p/",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("Available"!==lmd.Subseriesstatus)return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object Out of stock Products%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL1f7012d4fe314718a9b62c6e5d98c086",name:"Tealium : IN Amazon Smart Pixel Cart",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("/in/en/cart"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC787c6ccb9a69484ca1d1364d23c25f5c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1fd6ec50de4547ff813199cbbd0feac4",name:"Custom Code : Add tele sale CTA on hero banner : KR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!("kr"!=lmd.cc.toLowerCase()&&"kr"!=lmd.country.toLowerCase()||"tele-hybris.lenovo.com"==document.domain.toLowerCase()||"lenovotele"==document.URL.toLowerCase()||"/kr/ko/pc"!==lmd.internalsearchcanonical&&"/kr/lenovopro/ko/"!==lmd.internalsearchcanonical&&"/kr/lenovopro/ko/pc"!==lmd.internalsearchcanonical&&"/kr/edu/kredu/ko/pc"!==lmd.internalsearchcanonical&&"/kr/edu/kredu/ko/"!==lmd.internalsearchcanonical))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account But Thank You Generic%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCac272444eabd4137975c8dc3bc1492e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL21265527360b4ef9afd326b75c508330",name:"EMEA : pixel Movable link",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|movable link|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if((document.domain.toLowerCase().includes("www.lenovo.com")||document.URL.toLowerCase().includes("thankyou"))&&"tele-hybris.lenovo.com"!=document.domain&&0==document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2050223d78714736b6f107cac27c3a2d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2131b3833bae4808a5c8151089862459",name:"MarketingPixel | Shoffr - HK | Halo PDP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"hk"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/hk/tele/"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/hk/sharelenovo/hkico-lenovopro-mm/"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"pdp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Sub Taxonomy Type%",rightOperand:"halo"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbca76c0812d94048aea32eb22868a4a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22b02108a58549469f664474b7f095b4",name:"Third Party Pixel:Load Insight:Linkedin:DCG Pages:HK,KR,SG,MY,PH,TH,TW",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},
leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^hk|kr|sg|my|ph|th|tw$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==location.pathname.toLowerCase().includes("/servers-storage/")&&new RegExp("lenovo.com/hk|uat-www.lenovo.com/hk|pre-www.lenovo.com/hk|lenovo.com/kr/ko/|uat-www.lenovo.com/kr/ko/|pre-www.lenovo.com/kr/ko/|lenovo.com/my/en|uat-www.lenovo.com/my/en|lenovo.com/sg/en|uat-www.lenovo.com/sg/en|lenovo.com/th|uat-www.lenovo.com/th|lenovo.com/tw|uat-www.lenovo.com/tw|pre-www.lenovo.com/tw|lenovo.com/ph|uat-www.lenovo.com/ph/en","i").test(window.location.href.toLowerCase())}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL2356e6788daf438685d8b6d2905503c2",name:"Third Party Pixel : Knexus UK: EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|knexus gb|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC028777b16a5f41e2b7834366ea3afb25-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2369432f04ca422c9458a8a0a3278b27",name:"Marketing : Linkedin Registration : EMEA",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|linkedin|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Meta Data : Business Unit%",rightOperand:"smb"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0a47cea1b56f4cde9f3b23b60eb7b7fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL236ba8bae04840b7ae96b8fdaf4e6fb0",name:"Tealium : Bluecore - Global : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1==_satellite.getVar("AP Countries")){var e=/^(ar|cl|co|mx|pe|br|at|be|ch|de|dk|es|fi|fr|gb|ie|it|nl|no|pt|se|jp|in|hk|kr|my|sg|th|tw|au|nz|ph)$/;if(null!==lmd.cc.toLowerCase().match(e))return!0}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1b335fb882ad4ab99f0ce03979d20921-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2483a41017274ef39db8d157d62c10ff",name:"Facebook Updated | SMB & EDU registration",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|facebook|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%FB Registration Confirmation%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6647dcff66eb4c299bb2b09962a25400-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL24e177b52de145a7ba342abc32710a58",name:"Marketing : LenovoPro Submit Capture: JP",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#submit-buttom",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/jp/ja/lenovopro/"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4136889c0d184ae0b3ddaaead9b4ac1a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL262794f3c8624a6ebee6504b0984372f",name:"Direct Call Rule : SR Sign In : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shop_run_signin"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For SR Sign In%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL268588a6b7dd42c880b52fcb9ce4cd50",name:"Direct Call Rule : Confirmit survey invite interaction : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"survey-invite-interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Confirmit Survey Interaction%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RL274856064b0046fc8f36a9d1dedf8892",name:"LAS Direct - Powerfront Inside Chat | Only UAT",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"uat"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS direct%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC69726fcb6a524531a68e130ea8c3fe71-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL27c0bdf1581146e395b8d97067c2a740",name:"EMEA : Bing Ads Universal Event Tracking (UET) 20161116",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|bing conv|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if((location.pathname.toString().toLowerCase().indexOf("checkout".toLowerCase())<0||location.hostname.toString().toLowerCase()!="checkout.lenovo.com".toLowerCase())&&location.hostname.toString().toLowerCase()!="tele-hybris.lenovo.com".toLowerCase()<0)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4df09ba4bc684ad58d8f10f79920a41f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL282c4c96c4c0434b9de22665fa92efba",name:"PE:PRO - Envio + MSI Ribbon (Week Three)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(e,t,o,n,r,a){try{for(r={is:[e,t],dt:[],tm:[],hd:0,ms:0},a=0;a<2;a++)o=r.is[a].substring(0,8),n=r.is[a].substring(8),r.dt[a]=new Date,console.log(r.dt[a]),"--------"!==o&&(r.dt[a].setFullYear(o.substring(0,4)),r.dt[a].setMonth(parseInt(o.substring(4,6))-1),r.dt[a].setDate(o.substring(6,8))),"----"!==n?(r.dt[a].setHours(n.substring(0,2)),r.dt[a].setMinutes(n.substring(2,4))):(r.dt[a].setHours(r.hd),r.dt[a].setMinutes(r.ms)),r.dt[a].setSeconds(r.ms),r.tm[a]=r.dt[a].getTime(),r.hd=23,r.ms=59;return r.n=(new Date).getTime(),r.n>=r.tm[0]&&r.n<=r.tm[1]}catch(t){return!1}}("202305150000","202305242359")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%FTV - Exclude%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%is Not Thankyou%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Per\xfa%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return lmd.storeType.toString().toLowerCase()=="SMB".toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%LA - Not Flash Platform%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC52cce81b16e94d0bacf93a41cd4bd7ed-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL28340e8141ab48ea9efb6e62616f814a",name:"Custom Code : DCG - LDR - New Button Design : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:111}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|dcg ldr|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%DCG & O365%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%WE Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1==window.location.href.indexOf("isg_ldr_preview"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc7c95af2546442ddbdfe0e0e100d0442-source.min.js",language:"html",isExternal:!0}}]},{id:"RL2840953d939d4ed098311ae854519d0f",name:"Analytics: Direct call rule: Knexus video interaction (Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"KnexusVideoTracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Knexus video interaction%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL28b39eebdfb5448bb608c19359c72493",name:"Google-Conversion | All-page | CZ-2023-0210",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("cz"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3956a58bad36484386762c9358772e30-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL293a0f2577ae42fc873ec82dd30fa370",name:"Marketing : Floodlight Page View : JP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script async src=\"https://www.googletagmanager.com/gtag/js?id=DC-13656467\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'DC-13656467');\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL29db7583b36043209b9f3c37e453f73b",name:"B2B - Pixel TCC - ToolTip My Account B2B Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(lmd.pageName.toLowerCase().includes("b2bsite"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC34017b19423b4c48b9979cf508222dfa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL29f4a54f069140bdb6365bdcde1a8d58",name:"Page Load Rule : LISA Australia",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovoaupub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.82);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.17;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.12;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.15;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.85;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.45;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.37;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.19;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.39;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.66;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.32;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.19;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.05;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL2a237aa722af4436ab7d9082696af0cc",name:"CO - Motorola Chat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Motorola Pages%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Colombia%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC714d6c9ba6964d1b8cc9f6131d65ec02-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2ac720c446874735b1630f9039818c7f",name:"Tealium : Clickforce - Subseries - TW Public",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"PDP_ATCart"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){
if("tw"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/tw")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/tw"))&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele")&&window.location.href.toLowerCase().includes("/p/")&&lmd.taxonomytype.toLowerCase().includes("subseriespage")&&lmd.storeID.toLowerCase().includes("twweb"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3c1b7c74b4e94c16ada7514d607305e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b2c98d5d1e2476e86ded8c4c10f372e",name:"Tealium: Criteo | For homepage - AU_NZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nz"==_satellite.getVar("Country Code").toLocaleLowerCase()||"au"==_satellite.getVar("Country Code").toLocaleLowerCase()||"nz"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"au"==_satellite.getVar("Target : Country").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"homepage"==$("meta[name='taxonomytype']").attr("content").toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCffefe1de7f1b47f691ff7d541755ce3f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b6ff8ab66f9413bafccbef32170cd5b",name:"Google Ads - Chile",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.toString().toLowerCase()=="clweb".toLowerCase()||lmd.storeID.toString().toLowerCase()=="clsmbpro".toLowerCase()||lmd.storeID.toString().toLowerCase()=="cledu".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC655f8308625c4da18e845744e9200677-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2b79de09429f45c08c33783c3407cc78",name:"Marketing Pixel | Linkedin India Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("lenovo.com/in/en")||lmd.cc.toLowerCase().includes("in"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC381de5ad4c614a62b02326352b4acbf2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2b9ffde77d1543dd9ad1c38d7e2558ae",name:"Third Party Pixel : Thankyou Page : ValueCommerce : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&location.pathname.includes("thankyou")&&"jpvipmembers"!=lmd.storeID&&"tele"!=lmd.bu)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4d078b7cd34d454d9101b22363dfbd21-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2bdf9245d4da428a87f4d4fef4407776",name:"B2B - pixels Tealium Custom Container Amherst Shipping Popup",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if("1213521474"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("delivery address:checkout"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcbdc2fe895ef4c888a59393d101b6adf-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2be8a56346024be4b221c0921aa0cc90",name:"Page Load Rule : LISA Malaysia",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovomypub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.76);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.18;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.11;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.07;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.75;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.64;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.56;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.07;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.66;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.96;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.24;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.2;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL2c0498e4f52342f7a77c33bc367d0e65",name:"Direct Call Rule : B2B CTO Expand All",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Expand_All_Categories"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for B2B CTO Expand All%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL2c1f0fe9e96742c5a28d153068f1814c",name:"Tealium : TikTok - Registration - SMB Register - CAP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele")&&(lmd.storeID.toLowerCase().includes("tw_smbpro")||lmd.storeID.toLowerCase().includes("hksmbpro")||lmd.storeID.toLowerCase().includes("kr_smbpro")||lmd.storeID.toLowerCase().includes("mysmbpro")||lmd.storeID.toLowerCase().includes("sg_smbpro")||lmd.storeID.toLowerCase().includes("thsmbpro"))&&(lmd.internalsearchcanonical.includes("/hksmbpro/smb-registration-redesignV3")||lmd.internalsearchcanonical.includes("/tw_smbpro/smb-registration-redesignV3")||lmd.internalsearchcanonical.includes("/kr_smbpro/smb-registration-redesignV3")||lmd.internalsearchcanonical.includes("/sg_smbpro/smb-registration-redesignV3")||lmd.internalsearchcanonical.includes("/tw_smbpro/smb-registration-redesignV3")||lmd.internalsearchcanonical.includes("/thsmbpro/smb-registration-redesignV3")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3a3e38c2b8a342678db1898ccd804170-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c20bbb55f974a4d8ffc45eea329e49b",name:"Evidon : Is Vendor Consented",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/br/pt/privacy/",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1f5622dfbb6a4ed883771c49623e6bab-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2c4d9683ce2d48dd9eeb428ed505c435",name:"Google Ads - Mexico",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.toString().toLowerCase()=="mxweb".toLowerCase()||lmd.storeID.toString().toLowerCase()=="mxsmbpro".toLowerCase()||lmd.storeID.toString().toLowerCase()=="mxedu".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe3f17ed9147c44e089727cb8147a3eca-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2c6394cea5654fc0a5d8167ab314cf66",name:"Tealium : Google Ads Conversion Tracking & Remarketing (gtag.js)  *Global MCC* - APEM",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("hkweb"==lmd.storeID.toLowerCase()||"sgweb"==lmd.storeID.toLowerCase()||"myweb"==lmd.storeID.toLowerCase()||"thweb"==lmd.storeID.toLowerCase()||"twweb"==lmd.storeID.toLowerCase()||"krweb"==lmd.storeID.toLowerCase()||"hksmbpro"==lmd.storeID.toLowerCase()||"sg_smbpro"==lmd.storeID.toLowerCase()||"mysmbpro"==lmd.storeID.toLowerCase()||"thsmbpro"==lmd.storeID.toLowerCase()||"tw_smbpro"==lmd.storeID.toLowerCase())&&_satellite.getVar("Not Checkout or Account But Thank You Generic")&&_satellite.getVar("Not Tele Hybris"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCafdc2df6660343f6aa9118d8a875ce4e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c8774bc9ea0432cba60a6d5c4f801d5",name:"Page Load : Compare Page : All site",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"productcompare",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Product Compare%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL2c943644aa4b4a499ec8e9d872915986",name:"Page Load Rule : LISA Finland",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovofipub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.19;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.13;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.06;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.13;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.96;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.39;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.20;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.11;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.32;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.61;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.24;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.04;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.01;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL2d64b8bd783441db982fb0807b0cd20e",name:"Direct Call Rule: Menu Click",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MenuClicked"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Menu Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL2d86cc4df8b94305bb28467e2ded4007",name:"EMEA : pixel Marketo - Global",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|marketo global|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketo Not Pages%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9f4dd16cd01744289d4f76ada5def0d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2dce2481aafc49e6aae42ddba99221f0",name:"B2B - Pixels TCC - Roles TT My Company B2B Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(lmd.pageName.toLowerCase().includes("b2bsite")&&lmd.pageName.toLowerCase().includes("my company"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1a0d4aade49a4caeba9ba99171faf912-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2dd2b88d952f400db23c20859244d5a5",name:"Tealium : TW Confirmation pages - Yahoo AD Dot Code",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/tw")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/tw"))&&document.URL.toLowerCase().includes("/checkout/orderconfirmation"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbf38fe2b75884cbcb7f2faa705ed7cec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e544035f8884b66875d85a857278ae0",name:"Third Party Pixel : Page Load-Bundle Loader&Trigger : ConfirmIT : BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(0==location.pathname.toLowerCase().includes("oracle-chat-popup")&&"pre-c-hybris.lenovo.com"!=document.domain&&"www.prod.online.lenovo.com"!=document.domain&&"tele-hybris.lenovo.com"!=document.domain&&0==document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC790f9593788d4ac5935f4dc74a4b80ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e6c17259d7e4e66b138d3457c04584a",name:"RTB_All page: JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.toLowerCase().indexOf("https://www.lenovo.com/jp/ja")>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdf9384a86c164eeaa0a42e47c1c51d65-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2e81d2816c1a4a5a8d036457ee6ecfc8",name:"Persist Reddit Click ID : NA, IN",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("ca"==lmd.cc||"us"==lmd.cc||"in"==lmd.cc)&&void 0!==_satellite.getVar("Reddit Click Id Query String")&&""!==_satellite.getVar("Reddit Click Id Query String"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5b34459bb536490880ef902b4d8c4d34-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2ec1ecb42d234a07b1f444d7f0faa98f",name:"Tealium : Namogoo Tag : Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(["au","nz","be"].includes(lmd.cc.toLowerCase())||"eet"==_satellite.getVar("Region Code").toLowerCase()||"russia/cis"==_satellite.getVar("Region Code").toLowerCase()||"mea"==_satellite.getVar("Region Code").toLowerCase()||"we"==_satellite.getVar("Region Code").toLowerCase()||"emea"==_satellite.getVar("Region Code").toLowerCase()||"htk"==_satellite.getVar("Region Code").toLowerCase()||"asean"==_satellite.getVar("Region Code").toLowerCase()||"cap"==_satellite.getVar("Region Code").toLowerCase()||"sasia"==_satellite.getVar("Region Code").toLowerCase()||"na"==_satellite.getVar("Region Code").toLowerCase()||"jpregion"==_satellite.getVar("Region Code").toLowerCase()||"las"==_satellite.getVar("Region Code").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("Namogoo Consent Rule")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe5becfb598f54ff4a4b9e36b5e12d554-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2ee18fde1e7b4d838b32201543a55f4c",name:"East  EMEA : Marketo- EET",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|marketo global|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5dd793e3c2d847fe87fb0cfae9a7f850-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL303793a261bb4b3cb6499f25994278f6",name:"Direct Call Rule : LPP Header tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"LPPHeader"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"LPHHeader"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for LPP Header tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL3138ba9a964d435c8199ac8239d37fc4",name:"Tealium : TW - YSM Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/tw")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/tw")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC939ca90c25d14e6b81ad497cc241174e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3276a7549a3f400aaff2111d9289f906",name:"Linkedin Insight | All-page | MEA-2023-0307",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eg"==lmd.cc.toLowerCase()||"ae"==lmd.cc.toLowerCase()||"sa"==lmd.cc.toLowerCase()||"lb"==lmd.cc.toLowerCase()||"ma"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC161fa0b1a6d64107a3f2bbb8db596b0f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3285dd28b0374e25bb777dae9be9c709",name:"Third Party Pixel : Quantum Metric Capture : Quantum Metric : in|hk|kr|my|sg|th|tw",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){const e=_satellite.getVar("Target : Meta Storeid");return!!["inweb","hkweb","twweb","krweb","myweb","sgweb","thweb","thsmbpro","sg-smbpro","mysmbpro","krsmbpro","tw-smbpro","hksmbpro","insmbpro"].some((t=>e.includes(t)))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"quantum-metric/src/lib/actions/startCapture.js",settings:{configuration:"default"},timeout:2e3,delayNext:!0}]},{id:"RL331299e5e7e84be49e4534ddf74549b4",name:"Direct Call Rule : Registration Steps",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"registrationsteps"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Registration Steps%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL33a3047f8f724318b874b64d5e9cb689",name:"Google Ads Conversion - SMB registration LAS *Flash*",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return"las"==lmd.regioncode.toLowerCase()&&"smb"==lmd.bu.toLowerCase()&&"br"!==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4d0e037f73bf4e2696e65df98fff42a0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL33d7e6c7e21042f7b2741f132f5194c5",name:"Custom Code : Temp fix : FPPS-18747- cta override",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|custom override|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==lmd.platform&&"flash"==lmd.platform.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcd67e7c260424d81b6efcb058c4a1cbf-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL33e70da699fb4c7799cf3a225fa1db92",name:"B2B - Pixel TCC - Masthead Hide Elm Tag",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("le"==lmd.bu.toLowerCase()||"PUBLIC_SECTOR"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"/* @author : Alejandro Montes\n * @date : 04-18-2022 \n * @LastUpdate 08-02-2022 */\n\n\n\n/* A function that is being called when the window is loaded. */\nwindow.onload = function() {\n\n    /* This is an array of storeIDs that we want to hide the element from. */\n    var _soldtosArray = ['1213414843','1213521234','1213414104','1216290509','1213414052',\n    '1213461732','1213414045','1215732394','1213659481','1216176951','1216315562','1213414603',\n    '1215487803','1213648488','1213411086','1215384822','1213411071','1213820668','1214978349',\n    '1213410967','1214607011','1215814403','1213521469','1213419054','1215280082','1214226817',\n    '1216310464','1213461452','1213519311','1213349014','1213521434','1215100551','1213462004',\n    '1214751669','1216684108','1214960125','1213521229','1213212691','1213416736',\n    '1213415657','1213414740','1213581184','1213415467','1215738379','1216330408','1213630904',\n    '1213072013','1213415264','1216397164','1213964152','1213820727','1213415208','1213414656',\n    '1215072821','1215486123','1213411131','1213521474','1215064998','1213414616','1213416782',\n    '1213609493','1213414649','1213605249','1216646552','1213616958','1213414558','1213414554',\n    '1215761813','1213465593','1215426673','1215755774','1213414533','1213521753','1213414460',\n    '1213414447','1215401369','1213642644','1215021820','1213462006','1213734085','1215648788',\n    '1213414529','1215489100','1213414471','1213521235','1216918338','1216808764','1216958120',\n    '1213419054','1216991581','1213416733','st_glasstime_us_06','1217000085','1215486123','1215036007'];\n\n    var _iframe = document.getElementById(\"nfe-header-iframe\");\n\n    /* Checking if the storeID or storeInfo.storeID is in the array and if the iframe exists. If it is, it will get the\n    element from the iframe. If it is not, it will get the element from the document. */\n    if (_iframe) {\n        if ( _soldtosArray.indexOf(storeID1 || storeInfo.storeID) != -1){\n            var innerDoc = _iframe.contentDocument || _iframe.contentWindow.document;\n            var _chkElemFrame = innerDoc.querySelectorAll('[data-item-id=\"rootServiceCategory\"]');\n            _chkElemFrame.forEach(function(elem) {\n                elem.style.display = \"none\";\n            });\n        }\n    } else {\n        if (_soldtosArray.indexOf(storeID1 || storeInfo.storeID) != -1) {\n            var _chkElem = document.querySelectorAll('[data-item-id=\"rootServiceCategory\"]');\n            _chkElem.forEach(function(elem) {\n                elem.style.display = 'none';\n            });\n        }\n    }\n}\n",language:"javascript"}}]},{id:"RL353b7cd5efbc42ea84f0e4cf351b9a70",name:"Direct Call Rule : Promo Deals Add To Cart : All Site (Flash, Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"facets_customizeCta"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Promo Deals Add To Cart%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL35406ae0fcf84c7aac5e9f806b3cac97",name:"Tealium : Persist Impact Click ID : ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==_satellite.getVar("Impact Click Id Query String")&&""!==_satellite.getVar("Impact Click Id Query String"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"au"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb19a41c163064a81a32bbcc4265a4445-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35b3697afaa5438a93ed7e78d8be859a",name:"Custom Code : Affiliate Gateway Conversion Pixel : SG",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("sg"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/sg/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/sg/"))&&(document.URL.toLowerCase().includes("/orderconfirmation")||document.querySelector('meta[name="pageName"]').content.toLowerCase().includes("/orderconfirmation")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCabaee79aa0894384bee8109d4fa182c1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL35cc5a12708a46c28c77d6f6120db3a2",name:"EMEA : pixels Bing Ads Universal Event Tracking",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|bing|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCaff3d524da904f72b81956fe06ef8960-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35cdd9b47c65403189568df820a981bc",name:"Third Party Pixel::TikTok:NA+AU",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:49}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"us|ca|au|nz",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Public & SMB%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd9b6055df8c142e38394624e164c7117-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35d77df43e2240828cc54a16bebd850e",name:"Third Party Pixel : CCPA : Evidon UCP : US",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"us"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu",value:"LE"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!document.domain.toLowerCase().includes("truscale")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%Is Vantage%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"what-is-hotmail-preview"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC981090b26d4844568d057fe7b2744058-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35e44a5f92534f5a89b371edcef45cb4",name:"EMEA : pixels Google Ads Conversion Tracking & Remarketing (gtag.js) - Subseries",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|google ads|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"subseriespage|Subseries PDP"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa88c138b988640ee91b6ca132a07bd36-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL362325ccacb643f18c2ffa6fe6cdba68",name:"Page Load Rule : LISA Norway",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovonopub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.21;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.15;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.14;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.84;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.38;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.20;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.16;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.40;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.54;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.21;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.03;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.01;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL3635c9228f89416eafc2b64f9b878f4b",name:"Tealium : Nuxt search global temp fix | LAS_BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Platform%",rightOperand:"nfe"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/search",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("LAS countries")&&_satellite.getVar("LAS countries")||lmd.cc&&"br"==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa5c83989d81149c5b12b704a1169c2db-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL366e9fb3a06c4a60bb046c7d67721f44",name:"Page Load Rule : LISA Thailand",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovothpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.16;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.10;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.08;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.54;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.67;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.67;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.06;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.22;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=1.0;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.72;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.31;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.17;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL36a5036f2e3244ce8fa76d2b74ad824e",name:"Direct Call Rule : Type Ahead Search suggested : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"typeAhead_suggested"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Type Ahead Search suggested%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL374b904effc8459b86c2d593c07cf8d9",name:"Direct Call Rule : Download",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Download"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Download%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL3774fc24f52f48bb84de62de04fbe3fb",name:"Tealium : Override | Footer | Fix copyright issue - KR : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc059c4af3ef94cb990746c8b9a6ffd4c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3856b27f72d74985b2b3099d077d0750",name:"Marketing : GA4 : Cart View",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"es"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe456424ca903455a87d336da39783edf-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3888cdfb0c5a41dd98f5beb54ec23f73",name:"Marketing : LinkedIn li_fat_id : Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==typeof _satellite.getVar("Linkedin li_fat_id")&&""!==_satellite.getVar("Linkedin li_fat_id")&&null!==_satellite.getVar("Linkedin li_fat_id"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6e2986feb03f491abdb637ea234944bf-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL38aa05163bbd4b47923d1793d2ed69e8",name:"Direct Call Rule : Loyalty Splash Sign up : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rew_sign_up"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL38d06e11474a4e81b4fe45db7493354f",name:"Page Load Rule : LISA Korea",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovokrpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.21;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.16;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.06;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.09;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.76;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.44;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.39;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.1;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.28;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.77;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.21;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.1;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.28;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL391c3c4e47fe4e08932337d78eae3b2a",name:"Tealium: Criteo | For cart page - BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"/cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Criteo Consent%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3d9fb80a97c7438594e902fa78df6af2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL395b663d5ad94211a162ae165ee01179",name:"Page Load Rule : LISA Italy",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovoitpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      \n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.20);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n     \n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\n\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.20;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.16;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.13;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n       \n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n       \n\t  }\n   \n     \n      if(y==1)\n      {\n      visit_num_bucket=0.20;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.47;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.23;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      \n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.24;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.34;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.63;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.12;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.04;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.00;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n    \n      localStorage.setItem(\'rec_score\',cur_recency_score);\n\n\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n     \n        \n       \n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        \n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        \n      }\n       \n       \n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n         \n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n     \n        }\n        else{\n      \n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n        localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n   \n   \n   \n      \n   \n    var storscore = localStorage.getItem(\'score\');\n   \n \n     \n    \n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n   \n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\n\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\n\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\n\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\n\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL3accbc77c86c4b4db2ccd86d152e8945",name:"Tealium : IN - insider Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("in"==lmd.country.toLowerCase()||"in"==lmd.cc.toLowerCase())&&1==window.location.href.includes("lenovo.com/in/en"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC41f90c36c1e24dc18af05d171b75150a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3b97cca196b94ca7b736fb3e2badcf78",name:"B2B - Pixel Tealium Custom Container - NCA&T - Accessories",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if("1213416820"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("cart"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3c631c63c7014ce7a30cc42cea5ba5a9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3cc9daeed61a47e3ab90f7c0cd8bb69b",name:"East EMEA : Twitter Universal Website Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|twitter|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("/sa/en")>-1||window.location.href.indexOf("/ae/en")>-1||window.location.href.indexOf("/eg/en")>-1||window.location.href.indexOf("/lb/en")>-1||window.location.href.indexOf("/ma/fr")>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0892274b08504197b8091246424796a3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3cd09fde8dc24ad1a06aa69793f15fa1",name:"JP-A8-smbregistration-common",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&(location.pathname.includes("/smbaccount/gatekeeper/showpage")||location.pathname.includes("/lenovopro/registration/member/")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf580530947c74230bc624b41e4bc7d50-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3d126803e3f7428eb8811b88e4d8e4a0",name:"Tealium : INSMBPro Facebook pixel - Pageview : IN",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/in/en/insmbpro"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc95ef03dafb94699a443d03a6be2b962-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3d3dd426cfb34dfbb6a4cea829517679",name:"Tealium : TW Shoff Tag - Subseries Page",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"lenovo.com/tw"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"tw"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%storeID%",rightOperand:"shadow"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"lenovotele"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%domain%",rightOperand:"tele-hybris.lenovo.com"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa1a347b2863b4c85ba78ff0283c4411c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3dc919992b0841bcaaf88e4a0f31c8c1",name:"Page Load : Error Messages : All site",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",
settings:{comparison:{operator:"equals"},leftOperand:"%error:event%",rightOperand:"valid error event"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Error Messages%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL3eab9ac4ebb14f94af45e33773c46c51",name:"Tealium : MY - Fix - content obscured by masthead : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("my"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/my/en")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/my/en"))&&lmd.storeID.toLowerCase().includes("myedu")&&1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")&&!0!==document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCea35570c48214770841ba2cfb52fdcb6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3f12680f02c34680a0c179165137e098",name:"EMEA: Teads",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%WE Country Code%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().indexOf("pixelteads=false")<0)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9815ecc6cae14aaaa8550ab176d20309-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3fcf3ada60b14cd8a6149d7ed1f28fa9",name:"Direct Call Rule: Form Submit",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Form_Submit"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Form Submit%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL41768e0bdcf74609b887b6aa397815a0",name:"East EMEA : TR-Google Ads Conversion Tracking & Remarketing (gtag.js)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|google TR|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7228f35caa814066a4d467d5889bd640-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41dbb3c0209148fe93f7c288c241478b",name:"Wunderkind - JP Page View",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou"))return!0}},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcb5f2e5d7ad7462a81eeb3295524556a-source.min.js",language:"html",isExternal:!0}}]},{id:"RL42752c5efc764fc6b4d4b94fc28c4970",name:"Third Party Pixel:Product Page:Criteo:JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["lenovo.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&(document.URL.toLowerCase().indexOf("/ja/p/accessories-and-software")>-1||document.URL.toLowerCase().indexOf("/ja/p/desktops/legion-desktops")>-1||document.URL.toLowerCase().indexOf("/ja/p/laptops")>-1||document.URL.toLowerCase().indexOf("/ja/p/workstations")>-1||document.URL.toLowerCase().indexOf("/ja/p/desktops")>-1||document.URL.toLowerCase().indexOf("/ja/p/tablets")>-1))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe9585c504bb243f3945638651c90fb1b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL42de3f61aff24c0ca9a03c5c43c47099",name:"LinkedIn Insight Tag - NA SMB Registration Complete",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())&&1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe485b25688fd4c62b49b68c2139c7642-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL431b672e426c48188d6a1d52d5bac956",name:"Wunderkind - BR Conversion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou")||location.pathname.indexOf("orderConfirmation")>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Wunderkind Consent Rules%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb5f5f4bb989c4fe9a4a5db0352d97dbd-source.min.js",language:"html",isExternal:!0}}]},{id:"RL43751cc74f11498aae07ee93f78a9e5e",name:"Tealium : Bing Ads Universal Event Tracking (UET) - Brazil",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("br"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Bing Consent Rule%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC44ad991bf29f4d18a4afd59a02d8930f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL438ef60f9a054bd5b116b0a8280824e1",name:"Tealium : Movable Ink Page View: AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1==_satellite.getVar("AP Countries")&&_satellite.getVar("Not Checkout or Account But Thank You Generic"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC409c2d22f7fc40dcb302100069ce8e66-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL43ecdc011f24419283d150828a755b68",name:"East EMEA : sk-wtb-Facebook-pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook SK|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1==location.href.includes("/wtb"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC68cdf61fa69a40e98fafd56e5e63d2af-source.min.js",language:"html",isExternal:!0}}]},{id:"RL4465412e3f824579b24229a2509e9b90",name:"Thrid Party Pixel : Page Views & Conversion : TradeDesk : CAP Public",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("Target : Meta Storeid").toString().toLowerCase()=="twweb".toLowerCase()||_satellite.getVar("Target : Meta Storeid").toString().toLowerCase()=="krweb".toLowerCase()||_satellite.getVar("Target : Meta Storeid").toString().toLowerCase()=="phweb".toLowerCase()||_satellite.getVar("Target : Meta Storeid").toString().toLowerCase()=="thweb".toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc1311efb9c8c4f3299716a6f6d399896-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5ef1222a9800453d9694298420376108-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL45a12c78e5fd46c7b2f31cc1a695e67c",name:"Direct Call Rule: Internal Search : No Result Best Seller Tracking: All sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"NoSearch_BestSeller"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search : No Result Best Seller Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL463137c15b3442d1952a3aa8e0a635e1",name:"Yahoo AD - SMB Registration - TW",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return $('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/tw_smbpro/smb-registration-redesignV3".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/tw_smbpro/smbRegistrationV3/smbRegisterWithoutLidV3".toLowerCase())>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Marketing Toggle%",rightOperand:""},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb1f0dbf237374a6cb571a1ca9b9cf2f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL46461e993c424836a43b9b3ab2d1ebc5",name:"OptinMonster - Business Benefits - TW",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/tw/zh/business/benefits".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC58fee2c427284879ba976eeb231b640f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL47b0bb76b2a640aead60a7fcccd5b642",name:"EMEA : pixel MSA Telesales Support",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|fe msa tele|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.platform&&("ms"==lmd.platform.toLowerCase()||"mfe"==lmd.platform.toLowerCase()||"nfe"==lmd.platform.toLowerCase())&&("tele-hybris.lenovo.com"==location.hostname.toLowerCase()||"origin-tele-hybris.lenovo.com"==location.hostname.toLowerCase()||"pre-u-hybris.lenovo.com"==location.hostname.toLowerCase()||"test-tele-hybris.lenovo.com"==location.hostname.toLowerCase()||"tun-c-hybris.lenovo.com"==location.hostname.toLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf22b43052ea9470f8ad9cbfae18ac1fc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48111e9c3c374d0bb766ec68b7da3eb8",name:"Page Load : Error Message Page : All site",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.getVar("Error"))return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Error Message Page%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL48498d245d454fbaaa200d86e3b5f3b1",name:"ZZ_NP_Tealium : Bluecore - Global : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()){var e=/^(us|ca|ar|cl|co|mx|pe|br|at|be|ch|de|dk|es|fi|fr|gb|ie|it|nl|no|pt|se|jp|in|hk|kr|my|sg|th|tw|au|nz|ph)$/;if(null!==lmd.cc.toLowerCase().match(e))return!0}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9beaaa94ab2149b3ac3d7fa94bbd6ce4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4880f8110f504ebdac5f0dec0f4fa59e",name:"Tealium: Criteo | For deals page - AU",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/d/deals/"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"au"==_satellite.getVar("Country Code").toLocaleLowerCase()||"au"==_satellite.getVar("Target : Country").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7ebd8c15f72c460499849c97dfc06f44-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL488a13040c93434b92a87ec6bc90898b",name:"EMEA : Equalweb",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|equalweb|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Country Code%",rightOperand:"fr"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6d4dbc68f3354f8091c5cac24785e823-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL48b022f4c5de4800a50f9ae9ba8db2eb",name:"Direct Call Rule : Confirmit Survey Start :  All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"survey_start"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Confirmit Survey Start%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL48e6a0992659407aa8c7d5f526fa010b",name:"Direct Call: Google Analytics Events: Tab click",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Tab"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/smarter",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdd0cb70993624b5ebfcc610c0d637b3b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4a98ac987b464d0ba75dd2e85612419d",name:"Tealium : IN - Inside tag intergration",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("in"==_satellite.getVar("Country Code").toLowerCase()||"in"==_satellite.getVar("cc").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC69756f370727412a8ce2ab2a840b505b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b05f2ebbfa149e9877ade52852cc0d2",name:"Third Party Pixel : Page Load : Floodlight Campaign Manager : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Public & SMB%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|assembly|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6f32fb47986747b39644548a3764b76a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4bdf5cffdc2c4546afff8bd5be28d1b0",name:"DCR : EMEA : Registration : Pixels Google Ads Conversion Tracking - SMB Registration(Analytics)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|google ads smb registration|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return matches=new RegExp(/^(chsmbpro|desmbpro|frsmbpro|gbsmbpro|iesmbpro|atsmbpro|smbpro)$/).test(lmd.storeID.toLowerCase()),matches1=new RegExp(/^(ch|de|fr|gb|ie|at)$/).test(lmd.cc.toLowerCase()),matches&&matches1}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7e4f43e0543147499f02d15244aa3def-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c04201217a0449eaa1d0730a8da47bc",name:"EMEA : Pixels Google Ads Conversion Tracking - SMB Registration",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|google ads smb registration|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return matches=new RegExp(/^(chsmbpro|desmbpro|frsmbpro|gbsmbpro|iesmbpro|atsmbpro)$/).test(lmd.storeID.toLowerCase()),matches&&(location.pathname.toLowerCase().includes("goaccountverfy")||document.referrer.toLowerCase().includes("smbregisterwithlid"))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd138f691a22949d0a5d9c87e9204eb28-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c4311c4dc3940ae98b30b4027bc01d5",name:"Scrape User Email - Shipping Details - Hybris",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".checkoutui-im-continue-bn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("LAS countries")||lmd.cc&&new RegExp("in|hk|kr|my|sg|th|tw|ph|br|de|dk|es|fr|gb|no|be|ie|nl|ch|pt|fi|it|at|se").test(lmd.cc.toLocaleLowerCase())}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6699284827d948d580168a48546cc6e3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0892abbb6e334129a2550531cdff5d57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c54fe7a8ef044c7941997423bd68037",name:"Direct Call : Google Analytics Events : StoryName ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Smarter_StoryClicked"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCacd9ac357ced49989f01e9ba82a967d4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4c5e4001f11b46ea9ea6675d133a79f5",name:"Page Load : Register Complete : All site (Hybris)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Registration Complete DE%",rightOperand:"complete"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Register Complete%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL4d1e9345458a49288d05b5445d09af96",name:"B2B - Pixel TCC - Syracuse Univ(1213416733)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(lmd.pageName.includes("b2bsite".toLowerCase())&&lmd.pagePath.toLowerCase().includes("login/register")&&lmd.toLowerCase().includes("/le/1213416733/us/en"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc028c804841a47a8a47de851ad6d5408-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ddcf11c0250408b921c429072f093d0",
name:"Tealium : DFM_20200622 :  JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toLowerCase().includes("/p/")&&"tele"!=lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc72116a07b114421b17b817f8ffd4a34-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4e5fbbb718ee4022a938e504148ef807",name:"Teads : AU",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"au"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC54ea591f0ab9493e9fc424a5f8b2bb1b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4e85d0d0524346989432c05614caec03",name:"Tealium: Criteo | For product page - AU_NZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nz"==_satellite.getVar("Country Code").toLocaleLowerCase()||"au"==_satellite.getVar("Country Code").toLocaleLowerCase()||"nz"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"au"==_satellite.getVar("Target : Country").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"/p/"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC845c59fb330e46b5b04b18d7a97b5a52-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f64d81f541f4e7b8c835abfc1fedfbf",name:"Identity rule",events:[],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC72dee3afb7f043f5a65ae4c12c87ce04-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL501e8e8c11e94703afde5ac4e031fa3a",name:"Event Based Rule : Proceed to Checkout",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".qa_ProceedToCheckout_Button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Proceed to Checkout%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL507a7e574ba347f6be107987409e2b66",name:"Tealium : IN Amazon Linkout Product ThankYouPage : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.includes("/in/en/thankyou"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4f045e33d5234de3bf7b3cadcca6feea-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL50e2104f7d5f452faa495fe77086d1fc",name:"Direct Call Rule : Confirmit survey start modal : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"survey-start-button"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Confirmit Survey Start Modal%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RL51761e6569804ac4b380226636933a11",name:"Tealium : KR - Google AdWords Conversion - Thank you page : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com")&&(document.URL.includes("/orderConfirmation")||lmd.pageName.includes("/orderConfirmation")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5878ddd15bb94804b66da129b5fb5238-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL526afcbc6d75432d8dc830a20ce0f45b",name:"MarketingPixel: Insight ADSrvr Loader | AU Public | Brands&PDP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Domain%",rightOperand:"www.lenovo.com"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("au"==lmd.cc&&"auweb"==lmd.storeID)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.includes("/gaming-pc/legion/")||window.location.href.includes("/yoga/")||window.location.href.includes("/yoga/products/")||window.location.href.includes("/p/laptops/legion-laptops/legion-pro-series/legion-pro-5i-gen-9-(16-inch-intel)/83dfcto1wwau1")||window.location.href.includes("/p/laptops/legion-laptops/legion-pro-series/legion-pro-5i-gen-9-(16-inch-intel)/83dfcto1wwau2")||window.location.href.includes("/p/laptops/legion-laptops/legion-5-series/lenovo-legion-5i-gen-9-(16-inch-intel)/83dgcto1wwau2")||window.location.href.includes("/p/laptops/legion-laptops/legion-5-series/lenovo-legion-5i-gen-9-(16-inch-intel)/83dgcto1wwau1")||window.location.href.includes("/p/laptops/legion-laptops/legion-7-series/legion-7i-gen-9-(16-inch-intel)/83fdcto1wwau1")||window.location.href.includes("/p/laptops/legion-laptops/legion-7-series/legion-7i-gen-9-(16-inch-intel)/83fdcto1wwau2")||window.location.href.includes("/p/laptops/legion-laptops/legion-7-series/lenovo-legion-pro-7i-gen-9-(16-inch-intel)/83decto1wwau1")||window.location.href.includes("/p/laptops/legion-laptops/legion-9-series/legion-9i-(16-inch-intel)/83g0cto1wwau1")||window.location.href.includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-7-2-in-1-gen-9-(14-inch-amd)/len101y0046")||window.location.href.includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-7i-2-in-1-gen-9-(14-inch-intel)/len101y0044")||window.location.href.includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-7i-2-in-1-gen-9-(16-inch-intel)/len101y0047")||window.location.href.includes("/p/laptops/yoga/yoga-pro-series/yoga-pro-7i-gen-9-(14-inch-intel)/len101y0040")||window.location.href.includes("/p/laptops/yoga/yoga-slim-series/yoga-slim-7i-gen-9-(14-inch-intel)/len101y0041")||window.location.href.includes("/p/laptops/yoga/yoga-pro-series/yoga-pro-7-gen-9-(14-inch-amd)/len101y0048")||window.location.href.includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-9i-2-in-1-gen-9-(14-inch-intel)/len101y0043")||window.location.href.includes("/p/laptops/yoga/yoga-pro-series/yoga-pro-9i-gen-9-(16-inch-intel)/len101y0039")||window.location.href.includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-book-9i-gen-9-(13-inch-intel)/len101y0042"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC63d07fe06e67485ea2d9708ba7fdd8eb-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL52bce1ec82b54ba895f1d5d3f1b148e4",name:"Direct Call Rule : Product Reorder : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smb_reorder"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Product Reorder%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL53ec0088c4544f5e85d0a8cb5c2cdcce",name:"Third Party Pixel : Adform Sandbox Test 1002 - Disable After May 31",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentChanged.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("us"==lmd.cc.toLowerCase()&&("public"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2024-06-01T00:00:00Z",start:"2024-03-06T00:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf0b14ca10a234cfeab54e225fae7c4c5-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5474ab84c9504567bb50b20d8efd23f8",name:"Third Party Pixel:Page View:Movable Ink:NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==_satellite.getVar("Target : Country")||"us"==_satellite.getVar("Target : Country"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7289e5a792564f8a92b09fc11d5da03e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL55ccbb42cd514c1da3c318c86d4d87d4",name:"Direct Call Rule : Windows - EPB",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Windows_EPB"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Windows - EPB%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL56049b824c8440a7ad2410f401d56020",name:"Page Load : Purchase : All Sites",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%purchase:event%",rightOperand:"valid purchase"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Purchase%",data:"%Target : Product Page & Order Confirmation Parameters Update%",type:"commerce.purchases",instanceName:"alloy",decisionScopes:"%Target: getDecisionScopes-Product_Page&Order_Confirmation%",renderDecisions:!0}}]},{id:"RL5666bd217be24ca2900d3d80b493ac0c",name:"East EMEA : BG-Google Ads Conversion Tracking & Remarketing (gtag.js)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|google BG|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe9c0593c1b3747da8bafab411ea1de24-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5729c429548a45ba8bb344fdab02f40e",name:"Direct Call Rule : Homepage : Header Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"categoryHome_clicked"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Homepage : Header Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RL57682ed94f6242a4b618d516d178981a",name:"Direct Call Rule : Reorder Cancel : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smb_re_cancel"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For  Reorder Cancel%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL57e0eab9d66e42bf81b7e576808b09bb",name:"Third Party Pixel : Adform Send adf_bn: EMEA + APAC + LATAM + NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentChanged.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eet"==_satellite.getVar("Region Code").toLowerCase()||"russia/cis"==_satellite.getVar("Region Code").toLowerCase()||"mea"==_satellite.getVar("Region Code").toLowerCase()||"we"==_satellite.getVar("Region Code").toLowerCase()||"emea"==_satellite.getVar("Region Code").toLowerCase()||"htk"==_satellite.getVar("Region Code").toLowerCase()||"asean"==_satellite.getVar("Region Code").toLowerCase()||"cap"==_satellite.getVar("Region Code").toLowerCase()||"sasia"==_satellite.getVar("Region Code").toLowerCase()||"latam"==_satellite.getVar("Region Code").toLowerCase()||"na"==_satellite.getVar("Region Code").toLowerCase()||"jpregion"==_satellite.getVar("Region Code").toLowerCase()||"las"==_satellite.getVar("Region Code").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.URL.includes("adf_bn")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Adform Consent Rule%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe149aa07a6c34bcb8ce7f43b3ac8703a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL581a29a4add94715a29cdb7d5002714b",name:"Tealium : TW Cart pages - Yahoo AD Dot Code",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&"/customize"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/tw")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/tw"))&&(location.pathname.toLowerCase().includes("/cart")||lmd.pagePath.toLowerCase().includes("cart")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCddf091ff42894397b94bb079cf74ea5c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL58bc0ae03336467f89bda75c90a99b7b",name:"Tealium: Criteo | For homepage - BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("Country Code")&&"br"==_satellite.getVar("Country Code").toLocaleLowerCase()||"br"==_satellite.getVar("Target : Country").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"homepage"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Criteo Consent%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2aa60931738847c088a5be4e31dcdaa6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL58cdcf37448240ac9c616f2019e1c49a",name:"Third Party Pixel : RTB_Home tag : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("jpweb"==lmd.storeID||"jpedu"==lmd.storeID||"jpmembers"==lmd.storeID)&&(document.URL.toLowerCase().indexOf("/ja/pc/")>-1||document.URL.toLowerCase().indexOf("/ja/laptops|")>-1||document.URL.toLowerCase().indexOf("/ja/d/deals/promo-offers")>-1||document.URL.toLowerCase().indexOf("/ja/desktops")>-1||document.URL.toLowerCase().indexOf("/ja/workstations")>-1||document.URL.toLowerCase().indexOf("/ja/legion-portal")>-1||document.URL.toLowerCase().indexOf("/ja/tablets")>-1||document.URL.toLowerCase().indexOf("/ja/accessories-and-software")>-1||document.URL.toLowerCase().indexOf("/ja/dc/accessories-and-software")>-1||document.URL.toLowerCase().indexOf("/ja/computer-monitors")>-1||document.URL.toLowerCase().indexOf("/ja/yoga")>-1||document.URL.toLowerCase().indexOf("/ja/student")>-1||document.URL.toLowerCase().indexOf("/ja/eduforms")>-1||document.URL.toLowerCase().indexOf("/ja/login/jpeducation")>-1))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC892afe0bf11e4c258fd912252b9f5f44-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL596c0c6244df4df68d2a837d065f8d0f",name:"Page Load Rule : LISA US",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovouspub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.85);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.19;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.15;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.16;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.85;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.45;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.37;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.19;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.39;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.66;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.33;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.13;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.01;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL59eba0f022e64196a0db3634bf56e604",name:"Third Party Pixel:Global Page Load:Wunderkind:NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"ca|us",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("le"!==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9ca76003b0324f21b17d5493a3628a3c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5b0d2ec69a42461090a22b52e01e89a7",name:"Page Load Rule : LISA Portugal",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovoptpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 1.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.21;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.15;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.11;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.75;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.44;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.19;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.11;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.34;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.64;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.24;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.04;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.05;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5c187fd766ae421a8b9a3db00a5637ed",name:"EMEA : DCG - LDR New - Inside Chat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|dcg ldr|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not DCG Service%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Data Center or Systems%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCab511910f8d44e40842ab3c051be5708-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c7cbd917cd7483fa448a90d83701a69",name:"Page Load Rule : LISA Spain",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovoespub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.86);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.20;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.14;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.06;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.06;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.13;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.86;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.37;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.17;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.11;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.33;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.10;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.24;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.03;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.05;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5cc940720b414b1a87ccd9dab229134d",name:"Analytics : Track Order Id : Page Load",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"purchase:orderID"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Platform%",rightOperand:"flash"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Track Order ID%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RL5d3ec5a8fd82485faba428ef58cf5abf",name:"Trade Desk - Universal Pixel - NA & ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("us"==lmd.cc.toLocaleLowerCase()||"ca"==lmd.cc.toLocaleLowerCase()||"au"==lmd.cc.toLocaleLowerCase()||"nz"==lmd.cc.toLocaleLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8bdcc4fdc6c0473e94e5de258b342c1f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d458aa404f34eb6bf4453d03f49ac76",name:"Conversion Pixel Order confirmation - India",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("inweb"==lmd.storeID.toLowerCase()||"incepp"==lmd.storeID.toLowerCase()||"insmbpro"==lmd.storeID.toLowerCase())&&(window.location.href.toLowerCase().includes("/thankyou")||window.location.href.toLowerCase().includes("thankyou")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC69723f1fd186409bb8841f78b988efdf-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0522ade03b6747ba814c2eea179a4598-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1a4e76fa23414281b082bb6d9e936944-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7b75b8379ff44a4bb77cb24c5eaa1789-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC469a27c8ce7f4a0280d9a6cd24481859-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCef735c4f089941a392af50d80192e84f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d5e92a0dcef4a2d949fd10f3b35b6ac",name:"Tealium : Movable Ink Tag - Page View - ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("au"==_satellite.getVar("Target : Country")||"nz"==_satellite.getVar("Target : Country"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%is Not Thankyou%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9326419a27a647748d6c2d8a85f5ef0a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5df4a581c68f4e6b957ea96e8f6b6c14",name:"Page Load Rule : LISA Mexico",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovomxpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.16;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.1;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.05;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.72;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.58;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.49;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.04;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.63;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.94;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.25;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.16;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5e55bc2ea5ae41969f36cf811fe21afd",name:"Third Party Pixel : Top page : Criteo : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["lenovo.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&(document.URL.indexOf("/ja/pc/")>-1||document.URL.indexOf("/ja/laptops/")>-1||document.URL.indexOf("/c/laptops/")>-1||document.URL.indexOf("/d/deals/promo-offers/")>-1||document.URL.indexOf("/desktops/")>-1||document.URL.indexOf("/c/desktops/")>-1||document.URL.indexOf("/workstations/")>-1||document.URL.indexOf("/c/workstations/")>-1||document.URL.indexOf("/legion-portal/")>-1||document.URL.indexOf("/tablets/")>-1||document.URL.indexOf("/accessories-and-software/")>-1||document.URL.indexOf("/dc/accessories-and-software/")>-1||document.URL.indexOf("/computer-monitors/")>-1||document.URL.indexOf("/d/accessories-and-monitors/")>-1||document.URL.indexOf("/yoga/")>-1||document.URL.indexOf("/student/")>-1||document.URL.indexOf("/eduforms/")>-1))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC40001c6d5fec408bb8c3613be4108f00-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5fc2129f9fd7406eb9e692f4cfe52287",name:"Direct call Rule: Internal Search:: Non Search results",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"nonsearch-results"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search:: Non Search results%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL61df7a0fd3a743ccb746ef808487eae4",name:"Direct Call Rule : Hashed Email Tracking General Rule",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"hashed_email_tracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Hashed Email General Rule%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL62fd15677c384269924ed04593e46d7d",name:"Third Party Pixel : Page Load-Bundle Loader&Trigger : ConfirmIT : B2B",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("www.lenovo.com"==location.hostname||"www3.lenovo.com"==location.hostname||"b2b.lenovo.com"==location.hostname||"pre-u-hybris.lenovo.com"==location.hostname||"tun-c-hybris.lenovo.com"==location.hostname)&&1!=location.pathname.toLowerCase().includes("/login"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCed8f3dac40df49a1b6bee9a73e22d63e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC36be13c417b74ce2b33d9cb1985ca96d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL634c6c778a414bfc8f1fbb96d8480207",name:"Tealium : Override | Product builder | Accessories, services and software discount banner - TH",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("th"==lmd.cc.toLowerCase()||"th"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&lmd.internalsearchcanonical.includes("/product_builder")&&window.location.href.toLowerCase().includes("lenovo.com/th")&&1!=window.location.href.toLowerCase().includes("/thshadow"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC53f5892a65af44bbac8267e304683d95-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL635708f76569443c8b0fe6faa2388e1e",name:"Target Cart mbox - FLASH",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/cart",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/cart/",valueIsRegex:!0},{value:"/vipmembers/",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"tele-hybris",valueIsRegex:!0},{value:"admin-prod-c-hybris",valueIsRegex:!0},{value:"tun-r-hybris",valueIsRegex:!0},{value:"pre-u-hybris",valueIsRegex:!0},{value:"nfe.sit.online",valueIsRegex:!0},{value:"tun-c-hybris",valueIsRegex:!0},{value:"pre-c-hybris",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Cart:LastAddedSystemID%",data:"%Target : Cart Mbox Flash%",type:"web.webinteraction.linkClicks",instanceName:"alloy",decisionScopes:"%Target: getDecisionScopes_Cart mbox - FLASH%"}}]},{id:"RL64995aa33bfe4656a8c29e4435f2ece5",name:"Direct Call Rule : B2B Global",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Collapse_All_Categories"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Expand_All_Categories"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Configurator_Preview_Time_Spend"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Configurator_Preview"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Reset_To_Base_Spec"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Configurator_Tabs"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for DCG Global + B2B%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL6513c87beac74d1983b06e3aeb61908d",name:"Third Party Pixel : Adform Sandbox Test 1003 - Conversion - Disable After May 31",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("us"==lmd.cc.toLowerCase()||"ca"==lmd.cc.toLowerCase()||"gb"==lmd.cc.toLowerCase())&&document.URL.includes("thankyou"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2024-06-01T00:00:00Z",start:"2024-03-06T00:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4e95f78dee85435d84dd2ff1d8f3b936-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL657518a289974329aae553f2a2fbdc5d",name:"GA4 - Configuration",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:3},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:3},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"checkout.lenovo.com",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){for(var e=["https://www.lenovo.com/us/en/test/mobileredesign/splitter/3compswithadobe.html","https://www.lenovo.com/us/en/test/mobileredesign/splitter/adobe.html","https://www.lenovo.com/us/en/test/mobileredesign/dlp/3compswithadobe.html","https://www.lenovo.com/us/en/test/mobileredesign/dlp/adobe.html","https://www.lenovo.com/us/en/test/mobileredesign/splitter/subseries-results/adobe.html","https://www.lenovo.com/us/en/test/mobileredesign/home/3compswithadobe.html","https://www.lenovo.com/us/en/test/mobileredesign/home/adobe.html"],t=document.URL,o=0;o<e.length;o++)if(-1!==t.indexOf(e[o]))return!1;return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!document.URL.toLowerCase().includes("lenovo.com/mx/es/billdeskload")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"es"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0===document.querySelector("meta[name=country]")||"br"!=document.querySelector("meta[name=country]").content.toLowerCase()||void 0!==getConsentVendors("google-analytics")&&getConsentVendors("google-analytics")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC26b3f67e725a46f2bb5ea5da01218210-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf308fd6d684e494ea98b712cb22c5c96-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL657a92687131440185518c71c25c9306",name:"Direct Call Rule : Loyalty splash banner join now : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rew_spl_join"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Loyalty splash banner join now%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL659ba057552e4dd28045e885c46f4e79",name:"Third Party Pixel : Purchase : AdmitAD Pixel : AP",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("in"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"in"==_satellite.getVar("Country Code").toLocaleLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.includes("/in/en/checkout/orderConfirmation")||document.URL.includes("/thankyou"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0d5639106a2249b094c549cd78ef1b71-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6616531df83e4b06894bd73c8c2f8787",name:"Direct Call Rule : SR Sign Up :  All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shop_run_register"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For SR Sign Up%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL6687ed961e10483cb22abb660ece7141",name:"Third Party Pixel : CCPA : Evidon UCP Suppression : US",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:"#_evidon_banner"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"us"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu",value:"LE"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCeecab4086bea4372925f90ed30fe465a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL669ebf08fc4642ad8ec3ab683160748a",name:"Third Party Pixel : Inside Chat : Powerfront : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"le"!=lmd.bu.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"uat-www.lenovo.com"!=_satellite.getVar("Domain").toLocaleLowerCase()&&"pre-www.lenovo.com"!=_satellite.getVar("Domain").toLocaleLowerCase()&&"uat-account.lenovo.com"!=_satellite.getVar("Domain").toLocaleLowerCase()&&"preaccount.lenovo.com"!=_satellite.getVar("Domain").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Indirect Site and Mobile Devices%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8bfb906f1135401882b38518cea386c7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL66d30febb50e49eb9637cec7e1fd9368",name:"East EMEA CSS Fix Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|EMEA CSS Fix|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3bb6eb2fcf6948068cdfdc1427a55845-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCda395a6e0f4b415aa2e895049fbb873c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL677e82b2f0234027b69540e72b715348",name:"Third Party Pixel : ConfirmIT Region : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|confirmit|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0fede85319b445eebf8f2eec5f46a57e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL678abfe19ac046b8a0193ed572c9ad94",name:"Wunderkind Conversion : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){
return-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou")||location.pathname.indexOf("orderConfirmation")>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"mx"==lmd.cc.toLowerCase()||"co"==lmd.cc.toLowerCase()||"pe"==lmd.cc.toLowerCase()||"cl"==lmd.cc.toLowerCase()||"ar"==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC62a912b039a347fbaf0dab98b6932b11-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL67d824b10a7244a3b31b15b3e07deff2",name:"Tealium : KR - Google AdWords Conversion 2 - Thank you page : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com")&&(document.URL.includes("/orderConfirmation")||lmd.pageName.includes("/orderConfirmation")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2f3c0b2e4dae4c2d890a07ca56fd8d07-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6847efd244c94d84adba2c884b400a37",name:"Tealium : HK - Top language selector - PC",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("hk"==lmd.cc.toLowerCase()||"hk"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&window.location.href.toLowerCase().includes("/p")&&(window.location.href.toLowerCase().includes("lenovo.com/hk")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/hk")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/hk")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc2abc3c5ce1f47a4916d3cb7c31dd19d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6860591bf1fc4c1b909aeb11357215a8",name:"DCR : Cart Addition EMEA : pixels Google Ads Conversion Tracking & Remarketing (gtag.js) - Cart(Analytics)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|flash cart add|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe886d902b6cd48be9a19d4f6d2a83e10-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL68efdf20d8c44ec184b650d07a8ea674",name:"BR : Tiktok Pixel - SMB Registration",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%BR - SMB Registration Page%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCeb59d96097474390acbedaee0e5cb023-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL68fa1e252f364760b0e18d850b05d759",name:"Wunderkind Conversion : Switzerland",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou")||location.pathname.indexOf("orderConfirmation")>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"ch"==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd6344de0c84541479eb6a6973f105953-source.min.js",language:"html",isExternal:!0}}]},{id:"RL6949ff64a6d94e96b946bafa1011a37d",name:"Tealium : IN Amazon Smart Pixel Pageview",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("in"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"in"==_satellite.getVar("Country Code").toLocaleLowerCase())&&window.location.href.includes("lenovo.com/in/en"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3ee5cdc790b64064a90847d975ab92d1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4ecc5f0d3966417791a4e56757215b21-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL695c0cda30254b4fb8036fa1d4befd89",name:"EMEA : Pixel Thank you page : Snapchat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|snapchat|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa792b9d3e3ed48d9a641985636b3bc56-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL69e4be229f9b432ebbf85ea2640540d6",name:"Custom code: India DCG Linkedln Onclick",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-16528107399650",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("/in/en/servers-storage/"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb37ee58cfe6549469351a019dce019fc-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfc75cff242064da5a61fc7819b4e6a64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6b2b81f41931400a89eb10fe3335de87",name:"Marketing : Wunderkind : AU",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"au"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC13f5664a6ec3471593d7a10b968b5459-source.min.js",language:"html",isExternal:!0}}]},{id:"RL6ca01e478301489db0781592871b142d",name:"Third Party Pixel : Product Cart Rule : RTB : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(null!=lmd.cart.allProducts[0].productID&&("jpmembers"==lmd.storeID||"jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&document.URL.toLowerCase().indexOf("cart")>-1)return!0}catch(e){console.log("Product ID Not Received",e)}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf59c75ff49e94a30a05acb9da183da7e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6cb3ae90b9ff4d479466cba0ac1d4f61",name:"Page Load Rule : LISA Taiwan",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovotwpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.76);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.16;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.11;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.11;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.87;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.71;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.69;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.01;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.08;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.49;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.73;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.28;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.15;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.01;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL6da83c2dc68f4fc98ed817d4008def8b",name:"Tealium : HK - Google Analytics : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("hk"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/hk")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/hk")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/hk"))&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC16f12dba3e684202bdf6e87335c50390-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6db1f35fb2da44ffaad6659ce903c1a0",name:"Direct Call Rule : Custom Interaction : All Site (Flash, Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"CustomInteraction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Custom Interaction (All sites)%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RL6f7036d8ff68495ea21f16c5cb4c739d",name:"EMEA : Banner- with timer- 23-24 April",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(e,t,o,n,r,a){try{for(r={is:[e,t],dt:[],tm:[],hd:0,ms:0},a=0;a<2;a++)o=r.is[a].substring(0,8),n=r.is[a].substring(8),r.dt[a]=new Date,console.log(r.dt[a]),"--------"!==o&&(r.dt[a].setFullYear(o.substring(0,4)),r.dt[a].setMonth(parseInt(o.substring(4,6))-1),r.dt[a].setDate(o.substring(6,8))),"----"!==n?(r.dt[a].setHours(n.substring(0,2)),r.dt[a].setMinutes(n.substring(2,4))):(r.dt[a].setHours(r.hd),r.dt[a].setMinutes(r.ms)),r.dt[a].setSeconds(r.ms),r.tm[a]=r.dt[a].getTime(),r.hd=23,r.ms=59;return r.n=(new Date).getTime(),r.n>=r.tm[0]&&r.n<=r.tm[1]}catch(t){return!1}}("202304230000","202304242359")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%storeID%",rightOperand:"deweb|atweb|frweb"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){
if(1!=location.pathname.toLowerCase().includes("/special-offers/back-to-school-deals")&&1!=location.pathname.toLowerCase().includes("/cyber-monday-deals")&&1!=location.pathname.toLowerCase().includes("/special-offers/black-friday")&&1!=location.pathname.toLowerCase().includes("/special-offers/midsummer-day")&&1!=location.pathname.toLowerCase().includes("/special-offers/ascension-day")&&1!=location.pathname.toLowerCase().includes("/fete-des-peres")&&1!=location.pathname.toLowerCase().includes("/nouvel-an-chinois")&&1!=location.pathname.toLowerCase().includes("/fete-des-meres")&&1!=location.pathname.toLowerCase().includes("/halloween")&&1!=location.pathname.toLowerCase().includes("/soldes")&&1!=location.pathname.toLowerCase().includes("/saint-valentin")&&1!=location.pathname.toLowerCase().includes("/noel")&&1!=location.pathname.toLowerCase().includes("/san-valentino")&&1!=location.pathname.toLowerCase().includes("/black-friday-cyber-monday")&&1!=location.pathname.toLowerCase().includes("/back-to-school")&&1!=location.pathname.toLowerCase().includes("/natale")&&1!=location.pathname.toLowerCase().includes("/regalos-de-navidad")&&1!=location.pathname.toLowerCase().includes("/flash-email")&&1!=location.pathname.toLowerCase().includes("/data-center")&&0==document.URL.toLowerCase().includes("checkout.lenovo.com")&&0==document.URL.toLowerCase().includes("cart")&&0==location.pathname.toLowerCase().endsWith("/gb/en/")&&0==location.pathname.toLowerCase().endsWith("/gb/en")&&0==location.pathname.toLowerCase().endsWith("/ie/en/")&&0==location.pathname.toLowerCase().endsWith("/ie/en")&&0==location.pathname.toLowerCase().endsWith("/dk/da/")&&0==location.pathname.toLowerCase().endsWith("/dk/da")&&0==location.pathname.toLowerCase().endsWith("/nl/nl/")&&0==location.pathname.toLowerCase().endsWith("/nl/nl")&&0==location.pathname.toLowerCase().endsWith("/se/sv/")&&0==location.pathname.toLowerCase().endsWith("/se/sv")&&0==location.pathname.toLowerCase().endsWith("/no/no/")&&0==location.pathname.toLowerCase().endsWith("/no/no")&&0==location.pathname.toLowerCase().endsWith("/be/nl/")&&0==location.pathname.toLowerCase().endsWith("/be/nl")&&0==location.pathname.toLowerCase().endsWith("/be/fr/")&&0==location.pathname.toLowerCase().endsWith("/be/fr")&&0==location.pathname.toLowerCase().endsWith("/fi/fi/")&&0==location.pathname.toLowerCase().endsWith("/fi/fi")&&0==location.pathname.toLowerCase().endsWith("/de/de/")&&0==location.pathname.toLowerCase().endsWith("/de/de")&&0==location.pathname.toLowerCase().endsWith("/at/de/")&&0==location.pathname.toLowerCase().endsWith("/at/de")&&0==location.pathname.toLowerCase().endsWith("/fr/fr/")&&0==location.pathname.toLowerCase().endsWith("/fr/fr")&&0==location.pathname.toLowerCase().endsWith("/services")&&0==location.pathname.toLowerCase().endsWith("/services/")&&0==location.pathname.toLowerCase().endsWith("/smart-devices")&&0==location.pathname.toLowerCase().endsWith("/smart-devices/")&&"support.lenovo.com"!=document.domain)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3266a4f26b944d13bad4a579849be9a4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6f9c6a2e9cd14403820c85696edbcd8f",name:"Facebook, Google, Yahoo: Complete SMB Registration JP",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&"smb"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc6830b3e920f4bbfb51e9dae08a18e0d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7044458120a347539ffcec78f2ed183e",name:"Pop Up tracking rule : Slider email Capture Cancel",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#bx-close-inside-1668571",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Pop Up tracking rule: Slider email Capture Cancel%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL705efffd5b0644b087cb41ce58caa2ab",name:"Qualaroo : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Mexico%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Search page%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCea201dd3c3d14101a2ba0d975b7ab7d9-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL70a34508ff3b401581188360bd829303",name:"EMEA: ISG New Popup Banner",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#_evidon-banner-acceptbutton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-accept",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-decline,#_evidon-barrier-declinebutton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%WE Country Code%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("/servers-storage")>-1&&"public"==lmd.storeType.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5eea65db68cc4ada9c55eec9faa1ab2c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL70b81a7aaa5d4d65be7313455e538f30",name:"Direct Call Rule : Social tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Social"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Social tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL70d04d5934a24067932bc97398ab658d",name:"IN Google Analytics (gtag.js) Config",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("lenovo.com/in/en")||lmd.cc.toLowerCase().includes("in"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/pageview.js",settings:{accounts:{1669382122190:{enabled:!0,options:[]}}},timeout:2e3,delayNext:!0}]},{id:"RL71286145cadb4b61bd8256120f35742f",name:"Teads : AuctID : Cookie",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"auctid",value:"([^&]+)",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"us"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb21d373fbde94c818dec582a1a48dd0a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL716848b85e534600964b5b03b3e14abe",name:"IN Amazon LinkOut Landing Page Legion - India",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.includes("/in/en/gaming/shop"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC18f8a0d7453542ffabb7b13853fd5d87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL71d859fc6fd6414b9ce8ee40ea7a7f0e",name:"Third Party Pixel : Inside Chat : Powerfront Scroll Chat Hide : NA",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:"#inside_liveChatTab > img"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return lmd.cc.toLowerCase().includes("us")||lmd.cc.toLowerCase().includes("ca")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(){return/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}return!!e()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/pb/"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7881775b03cf4c5292ed821d45375cf1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL722f75d3517349eca43cc5d4f167c2cc",name:"IN Quora Legion & Yoga Campaign",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("lenovo.com/in/en")||lmd.cc.toLowerCase().includes("in"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC274dea262deb45a08f5d6eae0e3d90a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7322bbd915be4f29b962aa8dbb908dc8",name:"LAS Direct - Powerfront Inside Chat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS direct%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%NOT pre-c%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"uat"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdc8c2bf8f09c4e46a71191f05827b1ed-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL74958e457bad4400a42cd6096e6bfd98",name:"Page Load Rule : LISA HongKong",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovohkpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.00);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.17;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.12;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.09;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.80;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.56;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.72;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.08;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.27;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.82;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.53;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.18;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL74cf5f2319fd4e08875809b6782ae283",name:"India - Facebook Enterprise & Amazon Pixel - Checkout",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("/in/en/checkout"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC82c64a9d71bb4201b357e977fb5108b7-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf9bddeeff2674685a440ebb58e9b959e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76cdcb4233014c84bb862a3dfae8b366",name:"Tealium : Instant Savings Fix - DCG",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("inweb"==lmd.storeID.toLowerCase()&&(window.location.href.includes("/p/")||window.location.href.includes("/c"))&&window.location.href.includes("/data-center/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCaf9d67f976a24575a1bb962591907fc0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL772b20152179498b81569ba5e4aa157b",name:"ANZ: Direct Call Rule : Cart Addition : Assembly : Advertising (Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("anz"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5aa3934afebe4bea9a2488a41e93a023-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL778bc45211f34f16a4a349f2842194fe",name:"Tealium : Criteo | Universal Dynamic Tag | ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1==location.pathname.indexOf("checkout")&&-1==location.hostname.indexOf("account.lenovo.com")&&-1==location.hostname.indexOf("checkout.lenovo.com")&&-1==location.hostname.indexOf("account.lenovo.com")&&-1==location.pathname.indexOf("orderconfirmation")&&-1==location.href.indexOf("thankyoupage"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"au"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"au"==_satellite.getVar("Country Code").toLowerCase()||"nz"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"nz"==_satellite.getVar("Country Code").toLowerCase()||void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCce5bf9257d264f45ac47d9910056380a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL78832d787e744d01b57a7edd92e5a46e",name:"Custom Code : Page Load : DCG-LDR-Redesign : East EMEA",events:[{
modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|dcg ldr|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/customer-centers".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/jo/en/joshadow/data-center/".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe63d88c6ecc84015a24aac5e5c7c7295-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdf281ada75ca4e8f93fed2e35b533d88-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL789ba8a8ef304978b2bd87d5e3a58e99",name:"Third Party Pixel : Page Load-Bundle Loader&Trigger : ConfirmIT : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%ConfirmIT Live Deploy%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS countries%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(0==location.pathname.toLowerCase().includes("oracle-chat-popup")&&"pre-c-hybris.lenovo.com"!=document.domain&&"www.prod.online.lenovo.com"!=document.domain&&"tele-hybris.lenovo.com"!=document.domain&&0==document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb68d874f6b794b608c5ebeaa26397878-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCace29ad90448499b9ad9a7a7f8f7d560-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7920321c4473413697ab07c7af7c3ae3",name:"Third Party Pixel : Bundle Loader : ConfirmIT : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&"tele"!=lmd.bu.toLowerCase()&&"runtest=true"!=location.search.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC24dba6df0d33445d9510764b67844cb2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL79a6e60deb7c45ab8618acda0691b6b9",name:"Third Party Pixel : Cart Page: Criteo : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(null!=lmd.cart.allProducts[0].productID&&("jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&document.URL.toLowerCase().indexOf("cart")>-1)return!0}catch(e){console.log("Product ID Not Received",e)}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe35fa994f87d4449a00488c36f0a8e98-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL79cd9dde184948e5949ac3de9ce27229",name:"Data Element Change : Current Step Product Configurator",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Current Config Step"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.getVar("Current Config Step").indexOf("tab")>=0)return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Current Step Product Configurator%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL7a31127796f2476f8f2ceadec5f2ff93",name:"Evidon : LGPD Cookie Consent",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/br/pt/privacy/",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe70516bc166b462d9eee0d3763cd6cff-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7b6fbcaaddcb47e9876d654ef102f9d3",name:"MarketingPixel | Page View | Crimtan | AU&NZ - Yoga brand page&Laptop Splitter",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("au"==lmd.cc&&"auweb"==lmd.storeID||"nz"==lmd.cc&&"nzweb"==lmd.storeID)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.internalsearchcanonical.includes("/au/en/yoga/")||lmd.internalsearchcanonical.includes("/nz/en/yoga/")||lmd.internalsearchcanonical.includes("/au/en/laptops/")||lmd.internalsearchcanonical.includes("/nz/en/laptops/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcf9fcde5aba3489fbc02f0898d1464af-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7d07ecf150434af9b144bc8c85f570c2",name:"Page Load Rule : LISA Brazil",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovobrpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.17;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.12;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.07;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.83;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.49;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.38;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.08;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.35;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.73;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.26;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.13;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0001;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL7d566eb2e7504b1f9cc570bf3c897404",name:"Target Tool Loaded - FLASH - Order Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/us/en",valueIsRegex:!0},{value:"/co/es",valueIsRegex:!0},{value:"/nl/nl",valueIsRegex:!0},{value:"/dk/da",valueIsRegex:!0},{value:"/fi/fi",valueIsRegex:!0},{value:"/se/sv",valueIsRegex:!0},{value:"/be/fr",valueIsRegex:!0},{value:"/be/nl",valueIsRegex:!0},{value:"/no/no",valueIsRegex:!0},{value:"/jp/ja",valueIsRegex:!0},{value:"/in/en",valueIsRegex:!0},{value:"/gb/en",valueIsRegex:!0},{value:"/ie/en",valueIsRegex:!0},{value:"/pl/pl",valueIsRegex:!0},{value:"/ca/en",valueIsRegex:!0},{value:"/au/en",valueIsRegex:!0},{value:"/kr/ko",valueIsRegex:!0},{value:"/mx/es",valueIsRegex:!0},{value:"/lenovo-ovp/login.action",valueIsRegex:!0},{value:"/nz/en",valueIsRegex:!0},{value:"/sg/en",valueIsRegex:!0},{value:"/my/en/",valueIsRegex:!0},{value:"/de/de/",valueIsRegex:!0},{value:"/fr/fr",valueIsRegex:!0},{value:"/at/de/",valueIsRegex:!0},{value:"/br/pt",valueIsRegex:!0},{value:"/es/es",valueIsRegex:!0},{value:"/it/it",valueIsRegex:!0},{value:"/ch/de",valueIsRegex:!0},{value:"/tw/zh",valueIsRegex:!0},{value:"/hk/en",valueIsRegex:!0},{value:"/cl/es",valueIsRegex:!0},{value:"/ar/es",valueIsRegex:!0},{value:"/it/it",valueIsRegex:!0},{value:"/store",valueIsRegex:!0},{value:"/ch/en",valueIsRegex:!0},{value:"/ch/fr",valueIsRegex:!0},{value:"/pt/pt",valueIsRegex:!0},{value:"/hk/zf",valueIsRegex:!0},{value:"/th/en",valueIsRegex:!0},{value:"/th/th",valueIsRegex:!0},{value:"/pe/es",valueIsRegex:!0},{value:"/us/lenovopro/en",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"tele-hybris",valueIsRegex:!0},{value:"tun-c-hybris",valueIsRegex:!0},{value:"pre-c-hybris",valueIsRegex:!0},{value:"admin-prod-c-hybris",valueIsRegex:!0},{value:"tun-r-hybris",valueIsRegex:!0},{value:"pre-u-hybris",valueIsRegex:!0},{value:"nfe.sit.online",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/vipmembers",valueIsRegex:!0},{value:"account.lenovo.com",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("Flash"==$("meta[name='platform']").attr("content")&&window.location.href.indexOf("/thankyou.html")>-1)return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Target : Flash Order Confirmation Parameters Update%",instanceName:"alloy",decisionScopes:"%Target: getDecisionScopes_FLASH - Order Confirmation %"}}]},{id:"RL7d61b9edcf2a4e3485975721370d2ca6",name:"Direct Call : OMO : Buy Now",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"buy_now"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for OMO Buy_now%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL7da31851ffce487c881ece8a08e6d524",name:"Facebook - Checkout order summary - TW Public",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return/^(tw)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("lenovo.com/tw".toLowerCase())>-1||/^(tw)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/tw".toLowerCase())>-1||/^(tw)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("uat-www.lenovo.com/tw".toLowerCase())>-1||/^(tw)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("pre-c-hybris.lenovo.com/tw".toLowerCase())>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return location.pathname.toString().toLowerCase().indexOf("/checkout".toLowerCase())>-1&&$('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/checkout".toLowerCase())>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Storeid%",rightOperand:"twweb"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC224512636cfe4936b4d6283f4dec582b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7e3dcb4015a0451c9333ca0f20708411",name:"AR - Localidades Checkout",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Argentina%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LA Shipping Billing Page%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC409423e98f014faaad7c732233e60e98-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7e696a7f45514f1ebc42885d6f38a82b",name:"Marketing : Floodlight Add to Cart: JP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:53}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n  gtag('event', 'conversion', {\n    'allow_custom_scripts': true,\n    'send_to': 'DC-13656467/conve0/addto0+unique'\n  });\n</script>\n<noscript>\n  <script>\n    var gdprValue = 1;\n    var gdprConsentValue = 1;\n    var ordValue = lmd.cart.totalPrice; \n    var numValue = _satellite.getVar('Cart Quantity Sum'); \n\n    var imageUrl = 'https://ad.doubleclick.net/ddm/activity/src=13656467;type=conve0;cat=addto0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=' + gdprValue + ';gdpr_consent=' + gdprConsentValue + ';ord=' + ordValue + ';num=' + numValue + '?';\n\n    var img = new Image();\n    img.src = imageUrl;\n    img.width = 1;\n    img.height = 1;\n    img.alt = '';\n    document.body.appendChild(img);\n  </script>\n</noscript>\n",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL7e6cc65567794dd2bc8835bcd1fa518a",name:"Direct Call : Google Analytics Events : Menu Clicked",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MenuClicked"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe8a35108cb2340c783b9468565fbf20a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7e77ab22899144e49333e47acbb22e6f",name:"Marketing | Page View | Facebook - CAP (Indirect)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("cap"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("Not Checkout or Account")||1==document.URL.toLowerCase().includes("/account/register/check")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("indirect"==lmd.bu.toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4ba5e7aa45fb43c691415e0e8bb93621-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7f604e83f4a946bba5add124acbbd057",name:"Third Party Pixel:Global Page Load:Qualaroo:Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!0!==_satellite.getVar("Disable Pixel On Email URL")&&"tele"!==lmd.bu.toLowerCase()&&"lenovoapp"!==navigator.userAgent){const e=document.querySelector('meta[name="taxonomytype"]').content.toLowerCase(),t=document.URL.toLowerCase()
;if(!(e.includes("checkout")||e.includes("cart")||e.includes("purchase")||e.includes("thankyou"))&&("public"===lmd.bu.toLowerCase()||t.includes("www.lenovo.com/us/en/student/")||t.includes("www.lenovo.com/us/en/d/laptops-for-college/")||t.includes("www.lenovo.com/us/en/landingpage/students-and-teachers/")||t.includes("www.lenovo.com/us/en/student/k-12-discount-store/")||t.includes("www.lenovo.com/us/members/usedustore/en/student/")||t.includes("www.lenovo.com/us/vipmembers/en/education/students/")||t.includes("www.lenovo.com/us/vipmembers/en/login/usparents/index.html")||t.includes("www.lenovo.com/us/vipmembers/en/d/k-12/")||t.includes("www.lenovo.com/us/members/usedustore/en/d/deals/student/")||t.includes("www.lenovo.com/us/members/en/d/deals/student/")||t.includes("account.lenovo.com/us/lenovopro/en/smbaccount/landing")||t.includes("www.lenovo.com/gb/en/gaming/shop/")||t.includes("www.lenovo.com/gb/en/d/deals-and-coupons/gaming/")||t.includes("www.lenovo.com/gb/en/legion/")||t.includes("www.lenovo.com/gb/en/d/gaming-laptops/")||t.includes("www.lenovo.com/gb/en/d/accessories-and-software/gaming-accessories/")||t.includes("www.lenovo.com/gb/en/c/laptops/loq-laptops")||t.includes("www.lenovo.com/gb/en/d/gaming-desktops")||t.includes("www.lenovo.com/gb/en/d/accessories-and-monitors/gaming-monitors")||t.includes("www.lenovo.com/in/en/d/students-offer")||t.includes("www.lenovo.com/au/en/gaming/shop/")||t.includes("www.lenovo.com/au/en/gaming-pc/legion/")||t.includes("www.lenovo.com/us/en/d/accessories-and-monitors/monitors/gaming-monitors/")||t.includes("www.lenovo.com/us/en/d/accessories-and-software/gaming-headsets-and-microphones/")||t.includes("www.lenovo.com/us/en/d/accessories-and-software/gaming-mice-and-mouse-pads/")||t.includes("www.lenovo.com/us/en/d/accessories-and-software/gaming-keyboards/")||t.includes("www.lenovo.com/us/en/d/accessories-and-software/pc-gaming-accessories/")||t.includes("www.lenovo.com/us/en/custom-gaming-laptop/")||t.includes("www.lenovo.com/us/en/d/gaming-desktops/")||t.includes("www.lenovo.com/us/lenovopro/en/search")||t.includes("www.lenovo.com/ca/en/business/benefits/")||t.includes("www.lenovo.com/ca/en/business/small-business-benefits/")||t.includes("www.lenovo.com/ca/en/business/medium-business-benefits/")||t.includes("www.lenovo.com/ca/en/business/reseller-benefits/")||t.includes("https://www.lenovo.com/dk/da/d/gaming-laptops/")||t.includes("https://www.lenovo.com/gb/en/d/university-student-laptops/")||t.includes("https://www.lenovo.com/gb/en/d/secondary-school-student-laptops/")||t.includes("https://www.lenovo.com/gb/en/d/primary-school-student-laptops")||t.includes("https://www.lenovo.com/gb/en/d/laptops-for-educators/")||t.includes("https://www.lenovo.com/gb/en/d/accessories-and-software/students/")||t.includes("https://www.lenovo.com/dk/da/studierabat/")||t.includes("https://www.lenovo.com/dk/da/d/university-student-laptops/")||t.includes("https://www.lenovo.com/dk/da/d/secondary-school-student-laptops/")||t.includes("https://www.lenovo.com/dk/da/d/primary-school-student-laptops")||t.includes("https://www.lenovo.com/dk/da/d/laptops-for-educators/")||t.includes("https://www.lenovo.com/dk/da/d/accessories-and-software/students/")||t.includes("https://www.lenovo.com/se/sv/studentrabatt/")||t.includes("https://www.lenovo.com/se/sv/d/university-student-laptops/")||t.includes("https://www.lenovo.com/se/sv/d/secondary-school-student-laptops/")||t.includes("https://www.lenovo.com/se/sv/d/primary-school-student-laptops")||t.includes("https://www.lenovo.com/se/sv/d/laptops-for-educators/")||t.includes("https://www.lenovo.com/se/sv/d/accessories-and-software/students/")||t.includes("https://www.lenovo.com/dk/da/d/gaming-laptops/")||t.includes("https://www.lenovo.com/dk/da/legion/")||t.includes("https://www.lenovo.com/dk/da/c/laptops/loq-laptops/")||t.includes("https://www.lenovo.com/dk/da/gaming/shop/")||t.includes("https://www.lenovo.com/dk/da/d/gaming-desktops/")||t.includes("https://www.lenovo.com/dk/da/d/accessories-and-monitors/gaming-monitors/")||t.includes("https://www.lenovo.com/dk/da/d/accessories-and-software/gaming-accessories/")||t.includes("https://www.lenovo.com/dk/da/d/gaming-pcs/")||t.includes("https://www.lenovo.com/se/sv/d/gaming-laptops/")||t.includes("https://www.lenovo.com/se/sv/legion/")||t.includes("https://www.lenovo.com/se/sv/c/laptops/loq-laptops/")||t.includes("https://www.lenovo.com/se/sv/gaming/shop/")||t.includes("https://www.lenovo.com/se/sv/d/gaming-desktops/")||t.includes("https://www.lenovo.com/se/sv/d/accessories-and-monitors/gaming-monitors/")||t.includes("https://www.lenovo.com/se/sv/d/accessories-and-software/gaming-accessories/")||t.includes("https://www.lenovo.com/se/sv/d/gaming-pcs/")))return!0}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(["us","ca","in","gb","au","dk","se"].includes(lmd.cc.toLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5f645d4a1bcc4b47ba02e52dd71cbde6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f951620edd9452c9661e33b072d001b",name:"Tealium: Override | Intel RSA | Flixcar quick view - AU|JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("auweb"==_satellite.getVar("storeID")){if(-1!=window.location.href.indexOf("/p/")||-1!=_satellite.getVar("Taxonomy Type").toLowerCase().indexOf("subseriespage"))return!0}else{if("jp"!=lmd.cc.toLowerCase())return!1;if(location.pathname.toLowerCase().includes("/p/"))return!0}}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd7ddd0855ed2491f950460ab4dcd0ce3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7f9c1637646f4accb68711ea32670904",name:"PE_LegalData_Crosssite",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Per\xfa%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%LA - Not Flash Platform%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC318476e855504801ac3905860cf3242b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL812bce5857914b36881e06646ed9dc50",name:"EMEA : UpSellit - Nov 23 2015 (Global)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|upsellit|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC54b73d68676340cf91cdf3a27a24b31b-source.min.js",language:"html",isExternal:!0}}]},{id:"RL82512c1c2eae40b2b6ca4513888616a8",name:"Direct Call : SR Cart View",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shop_run_cart"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Cart View%",rightOperand:"Cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%cart:event:name%",rightOperand:"scadd"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - SR Cart View%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd1c56e2c2c9a407a918f136ee4dfa139-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL82ec8674ae624121ad94cee8b84e49ac",name:"Direct Call Rule : LPP Notification Bell",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Header_bell"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for LPP Notification Bell%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL835791b2050a43b697d80b59cef2a684",name:"Pixel CNET - WPC-Accessory-PDP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(document.querySelector('meta[name="productid"]').content.startsWith("78")&&"us"==_satellite.getVar("Target : Country")&&"accessory"==_satellite.getVar("Target : Meta Sub Taxonomy Type"))return!0}catch(e){console.log("Error / productID not recived in CNET Pixel")}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdc4f56609db94f629ce06ecde2dc5b84-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83e236f9898540acbdbd930b8b1561ab",name:"Floodlight: IN-DoubleClick-Floodlight-Config-Yoga",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.includes("lenovo.com/in/en")||window.location.href.includes("lenovo.com/bd/en")||window.location.href.includes("lenovo.com/lk/en"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5faeb496a03447fe889333e4d8b7a324-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL840ecbff05dd47c5b1e8d1f85a3f2bc1",name:"Wunderkind - JP Conversion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou")||location.pathname.indexOf("orderConfirmation")>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdaa505c6012143e3abfc27f76027ae2b-source.min.js",language:"html",isExternal:!0}}]},{id:"RL8474f80c0df2450bb90cc2f29c62ef3c",name:"MarketingPixel | Page View | TradeDesk | AU Public | Brands&PDP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Domain%",rightOperand:"www.lenovo.com"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("au"==lmd.cc&&"auweb"==lmd.storeID)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.getVar("Pathname").includes("/gaming-pc/legion/")||_satellite.getVar("Pathname").includes("/yoga/")||_satellite.getVar("Pathname").includes("/yoga/products/")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-pro-series/legion-pro-5i-gen-9-(16-inch-intel)/83dfcto1wwau1")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-pro-series/legion-pro-5i-gen-9-(16-inch-intel)/83dfcto1wwau2")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-5-series/lenovo-legion-5i-gen-9-(16-inch-intel)/83dgcto1wwau2")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-5-series/lenovo-legion-5i-gen-9-(16-inch-intel)/83dgcto1wwau1")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-7-series/legion-7i-gen-9-(16-inch-intel)/83fdcto1wwau1")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-7-series/legion-7i-gen-9-(16-inch-intel)/83fdcto1wwau2")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-7-series/lenovo-legion-pro-7i-gen-9-(16-inch-intel)/83decto1wwau1")||_satellite.getVar("Pathname").includes("/p/laptops/legion-laptops/legion-9-series/legion-9i-(16-inch-intel)/83g0cto1wwau1")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-7-2-in-1-gen-9-(14-inch-amd)/len101y0046")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-7i-2-in-1-gen-9-(14-inch-intel)/len101y0044")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-7i-2-in-1-gen-9-(16-inch-intel)/len101y0047")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-pro-series/yoga-pro-7i-gen-9-(14-inch-intel)/len101y0040")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-slim-series/yoga-slim-7i-gen-9-(14-inch-intel)/len101y0041")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-pro-series/yoga-pro-7-gen-9-(14-inch-amd)/len101y0048")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-9i-2-in-1-gen-9-(14-inch-intel)/len101y0043")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-pro-series/yoga-pro-9i-gen-9-(16-inch-intel)/len101y0039")||_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-book-9i-gen-9-(13-inch-intel)/len101y0042"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0e00ea6953a84c698dd7474ab1eee555-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL84985a5dd3b945f4bff356de89038ad8",name:"Custom Code : DCG-NonLDR-Redesign : East EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|dcg non ldr|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/customer-centers".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/future-defined".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3227edb932234018b206e4b2dfcffcbf-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe0e1e6cac27e471d8013d8c7a83603a0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL84e934691fcd4ca7a49610a744565880",name:"Third Party Pixel : CV : RTB : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(null!=lmd.purchase.allProducts[0].productID&&("jpmembers"==lmd.storeID||"jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&document.URL.toLowerCase().indexOf("thankyou")>-1)return!0}catch(e){console.log("Product ID not received",e)}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd78b3069bfea430bbdb358b93fbeb5a3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL84ecd15fffd64f098e323619abeb8d40",name:"Third Party Pixel : Product builder : Criteo : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&document.URL.toLowerCase().indexOf("/pb/index.html?maincode=")>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC252ae7e70ad34e95aca7b4d960a2736a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL84f0c92066f7475cbf8baeb911a5393b",name:"Google Ads - Colombia",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.toString().toLowerCase()=="coweb".toLowerCase()||lmd.storeID.toString().toLowerCase()=="cosmbpro".toLowerCase()||lmd.storeID.toString().toLowerCase()=="coedu".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC833f23a76f4d420a86f4fd71532a9b95-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL856c3758d26142f09d264cd16484a65f",name:"pixel Unthinkable pages-NA tracking",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"ca|us",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9524e52335b74cc8b0b62dd727138456-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL858b63e2607a43ecbec3d696c0bc0f1e",name:"Page Load Rule : LISA Germany",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovodepub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.99);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.01);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.19;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.14;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.13;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.99;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.34;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.14;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.15;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.38;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.57;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.22;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.03;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.00;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL8590366844b34b9d88b45bafab6b99b6",name:"Yahoo : Conversion : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.URL.toLowerCase().includes("thankyou")||document.URL.toLowerCase().includes("orderconfirmation")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC166b42a4b2a54ad688eedfa3dcfd2cb7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL85fe6f0832ea400bb4d60a7a4474a426",name:"Tealium : ID- Hide my account and cart on MSA : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("id"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/id")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/id"))&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd70ed18ee8e3452293c1c1e3c2408acf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL86179385d82a46a78948ac249fedcb2f",name:"Direct Call Rule: Internal Search : Content Click: News Link Tracking: All Sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"searchCategory_NewsLink"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search : Content Click: News Link Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL862fb70bb724403c896de439bfff11e3",name:"Quantum Metric : LAS & BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%NOT pre-c%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%QM countries%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%QM Domains%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!lmd.cc||"br"!=lmd.cc.toLowerCase()||_satellite.getVar("Quantum Metric Consent Rule")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return lmd.cc&&("br"==lmd.cc.toLowerCase()||_satellite.getVar("LAS countries"))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"quantum-metric/src/lib/actions/startCapture.js",settings:{configuration:"default"},timeout:2e3,delayNext:!0}]},{id:"RL863b40953d96445a9bd5e20dca9a0599",name:"Yahoo :Conversion : Registration : JP",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3fa16936475e48639e117460e1b5d7f7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL867d1bdbc1cb4f7fb4c16bfdfc225eef",name:"ZZ_NP_Tealium : opt_20200617-thanku : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&(location.pathname.includes("orderConfirmation")||location.pathname.includes("thankyou"))&&"tele"!=lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb5132bbb45cf41c4a8d6b7d55d4bed89-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL86d4a253005a434cbbb2e311bec75d33",name:"Prices function : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%exclude homepage%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS countries%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2cf5a57d15af48f092c87329f0bfbc69-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL874a182a0146478b99d49f449dbeebab",name:"Page Load : Purchase : All Sites GA4",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%purchase:event%",rightOperand:"valid purchase"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"es"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8c418acf019c4ef8b78f7c82b4e8e35a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL87ca8e6d447e418d9ed4c98e421fd50f",name:"Tealium : Bing Ads Universal Event Tracking (UET) - India : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("in"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"in"==_satellite.getVar("Country Code").toLocaleLowerCase())&&document.URL.toLowerCase().includes("lenovo.com/in/en"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2772c853cd2141d5bc844b06cabe712c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL88766ac5a1ff41439d6734fe4059f172",name:"Direct Call Rule : LPP Registration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"LPPRegistration"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for LPP Registration%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8a3afecf26a24f0bad53ef9ff5a426df",name:"Persist Midas Contact ID : Global",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==_satellite.getVar("RRID Query String")&&""!==_satellite.getVar("RRID Query String"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"_satellite.cookie.set('rrid', _satellite.getVar(\"RRID Query String\"));",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL8ac39560d3034bc0a9e83f0aeca19a78",name:"Third Party Pixel: Inside Chat: Powerfront: Sitewide: AU|NZ UAT",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1==_satellite.getVar("storeID").indexOf("augooglestadia")||-1==_satellite.getVar("storeID").indexOf("nzgooglestadia")||-1!=document.location.href.indexOf("augooglestadia")||-1!=document.location.href.indexOf("nzgooglestadia")||void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nz"==_satellite.getVar("Country Code").toLocaleLowerCase()||"au"==_satellite.getVar("Country Code").toLocaleLowerCase()||"nz"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"au"==_satellite.getVar("Target : Country").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("auweb"==lmd.storeID||"nzweb"==lmd.storeID||"ausmbpro"==lmd.storeID||"nzsmbpro"==lmd.storeID||"education"==lmd.storeID||"nzeducation"==lmd.storeID||"ausharelenovo"==lmd.storeID||"nzsharelenovo"==lmd.storeID)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"uat-www.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()||"uat-account.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()||"pre-www.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()||"preaccount.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Indirect Site and Mobile Devices%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1c9dea8331cd4c0384bc79d3a172ac6e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8b816a77f02f40b3a020fa054063fff0",name:"Analytics : Direct Call Rule : Cart Addition : Flash Countries",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"omoin"!==lmd.storeID}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Cart Add%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcdb64ad59e3e4e58a38e8957ebd0a51a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8b829c98ad7e49c4ba15aacf87e8dcb3",name:"Assembly - Floodlight Campaign Manager : LAS & APEM",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Meta Data : Business Unit%",rightOperand:"public_consumer|smb|public"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("latam"==lmd.regioncode.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"sasia"==lmd.regioncode.toLowerCase()||"cap"==lmd.regioncode.toLowerCase()||"las"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.hostname.toString().toLowerCase()!="test-tele-hybris.lenovo.com".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Doubleclick Consent Rules%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe0797156fa9d48f482cfd62ef28f3aeb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bbbe63933954622a1cb75f1d7c7d121",name:"Tealium : TW - New Email Signup",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(document.URL.toLowerCase().includes("tw/zh/login")||document.URL.toLowerCase().includes("tw/zh/login/"))&&(window.location.href.toLowerCase().includes("lenovo.com/tw")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/tw")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd45537f80912418cafac4858793454b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bcc5111ae71487e8fd47ef2675eb149",name:"EMEA :Homepage Espot UI improvement",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|fe homepage espot|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(null!=document.querySelector('meta[name="platform"]')&&"flash"!=document.querySelector('meta[name="platform"]').content.toLowerCase()&&(location.pathname.endsWith("/pc")||location.pathname.endsWith("/pc/")||location.pathname.endsWith("/phones")||location.pathname.endsWith("/phones/")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC093cd44e86394f7d97372cdd2fa2cfc4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8be24b919d1c481bafd14173561bf51e",name:"Tealium : ValueCommerce - New : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu.toLowerCase()",value:"tele"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC92d8cc17626942fa9ab1f865d1c5f45a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8be33ae00c744b58aa0129e69f9b5038",name:"Direct Call Rule : Windows - EBC",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Windows_EBC"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Windows - EBC%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8c338828209e41fdb933a5a3dc6af5d6",name:"Direct Call Rule : IDME Initiate : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ID.me_Click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For IDME Initiate%",type:"web.webinteraction.linkClicks",
instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8c40c5fdfc0f4744ace6508770108208",name:"Marketing : Floodlight Sales : JP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n  gtag('event', 'purchase', {\n    'allow_custom_scripts': true,\n    'value': lmd.purchase.totalPrice,\n    'transaction_id': lmd.purchase.orderID,\n    'send_to': 'DC-13656467/sales0/sales0+transactions'\n  });\n  var sanitizedTotalPrice = encodeURIComponent(lmd.purchase.totalPrice).replace(/[\\(\\)\\[\\]{}]/g, ''); // Remove problematic characters\nvar sanitizedOrderID = encodeURIComponent(lmd.purchase.orderID).replace(/[\\(\\)\\[\\]{}]/g, ''); // Remove problematic characters\n\nvar imageURL = \"https://ad.doubleclick.net/ddm/activity/src=13656467;type=sales0;cat=sales0;qty=1;cost=\" + sanitizedTotalPrice + \";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=\" + sanitizedOrderID + \"?\";\n\n\n</script>\n\n\n\n<noscript>\n  \n<img src=\"' + imageURL + '\" width=\"1\" height=\"1\" alt=\"\"/>\n\n\n</noscript>\n\n\n",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL8c537ded29114af2a776405895593b5d",name:"Direct Call Rule: Internal Search : Facet Tracking: All sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_facets_value"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search : Facet Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8c56cb50c0ac46f7892ed32f4adf6f1f",name:"Page Load : Registration Start : All site (Hybris)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Registration Start DE%",rightOperand:"start"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Registration Start%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8c8ad41cdd27433fa1b5e57061abf9ad",name:"B2B - Pixels Tealium Custom Container - U of VA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if("1215489100"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("cart"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9ea1e4621cb441be9361e23362c616b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8cb814855e074ac6bbd7257c0686b2af",name:"Direct Call Rule: Internal Search : No Result Recommend: All sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"NoSearch_Recommend"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search : No Result Recommend%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8d49b449badb42b3b12fa7d9b0e4bf58",name:"Direct Call Rule : Anchor Tab Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AnchorTab_tracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM object for Anchor Tab%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8dc4865b16144e9e9addf5102c011857",name:"Page Load : Product View : All Sites (Hybris)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%Platform%",rightOperand:"flash"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/p/",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/customize",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Hybris Product View%",data:"%Target : Product Page & Order Confirmation Parameters Update%",type:"commerce.productViews",instanceName:"alloy",decisionScopes:"%Target: getDecisionScopes-Product_Page&Order_Confirmation%",renderDecisions:!0}}]},{id:"RL8dc5e54f67d4474b956c55f486d58fc8",name:"Tealium : Quantum Metric : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()){var e=/^(jpsmbpro|jpweb|jped|jppartssale)$/;if(matches=lmd.storeID.match(e),("www.lenovo.com"==location.hostname.toLowerCase()||"canada.lenovo.com"==location.hostname.toLowerCase()||"checkout.lenovo.com"==location.hostname.toLowerCase()||"tele-hybris.lenovo.com"==location.hostname.toLowerCase()||"account.lenovo.com"==location.hostname.toLowerCase()||"flash.lenovo.com"==location.hostname.toLowerCase()||"pre-www.lenovo.com"==location.hostname.toLowerCase()||"preaccount.lenovo.com"==location.hostname.toLowerCase())&&null!==matches)return!0}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"quantum-metric/src/lib/actions/startCapture.js",settings:{configuration:"default"}}]},{id:"RL8dd5ee737cba40b6a8c4be499ad0d5bf",name:"Analytics : Direct Call Rule : Cart Addition : Tiktok : ANZ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^au|nz$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC73d96ff7d77349b29f923dfe70e386bf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e3c0c261f9c413980c7f62889322d02",name:"Page Load Rule : LISA Argentina",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovoarpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.17;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.1;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.05;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.72;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.58;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.49;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.04;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.63;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.94;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.25;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.16;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL8e4998afb2084911b37d19f286340891",name:"Tealium : FB, Tiktok, Reddit, Yahoo Pixel : Complete Registration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase()||"jp"==lmd.cc.toLowerCase())&&"smb"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb19a010ec2164ab09d09cb8574dc1d01-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC81bff6037bb142ff9176a9347e9d30dd-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9b457536e0b244d7ac527942193e3828-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa03624f58186496597df9c64cb8117e5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8ec050fd566745b4a59d1b2cfadf57c6",name:"Analytics : Page Load Rule - Product View : OMO",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"undefined"!=lmd.storeID&&""!=lmd.storeID&&"omoin"==lmd.storeID&&(!!(window.location.href.includes("/laptops/")||window.location.href.includes("desktops/")||window.location.href.includes("accessories-and-monitors/"))||void 0)}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Product View OMO%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RL8eda4331f8744e6f967ab495b76387cf",name:"EMEA : pixels DCG newsletter registration & DCG newsletter registration pre-c",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:110}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|dcg ldr news|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%DCG & O365%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1==window.location.href.indexOf("isg_ldr_preview"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC452a510c4c8a4253a1bcdad5e832b949-source.min.js",language:"html",isExternal:!0}}]},{id:"RL8f12e5787b9c476481701def0615cbe7",name:"Google Ads Conversion - SMB registration BR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return"br"==lmd.cc.toLowerCase()&&"smb"==lmd.bu.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Google Adwords Consent Rules%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4f99b970777d4caaa6c04996abac8861-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8f2ce77c65334c2db1ce86d9790a2912",name:"Direct Call Rule : Confirmit_Survey_Finish : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"survey_finish"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Confirmit_Survey_Finish%",type:"web.webpagedetails.pageViews",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8f3a1367f0ef457981ab05f5d167ae29",name:"Tealium : Bing Ads : CAP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){const e=/^(sg|my|th|ph|hk|tw|kr)$/i,t=$('meta[name="country"]').attr("content");return e.test(lmd.cc)?(console.log(`${lmd.cc} is a valid country code`),!0):e.test(t)?(console.log(`${t} is a valid country code`),!0):void console.log(`${lmd.cc} is not a valid country code`)}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9ccd3254496c47cf85e11a3f3e7430f4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8fa4271a23cb4dec9f01f04797ec946b",name:"EMEA : pixel TikTok - Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|tiktok|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())&&(-1==location.pathname.indexOf("checkout")&&"account.lenovo.com"!=location.hostname||"account.lenovo.com"!=location.hostname&&"checkout.lenovo.com"!=location.hostname))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe6477087479f4d8c874e85ff3e6eb923-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8fe8509e81e34be4bfb246180ed01527",name:"Page Load : Login Analysis",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%login Status - May 10, 2016 12:23:48 PM%",rightOperand:"logged in"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Login Analysis%",type:"web.webpagedetails.pageViews",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL906e2ad858754ec99ee498d8320b9440",name:"Tealium : Criteo | For category page - ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"au|nz",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1==document.URL.indexOf("/laptops")&&"Splitter Page Laptops"==lmd.taxonomytype||-1==document.URL.indexOf("/laptops/results/")||document.URL.indexOf("/laptops/subseries-results/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/c/"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe5bc51ca2ec940f4bcfdf9987f770e05-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL909e93e2140f4bafbb24eedf02e03597",name:"Evidon Universal",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu",value:"LE"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"us"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!document.domain.toLowerCase().includes("truscale")}},
timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!document.URL.toLowerCase().includes("billdeskload")&&!document.URL.toLowerCase().includes("mid_loading")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%Is Vantage%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"what-is-hotmail-preview"},timeout:2e3}],actions:[{modulePath:"evidon-universal-consent-platform/src/lib/actions/writeScript.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC14e6762a4c154b969ad76835f7a95a3e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL90d63392ae184861be021b8abdd1f55b",name:"Direct Call Rule : Add to Cart : Product Page CTO",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"PDP_ATCustomize"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Add to Cart : Product Page CTO%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL90dac027652b4f8a8be1474558b74cba",name:" MSA Retarget Global | BR_LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.getVar("Domain").toLowerCase().indexOf("tele-hybris".toLowerCase())<0&&_satellite.getVar("Target : Meta Storeid").toLowerCase()!="education".toLowerCase()&&_satellite.getVar("Pathname").toLowerCase().indexOf("/my-account".toLowerCase())<0&&_satellite.getVar("Target : Meta Storeid").toLowerCase()!="broutlet".toLowerCase()&&"kr"!=lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("LAS countries")&&_satellite.getVar("LAS countries")||lmd.cc&&"br"==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC10af36585ff84efdabc58f1e93fe507b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL91553b0b4d75489eb2ed91300ba44606",name:"Third Party Pixel : Movable Ink : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Meta Data : Business Unit%",rightOperand:"public_consumer|smb|public"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS countries%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC286a24b0ea48413f982d2bcd90fcdf89-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL918fbe5bdf894af4a86105fb1f1e6ac3",name:"Tealium : SEO visit APEM/ANZ/LAS/EMEA/JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"us"!=lmd.cc.toLowerCase()&&"ca"!=lmd.cc.toLowerCase()&&"au"!=lmd.cc.toLowerCase()&&"nz"!=lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5d107f552e0a4fbab9fd7f14f01f9b51-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL922dc6c0632a41acafa6d182df995624",name:"EMEA : Banner- without timer- 23-24May",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(e,t,o,n,r,a){try{for(r={is:[e,t],dt:[],tm:[],hd:0,ms:0},a=0;a<2;a++)o=r.is[a].substring(0,8),n=r.is[a].substring(8),r.dt[a]=new Date,console.log(r.dt[a]),"--------"!==o&&(r.dt[a].setFullYear(o.substring(0,4)),r.dt[a].setMonth(parseInt(o.substring(4,6))-1),r.dt[a].setDate(o.substring(6,8))),"----"!==n?(r.dt[a].setHours(n.substring(0,2)),r.dt[a].setMinutes(n.substring(2,4))):(r.dt[a].setHours(r.hd),r.dt[a].setMinutes(r.ms)),r.dt[a].setSeconds(r.ms),r.tm[a]=r.dt[a].getTime(),r.hd=23,r.ms=59;return r.n=(new Date).getTime(),r.n>=r.tm[0]&&r.n<=r.tm[1]}catch(t){return!1}}("202305230000","202305242359")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%storeID%",rightOperand:"itweb|esweb|ptweb|beweb|nlweb|dkweb|seweb|noweb|fiweb"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=location.pathname.toLowerCase().includes("/special-offers/back-to-school-deals")&&1!=location.pathname.toLowerCase().includes("/cyber-monday-deals")&&1!=location.pathname.toLowerCase().includes("/special-offers/black-friday")&&1!=location.pathname.toLowerCase().includes("/special-offers/midsummer-day")&&1!=location.pathname.toLowerCase().includes("/special-offers/ascension-day")&&1!=location.pathname.toLowerCase().includes("/fete-des-peres")&&1!=location.pathname.toLowerCase().includes("/nouvel-an-chinois")&&1!=location.pathname.toLowerCase().includes("/fete-des-meres")&&1!=location.pathname.toLowerCase().includes("/halloween")&&1!=location.pathname.toLowerCase().includes("/soldes")&&1!=location.pathname.toLowerCase().includes("/saint-valentin")&&1!=location.pathname.toLowerCase().includes("/noel")&&1!=location.pathname.toLowerCase().includes("/san-valentino")&&1!=location.pathname.toLowerCase().includes("/black-friday-cyber-monday")&&1!=location.pathname.toLowerCase().includes("/back-to-school")&&1!=location.pathname.toLowerCase().includes("/natale")&&1!=location.pathname.toLowerCase().includes("/regalos-de-navidad")&&1!=location.pathname.toLowerCase().includes("/flash-email")&&1!=location.pathname.toLowerCase().includes("/data-center")&&0==document.URL.toLowerCase().includes("checkout.lenovo.com")&&0==document.URL.toLowerCase().includes("cart")&&0==location.pathname.toLowerCase().endsWith("/gb/en/")&&0==location.pathname.toLowerCase().endsWith("/gb/en")&&0==location.pathname.toLowerCase().endsWith("/ie/en/")&&0==location.pathname.toLowerCase().endsWith("/ie/en")&&0==location.pathname.toLowerCase().endsWith("/dk/da/")&&0==location.pathname.toLowerCase().endsWith("/dk/da")&&0==location.pathname.toLowerCase().endsWith("/nl/nl/")&&0==location.pathname.toLowerCase().endsWith("/nl/nl")&&0==location.pathname.toLowerCase().endsWith("/se/sv/")&&0==location.pathname.toLowerCase().endsWith("/se/sv")&&0==location.pathname.toLowerCase().endsWith("/no/no/")&&0==location.pathname.toLowerCase().endsWith("/no/no")&&0==location.pathname.toLowerCase().endsWith("/be/nl/")&&0==location.pathname.toLowerCase().endsWith("/be/nl")&&0==location.pathname.toLowerCase().endsWith("/be/fr/")&&0==location.pathname.toLowerCase().endsWith("/be/fr")&&0==location.pathname.toLowerCase().endsWith("/fi/fi/")&&0==location.pathname.toLowerCase().endsWith("/fi/fi")&&0==location.pathname.toLowerCase().endsWith("/de/de/")&&0==location.pathname.toLowerCase().endsWith("/de/de")&&0==location.pathname.toLowerCase().endsWith("/at/de/")&&0==location.pathname.toLowerCase().endsWith("/at/de")&&0==location.pathname.toLowerCase().endsWith("/fr/fr/")&&0==location.pathname.toLowerCase().endsWith("/fr/fr")&&0==location.pathname.toLowerCase().endsWith("/services")&&0==location.pathname.toLowerCase().endsWith("/services/")&&0==location.pathname.toLowerCase().endsWith("/smart-devices")&&0==location.pathname.toLowerCase().endsWith("/smart-devices/")&&"support.lenovo.com"!=document.domain)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8f7c21f08f3247b59b60f13336282c29-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL923b1126ff0249169e5c1f56e881d826",name:"East EMEA : DCG newsletter SAP ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|dcg ldr news|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("true"!=document.URL.includes("/data-center/hybridcloud/case-study")||"true"!==document.URL.includes("/data-center/hybridcloud/ebook"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC85e21a609e1147268af5266bd444304c-source.min.js",language:"html",isExternal:!0}}]},{id:"RL9249ddc257764cc8b6a2dc5837fe4894",name:"Bluecore: Page Load - NA & ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase()||"au"==lmd.cc.toLowerCase()||"nz"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC53909b8a4ffc47de94d61ad676311217-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL92558f9c889f44e8834454290dac2509",name:"Marketing : Gtag Registration : JP",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:".submit-msg.success-box .msg-text"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/jp/ja/lenovopro/"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==sessionStorage.getItem("submitForm")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbe738804458847c5a071aae357949c25-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL92765ef891364848b0940ea518fce935",name:"Page Load Rule : LISA Singapore",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovosgpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.19;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.12;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.06;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.09;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.76;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.54;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.44;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.11;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.32;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.80;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.50;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.15;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.01;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL92bf2f4fc0f047f0b41b8194739c78ce",name:"EMEA :LenovoPRO Community: New Member Registration",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|fe community|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("de"==lmd.cc.toLowerCase()&&lmd.storeID.includes("smbpro"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC01f834bea1ef4038890356c05be3c22b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL942cc851a85c463da002f03d049ea871",name:"Third Party Pixel : Page Load-Bundle Loader : ConfirmIT : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|confirmit|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(0==location.pathname.toLowerCase().includes("oracle-chat-popup")&&"pre-c-hybris.lenovo.com"!=document.domain&&"www.prod.online.lenovo.com"!=document.domain&&"tele-hybris.lenovo.com"!=document.domain&&0==document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc89e08e8462243298f257611e2424dc1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL94b7432ded054001a545c9ba1d035e4f",name:"Tealium : KR - Thank you page tag : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com")&&(document.URL.includes("/orderConfirmation")||lmd.pageName.includes("/orderConfirmation")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3741e39fb1b44b8e8625ab408892d191-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9507883f127f47ec8af744a65bc10309",name:"KR - Google AdWords Conversion : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{
comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe6dda503690645f8b3a33a5a1c7c71d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL95088aa94ca641c3ba3186803d0751c0",name:"BR : pixel Instant Savings Fix - DCG",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return location.href.toString().toLowerCase().indexOf("/p/")>-1&&location.href.toString().toLowerCase().indexOf("/data-center/")>-1||location.href.toString().toLowerCase().indexOf("/c/".toLowerCase())>-1&&location.href.toString().toLowerCase().indexOf("/data-center/".toLowerCase())>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC900b252f7cb24ae19f6d9b00858ffc7c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9541d240cbf74fb79858d2b1120b2992",name:"Third Party Pixel : Page Load : Floodlight Campaign Manager : CZ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("cz"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC43c3720c251e4a84b4eb428f6314f989-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL956f8136824b4886881cd1637220ea5d",name:"Tealium : Facebook Pixel : Complete Registration : EMEA Flash(Social)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"\\|facebook smb\\||\\|facebook edu\\|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Meta Data : Business Unit%",rightOperand:"smb"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC79835fe8620a4007b5e80c0fe89d9d72-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL95a1aeb5b7ba43cd8317a654a90d2f41",name:"Marketing : Bing Ads Cart : JP",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC859422ffbb174f81a0acc0ec8287e716-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL95de772426ea4eb4b27a8223ff6d2209",name:"BR : pixel TikTok - Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())&&(-1==location.pathname.indexOf("checkout")&&"account.lenovo.com"!=location.hostname||"account.lenovo.com"!=location.hostname&&"checkout.lenovo.com"!=location.hostname))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Tiktok Consent Rule%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd3ba7af345c740b0b58ae2bc8ace6fc3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9647f5ea0f1c4805a2346c6a62c2a540",name:"TikTok - Global : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.toString().toLowerCase()=="arweb".toLowerCase()||lmd.storeID.toString().toLowerCase()=="mxweb".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC57ad8bc2539b4f288144b290bab195df-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL967165b0460f4f2b8b24a13fc989225a",name:"IN : Pixels Google Ads Conversion Tracking - SMB Registration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("in"==lmd.cc.toLowerCase()&&"Smb"==lmd.bu.toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC27c856025d014961bf3a34359c59ce36-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL97ed44ef3d424fee81a7e7b099401718",name:"Checkout auto complete CEP CNPJ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Is Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5afb8dc47fc94fb986d881c5380c4a7f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9804d69b436a433298f8711db495ab15",name:"Analytics : Page Load Rule - Product View : Global (Flash)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/p/",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Platform%",rightOperand:"flash"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Product View%",data:"%Target : Product Page & Order Confirmation Parameters Update%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{development:{}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0a4210122b4a46ab8912c3cc07c2e252-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL98901efd96a14d99bd2bbfcb3f092b97",name:"Direct Call Rule : Internal Search : Main: Ecomm Site",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search-results"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search Main: Ecomm Site%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5e7a1d4332684924bd08d64426fdef33-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL98b8a522e0d04fffbe3768b869664f0a",name:"Directos - Logo Educacion Masthead",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%LAS direct%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%LA - Not Flash Platform%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0abd58c8e2ed46cfab0f7c6455ac2dd7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL997b3127f8a2451a8801c7664a0d27cd",name:"EMEA : pixels Marketo - WE",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|marketo global|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return(location.pathname.toLowerCase().includes("/data-center")||location.pathname.toLowerCase().includes("servers-storage")||location.pathname.toLowerCase().includes("customer-centers/dcg/chineham-uk")||location.pathname.toLowerCase().includes("customer-centers/dcg/stuttgart"))&&"partsales"!=lmd.storeID.toLowerCase()&&"tele-hybris.lenovo.com"!=document.domain}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbcc609e2fb9a4c609cf0418f79dc0048-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9980f8bd0ac941799fbb816bccfab46f",name:"Assembly - Floodlight Campaign Manager : East MEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Public & SMB%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|assembly|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC110f9f97a4be46a8b0de5a7963fb52d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL99e409565b934db096b5690ede64cd64",name:"Direct Call Rule : Type Ahead Search Rule View All : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TypeAhead_ViewAll"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Type Ahead Search Rule 1%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL9a29a17bd87c48779a4d30498dc7c0a1",name:"DCR : SMB Pro Homepage Recommendation",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbhomepagecta_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For SMB Pro Homepage CTA%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL9a77217c75414fe8a28e1ec7a34b477e",name:"B2B : pixels Tealium Custom Container Amherst Payment Popup",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if("1213521474"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("payment details:checkout"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5b7978932e27440c9e74fcba68b91bc7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9bc93a67c03348bc8516e01d9c78654c",name:"Tealium : Clickforce - Deals Page - TW Public",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/tw")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/tw"))&&(document.URL.toLowerCase().includes("/deals/")||document.URL.toLowerCase().includes("/d/"))&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele")&&lmd.storeID.toLowerCase().includes("twweb"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC12f80d2dd9514c9b968d5038240ea0f4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9bd80e5d08ba43baa3c5c2eb958f9e70",name:"Third Party Pixel : FB : Complete Registration BR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("br"==lmd.cc.toLowerCase()&&"smb"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Facebook Consent Rules%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCaf864cd499f3422bb270aa18c7b55ac5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9bda70ee96fe4006a759576cf19daae3",name:"Page Load Rule : LISA United Kingdom",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovogbpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.95);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.01);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.18;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.11;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.07;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.75;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.44;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.39;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.01;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.07;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.66;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.96;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.24;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.20;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL9c7bcb4b09f8407ba24799f85bc4848c",name:"Tealium: Powerfront | Inside chat - ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],
conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%Domain%",rightOperand:"pre-www.lenovo.com"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!("au"!=lmd.cc&&"nz"!=lmd.cc||"auweb"!=lmd.storeID&&"nzweb"!=lmd.storeID&&"ausmbpro"!=lmd.storeID&&"auedu"!=lmd.storeID&&"nzedu"!=lmd.storeID&&"aupremium"!=lmd.groupID&&"aubenefits"!=lmd.groupID&&"nzsharelenovo"!=lmd.storeID&&"nzaffinity"!=lmd.groupID))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Indirect Site and Mobile Devices%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC42dad2e036bf4a6b9051757e0b220867-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9cc96181d6274260af9d55e3c4c4e014",name:"Tealium: Marketo - Global : ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^(au|nz)$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.pathname,t=window.location.hostname;return-1==e.indexOf("checkout")&&"account.lenovo.com"!=t||"checkout.lenovo.com"!=t&&"account.lenovo.com"!=t||-1!=e.indexOf("orderconfirmation")||-1!=location.search.indexOf("thankyoupage")||void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC44bd698c2edf4b6693a020116560535d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9cc9d9b14b3f48288c1ed269e2e0a886",name:"East EMEA : search-result-hide-css-eet",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eet"==lmd.regioncode.toLowerCase()&&document.URL.toLowerCase().includes("/search"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbc789adf604e423d8c9b71dafebae3c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d0a18716f1440ca8e811db530a3fd29",name:"Direct Call Rule : Loyalty Join Now : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rew_join"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Loyalty Join Now%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL9d32643b86244c2483763787e3efdfaa",name:"Tealium : SG - Yahoo Dot",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("sg"==lmd.cc.toLowerCase()||"sg"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&"/configurator/cto"!=document.URL.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/sg/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/sg/"))&&(document.URL.toLowerCase().includes("/p/")||document.URL.toLowerCase().includes("/cart/")||document.URL.toLowerCase().includes("/thankyou")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0a3cf6af180348159d6f592cb25aa502-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d9ee5df68184e40ad2cb00772861bad",name:"Tealium : HK-Yahoo-OrderConfirmation : HK",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"hk"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%domain%",rightOperand:"tele-hybris.lenovo.com"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"lenovotele"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/checkout/orderConfirmation"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8148777ec9b444e3b37205f298cbaa16-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9dd8f498430c4add874d9300b2ed709d",name:"Override | Homepage | Add tele sale CTA on hero banner - PH",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("ph"==lmd.cc.toLowerCase()||"ph"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(document.URL.toLowerCase().includes("/pc")||document.URL.toLowerCase().includes("/pc/"))&&(window.location.href.toLowerCase().includes("lenovo.com/ph")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/ph/en")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe88dc6ff0188495ab7ac6c59d7ef081d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9eae5f76b2d8415ebe70065a007fc242",name:"Custom Code : Merch Rotating Slider : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|fe rotating slider|"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.platform",value:"flash",valueIsRegex:!0},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){let e=window.location.href.toLowerCase();return!(new RegExp("test_3274|/d/|/special-offers/back-to-school-deals|/cyber-monday-deals|/gatekeeper|/special-offers/black-friday|/special-offers/midsummer-day|/special-offers/ascension-day|/fete-des-peres|/nouvel-an-chinois|/fete-des-meres|/halloween|/soldes|/saint-valentin|/noel|/san-valentino|/black-friday-cyber-monday|/back-to-school|/natale|/regalos-de-navidad|/flash-email|/business|/invoice-me|checkout.lenovo.com|cart|customize|newsletter-main|/smart-devices","i").test(window.location.href.toLowerCase())||new RegExp("(/gb/en/|/gb/en|/ie/en/|/ie/en|/de/de/|/de/de|/at/de/|/at/de|/ch/en/|/ch/en|/ch/de/|/ch/de|/ch/fr/|/ch/fr|/es/es/|/es/es|/it/it/|/it/it|/fr/fr/|/fr/fr|/pt/pt/|/pt/pt|/be/nl/|/be/nl|/be/fr/|/be/fr|/nl/nl/|/nl/nl|/dk/da/|/dk/da|/se/sv/|/se/sv|/no/no/|/no/no|/fi/fi/|/fi/fi|/services|/services/|/services/)$","i").test(window.location.href.toLowerCase())||0!=e.includes("/data-center")&&(1!=e.includes("/data-center")||1!=e.endsWith("/data-center")&&1!=e.endsWith("/data-center/")))}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCba20e4fc9281453a82fb13216af03a68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9efeb58b39d54f14bb2f30c1817013e6",name:"Third Party Pixel : Facebook Pixel (V2): Cart",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("emea"==lmd.regioncode.toLowerCase()||"cap"==lmd.regioncode.toLowerCase()||"sasia"==lmd.regioncode.toLowerCase()||"latam"==lmd.regioncode.toLowerCase()||"br"==lmd.cc.toLowerCase()||"na"==lmd.regioncode.toLowerCase()||"jpregion"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public_consumer"==lmd.bu.toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC05d4b942360943adbc3fd2744ddbad83-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9f524b359b5a46eba8136da905466e07",name:"Direct Call Rule : Chat Initiation : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"chat-initiation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Chat Initiation%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLa0288b4dbf1142738d2c00c2b6af2dde",name:"Mensaje impuestos carrito AR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Argentina%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("checkout/".toLowerCase())<0)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%IS Cart Page%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa3392db636c7431eac6a1a07eaa60e15-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa0496d8084974cb19d8579d5685ec389",name:"East EMEA : Facebook Pixel-ZA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook ZA|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf85eaaf5415340459c00d0a809663117-source.min.js",language:"html",isExternal:!0}}]},{id:"RLa09c284444374cf7a720c0526fe48997",name:"Marketing : Snapchat ScCid : Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==typeof _satellite.getVar("Snapchat ScCid")&&""!==_satellite.getVar("Snapchat ScCid")&&null!==_satellite.getVar("Snapchat ScCid"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5933c990b80f4ab7b03c2e5235866263-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa26352c39de448b18848671654ecc0a7",name:"ZZ_NP_Tealium : LinkedIn Insight Tag - DCG pages : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=/^(jp)$/;return!("true"!=(null!==lmd.cc.toLowerCase().match(e)?"true":"false")||!location.pathname.toLowerCase().includes("/servers-storage")||"tele"==lmd.bu)}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{}}]},{id:"RLa2bfd70d679142d987f7605e6efe68ac",name:"Tealium : TikTok - Page views - All pages - CAP Public",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele")&&(lmd.storeID.toLowerCase().includes("twweb")||lmd.storeID.toLowerCase().includes("hkweb")||lmd.storeID.toLowerCase().includes("krweb")||lmd.storeID.toLowerCase().includes("myweb")||lmd.storeID.toLowerCase().includes("phweb")||lmd.storeID.toLowerCase().includes("sgweb")||lmd.storeID.toLowerCase().includes("thweb")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3d791ea7a63a4b388421282ea028fd6e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2fe2ea3b7cd4facb16d59d8475c5477",name:"Smb pro register : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return/^(ar|cl|co|mx)$/i.test(_satellite.getVar("Target : Country").toString())||/^(ar|cl|co|mx)$/i.test(lmd.cc)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return location.pathname.toLowerCase().includes("goaccountverfy")||document.referrer.toLowerCase().includes("smbregisterwithlid")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.getVar("Meta Data : Business Unit").toString().toLowerCase()=="public".toLowerCase()||_satellite.getVar("Meta Data : Business Unit").toString().toLowerCase()=="smb".toLowerCase()||_satellite.getVar("Target : Store ID").toString().toLowerCase().indexOf("edu".toLowerCase())>-1||lmd.storeID.toString().toLowerCase().indexOf("edu".toLowerCase())>-1||_satellite.getVar("Meta Data : Business Unit").toString().toLowerCase()=="public_consumer".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.hostname.toString().toLowerCase()!="admin-prod-c-hybris.lenovo.com".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe0769a54840d4a969059c2762a7955cc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa3f971fad96e40d8af021e7d42921834",name:"Third Party Pixel : Direct Call Rule : Cart Addition : EMEA : Social",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|flash cart add|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3ac8807b5f244b9d88515ee9af56cee5-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2443b4b0b84d43fbbf290b95f783bb5f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa40d39a33f1443ff9bfd66195d9b48a3",name:"EMEA : pixel knexus global variable",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|knexus global|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4121de3856064ccd982ee4da88e473bd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa47111c807d7430fb92e68381a2a816d",name:"SEO - Referrer addition NA, ANZ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"us|ca|au|nz",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"cpa"!=_satellite.getVar("groupid")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'(function () {\n  if (!hasQueryParam(location.search)) {\n    if (\n      document.referrer ===\n      "https://" + location.hostname + location.pathname\n    )\n      console.warn("retarget-loop break");\n    else {\n      if (\n        "" !== document.referrer &&\n        -1 === document.referrer.indexOf(document.domain) &&\n        location.pathname.indexOf("/search") === -1\n      )\n        if (location.search === "") {\n          var n =\n            "?orgRef=" +\n            encodeURIComponent(encodeURIComponent(document.referrer)) +\n            location.search.replace(/\\?/, "&");\n          window.history.replaceState(null, null, n);\n        } else {\n          var o =\n            "?orgRef=" +\n            encodeURIComponent(encodeURIComponent(document.referrer)) +\n            location.search.replace(/\\?/, "&");\n          window.history.replaceState(null, null, o);\n        }\n    }\n  }\n\n  function hasQueryParam(search) {\n    let regexp = new RegExp(/orgRef/);\n    return regexp.test(search);\n  }\n})();\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa483ca59e4444ec7aef374737c0a8e0f",name:"EMEA : Pixel Snapchat : Subseries and accessories",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|snapchat|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"subseriespage|accessorypdp|Subseries PDP|Accessory PDP|Single Model PDP"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3c338ec85f0a4cf696f4285a34f9de37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa4c3027245064303b458cd6bfadc3f21",name:"Third Party Pixel : Thank U : Criteo : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(null!=lmd.purchase.allProducts[0].productID&&("jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&document.URL.toLowerCase().indexOf("thankyou")>-1)return!0}catch(e){console.log("Product ID not received",e)}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8731de8c0bb046039bccd8aec8c5ef1e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa4dc7b75fb8c497694f043f38ed7d53d",name:"PH-Masthead-LenovoPro-EDU-Logo",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return/^(ph)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toString().toLowerCase().indexOf("lenovo.com/ph".toLowerCase())>-1||/^(ph)$/i.test(_satellite.getVar("Target : Country"))&&document.URL.toString().toLowerCase().indexOf("lenovo.com/ph".toLowerCase())>-1||/^(ph)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/ph/en".toLowerCase())>-1||/^(ph)$/i.test(_satellite.getVar("Target : Country"))&&document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/ph/en".toLowerCase())>-1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4ff9c13382da4520bca07bd8586f31e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa4e1fc78dfca425abc4c53a9cc4860d0",name:"Spot Program: US Perk Spot",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("us"==lmd.cc.toLowerCase()&&document.URL.includes("us/vipmembers/myperkspot/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.getVar("%Evidon - Advertising (DOM)%")&&1==_satellite.getVar("%Evidon - Advertising (DOM)%")||!!JSON.stringify(localStorage).includes('"advertising\\":true')||void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8cf7a7abca804d97814a5d04f678b4c7-source.min.js",language:"javascript",isExternal:!0},timeout:3e3,delayNext:!0}]},{id:"RLa6a4f6bbf2ac4fe191e1ca372ac5b606",name:"Direct Call Rule : Facet Refinement: All Site (Flash) \t\t\t\t",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"facets_refinement"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Facet Interaction (Flash)%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLa724e7bfb3734314860a3fce498a0e91",name:"Direct Call Rule : View Order : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"View_order"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For View Order%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLa7718a03b6a745b29baa4759cb57364c",name:"Direct Call Rule: Internal Search : No Result Suggested Word: All sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"NoSearch_Suggested"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search : No Result Suggested Word%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLa7e80eb84fbe4975b3ff250eb035d47a",name:"Conversion Pixel Thank You Page - Advertiser",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"ca|us",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC32246cc2ed6747c588ed248e57ceef9c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7918e7dcb98b4ccb8d9384dd95e117c1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC55086882082a41b4a85f89031e433fbb-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1d5b5102fa8749c98d41a8a70e2787b7-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa7e5538ed599484f9da68658870a6151-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd7414843436946e2bb963d1f336b6c6c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa803a418569d49bf999a0d86330ce3f8",name:"Page Load Rule : LISA CA",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovocapub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.85);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.19;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.15;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.16;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.85;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.45;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.37;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.19;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.39;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.66;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.33;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.13;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.01;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa8424c7641774d37adc8acb0f0d20196",name:"Direct Call Rule : Product Finder ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"productfinderresponse"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Product Finder%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLa867f978c9ac4851b4f555362f5a7f0a",name:"Tealium : KR - Google Tag Manager - Thank You Page : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("uat-www.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-www.lenovo.com/kr/ko/"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com")&&(document.URL.includes("/thankyou")||lmd.pageName.includes("/thankyou")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC356ff549c4114f3d89131fbbf374e205-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa895551349644928b7adda7dd882443c",name:"Third Party Pixel: Quantum Metric : Partsale",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.indexOf("partsale")>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc3fd98548f284562a67a130f36bd6224-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa8b021e6a7e84bc4afde9e07cf92e3b9",name:"B2B - Pixels Tealium Custom Container - B2B Roles Tooltip",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(-1!=lmd.pagePath.toLowerCase().indexOf("registration")&&-1!=lmd.pageName.toLowerCase().indexOf("b2bsite"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc063ef4591b44d869b5409a329f55630-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa9143ff2d97e4886abb0679f677491eb",name:"Direct Call Rule : Compare Product Cart Addition : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Compared_And_Cart_Addition"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Compare Product Cart Addition%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLaa192c63d43343b59f061d40abffea63",name:"Direct Call Rule : DCG Global",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"SeeMore_Clicked"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DCGTools&resources"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcgCustomInteraction"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DCGServices"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DCG_LetsTalk"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ldr-interaction"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"CaseStudy_Clicked"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Brochure_Clicked"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Contactus_Clicked"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"BannerTab"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ResourcesSearch"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DownloadPDF_Clicked"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ResourcesNoResult"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for DCG Global + B2B%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLaa521213e5f746bcbad1f267dae8d99c",name:"Direct Call Rule: Video Tracking Smarter",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"VideoTracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Video Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLaaa6f994733749f1a5eb470dc8f1d64d",name:"Third Party Pixel:Load Insight:Linkedin:HK,KR,SG,MY,PH,TH,TW",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^hk|kr|sg|my|ph|th|tw$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!0!==location.pathname.toLowerCase().includes("/servers-storage/")&&new RegExp("lenovo.com/hk|uat-www.lenovo.com/hk|pre-www.lenovo.com/hk|lenovo.com/kr/ko/|uat-www.lenovo.com/kr/ko/|pre-www.lenovo.com/kr/ko/|lenovo.com/my/en|uat-www.lenovo.com/my/en|lenovo.com/sg/en|uat-www.lenovo.com/sg/en|lenovo.com/th|uat-www.lenovo.com/th|lenovo.com/tw|uat-www.lenovo.com/tw|pre-c-hybris.lenovo.com/tw|lenovo.com/ph|uat-www.lenovo.com/ph/en","i").test(window.location.href.toLowerCase())}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC83284b33476640f1a5068627ff9f3b0e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab3167a95c2c4b0393f94ca9dddce7d1",name:"Third Party Pixel : Blue Triangle : US|CA|JP|AU|GB|FR|DE|IN",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return["usweb","webca","jpweb","auweb","gbweb","deweb","frweb","inweb"].some((e=>_satellite.getVar("StoreID").toLowerCase().includes(e)))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/sampling.js",settings:{rate:.1},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC91f20f4ccd594a318247c79d6fdb048b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab3fc84cd82a4ac98042f00d8966120e",name:"Tealium : KR KCP Header Instruction : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&1!=document.URL.toLowerCase().includes("/data-center/")&&1!=location.pathname.includes("/kr/ko/my-account")&&1!=document.URL.toLowerCase().includes("/deals/")&&1!=document.URL.toLowerCase().includes("/tpssd30_201901/")&&1!=document.URL.toLowerCase().includes("/p/")&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&(1!=location.pathname.includes("checkout")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||1!=location.hostname.toLowerCase().includes("checkout.lenovo.com")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||location.pathname.toLowerCase().includes("orderconfirmation")||location.search.toLowerCase().includes("thankyoupage")||location.search.toLowerCase().includes("YourOrderIsBeingProcessedPage"))&&1!=document.URL.toLowerCase().includes("lenovotele")&&1!=document.URL.toLowerCase().includes("tele-hybris.lenovo.com"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf3952f10a0384258906ced99f4eaf725-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab553e01683949dfab68226ccebdcabd",name:"Pop Up tracking rule : Entrance email Capture Cancel",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#bx-close-inside-1668575",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Pop Up tracking rule: Entrance email Capture Cancel%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLab66004577654470adfda6a1f6c992da",name:"Tealium : TW - Event snippet for Sales conversion page - thank you page  : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&(document.URL.includes("/orderConfirmation")||lmd.pageName.includes("/orderConfirmation"))&&1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=document.URL.toLowerCase().includes("lenovotele")&&(document.URL.toLowerCase().includes("lenovo.com/tw")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/tw")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5237667a27da4046968ee893ebc56983-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabfe61cb49a540bb98ab0460bceec688",name:"Third Party Pixel:Global Page Load:Google Ads Conversion Tracking & Remarketing:NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return("webca"==lmd.storeID.toLowerCase()||"usweb"==lmd.storeID.toLowerCase())&&(1!=location.pathname.toLowerCase().includes("checkout")&&"account.lenovo.com"!=location.hostname.toLowerCase()&&"checkout.lenovo.com"!=location.hostname.toLowerCase()||1!=location.pathname.toLowerCase().includes("orderconfirmation")||1!=location.search.toLowerCase().includes("thankyoupage")||1==document.URL.toLowerCase().includes("account/register"))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb873786467304726a0124c0896a07904-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac32f959502543c191b7fc0b9de16cda",name:"Analytics : Consent Banner Tracking : EMEA",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"consent_banner_interaction"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"us|de|at"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Consent Interaction%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLac3375c4831040eb84dd7210c44b8794",name:"Tealium : Movable INK Order Confirmation : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=/^(sg|my|tw|kr|th|in|hk)$/,t=lmd.cc.toLowerCase().match(e);return 1==_satellite.getVar("AP Countries")&&null!==t&&!!(location.pathname.includes("/orderConfirmation")||location.pathname.includes("/thankyou")||location.search.toLowerCase().includes("thankyoupage"))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4fc0ada86aef459ba9ff15dc5199d129-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad403ce7c7414601a277756a4a79d109",name:"Direct Call Rule : Cart Removal",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartremoval"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Cart Removal%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe2499c95d5d046c9bdd2d7e1f5dee39a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLad6deb82c8644246941fc4e1aca85773",name:"Tealium : Survey on GEOs Search page - India : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.toLowerCase().includes("/in/en/search"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC14b8d6b41f5d43f8ba20f697804171cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLade37586da964d5ab9ba85d6a2a24d37",name:"Direct Call Rule :  Efficacy Pages Widget : All Community Site (EDU,Gaming,SMB)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"efficacypageswidget"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Efficacy Pages Widget%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLae408a7a668b45ce8feec5fa20cb3963",name:"Tealium : Clickforce - Checkout order summary - TW Public",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/tw")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/tw"))&&document.URL.toLowerCase().includes("/checkout/multi/summary")&&lmd.internalsearchcanonical.toLowerCase().includes("/redesignCheckoutSummary")&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele")&&lmd.storeID.toLowerCase().includes("twweb"))return!0}},timeout:2e3},{
modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc8daef6eab2948efb72e94f5e5bbff74-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLae995f42fe474005a042f19541c660de",name:"ZZ_NP_Tealium : Survey_on_search_page : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&location.pathname.toLowerCase().includes("/search")&&"tele"!=lmd.bu)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa965c05739d44a579ca4f07dbebe3a84-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaf69f107b9c34cc59903464f3ec64821",name:"Smb pro register : LAS *Flash*",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return/^(ar|cl|co|mx)$/i.test(_satellite.getVar("Target : Country").toString())||/^(ar|cl|co|mx)$/i.test(lmd.cc)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("smb"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1708de060f274eed83aebe7ae316de7f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLaf6fa110e39840f68392561e69ca4f0b",name:"Analytics : Evidon Consent Interaction : Global",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-accept",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#_evidon-banner-acceptbutton,#_evidon-accept-button,#_evh-ric-c",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-decline,#_evidon-barrier-declinebutton,#_evidon-decline-button,#RejectLink",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1a91baae60f74ce6ad1f7952b4124384-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7332d21d94d2491d844f37c83077e35b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLafb1f2a8a6154be0897d04468d2604d4",name:"Tealium : TW - Event snippet for Sales conversion page : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&(location.pathname.toLowerCase().includes("/cart")||lmd.PageTitle.includes("cart"))&&1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=document.URL.toLowerCase().includes("lenovotele")&&(document.URL.toLowerCase().includes("lenovo.com/tw")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/tw")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/tw")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0510d55e35f64d85ac52508a23f71320-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLafb2c2aa7f99461795aeb55cfbc65b24",name:"Marketing : Bing Ads PV : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"cart"!=_satellite.getVar("Taxonomy Type").toLowerCase()&&1!=/orderconfirmation|thankyou/i.test(document.URL.toLowerCase())}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9fe857b965c148ceaf1aa2fa1bb326fc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLafe5e2ec197f4aa4a8123592878fedd3",name:"Direct Call Rule : Confirmit survey screen start : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"survey-start"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Confirmit Survey Screen Start%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RLb014fba403934779b5e8dafaa26f5be9",name:"Direct Call Rule : Add to Cart : Product Page MTM",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"PDP_ATCart"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Add to Cart : Product Page MTM%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfef024fc22d34fda9455988af74a8015-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb140b27db2944540b488d2e69c1a83fd",name:"East EMEA : Facebook Pixel-Lenovo Egypt",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook EG|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1==location.href.includes("/eg/en"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8d6aaacc02714dbca3b8a7f684635c53-source.min.js",language:"html",isExternal:!0}}]},{id:"RLb17a2b70a7ea4dd1a66b8d0a984fe8bf",name:"RTB_Category_brand: JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["lenovo.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("jpweb"==lmd.storeID||"jpedu"==lmd.storeID||"jpmembers"==lmd.storeID)&&(document.URL.indexOf("/ja/laptops/")>-1||document.URL.indexOf("/c/laptops/")>-1||document.URL.indexOf("/d/deals/promo-offers/")>-1||document.URL.indexOf("/desktops/")>-1||document.URL.indexOf("/c/desktops/")>-1||document.URL.indexOf("/workstations/")>-1||document.URL.indexOf("/c/workstations/")>-1||document.URL.indexOf("/legion-portal/")>-1||document.URL.indexOf("/tablets/")>-1||document.URL.indexOf("/accessories-and-software/")>-1||document.URL.indexOf("/dc/accessories-and-software/")>-1||document.URL.indexOf("/computer-monitors/")>-1||document.URL.indexOf("/d/accessories-and-monitors/")>-1||document.URL.indexOf("/yoga/")>-1||document.URL.indexOf("/student/")>-1||document.URL.indexOf("/eduforms/")>-1))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd7fadd8fdd034766a9fabffafb75d563-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb24d3c730096481d8bc45ac6c1d462cb",name:"MarketingPixel: iChannel | Order tracking | TW",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.internalsearchcanonical.indexOf("thankyou.html")>0)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC56b8dab65f69491c81c0214ac9e87a1c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb291c3e175ab4aafb9bbe5958568478c",name:"Direct Call Rule : Purchase",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"order_confirmation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Purchase%",type:"commerce.purchases",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd0afdbe21b554204ab39525e3436d40d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb296f0646669432881363169f54beadd",name:"Third Party Pixel:Product Page rule:RTB:JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["lenovo.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("jpweb"==lmd.storeID||"jpedu"==lmd.storeID||"jpmembers"==lmd.storeID)&&(document.URL.toLowerCase().indexOf("/ja/p/accessories-and-software")>-1||document.URL.toLowerCase().indexOf("/ja/p/desktops/legion-desktops")>-1||document.URL.toLowerCase().indexOf("/ja/p/laptops")>-1||document.URL.toLowerCase().indexOf("/ja/p/workstations")>-1||document.URL.toLowerCase().indexOf("/ja/p/desktops")>-1||document.URL.toLowerCase().indexOf("/ja/p/tablets")>-1||document.URL.toLowerCase().indexOf("/ja/p/servers-storage/")>-1))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcbbed62f61374d698dbd90ae1f7a4131-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb301efcc4e9243b09b6f47885dd24d15",name:"Third Party Pixel : ConfirmIT : ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^au|nz$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC65502cb2cfe144eea2c435863d4199aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb36acd29ccc241169108420cd028191a",name:"Wunderkind Non Conversion : Switzerland",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou")||location.pathname.indexOf("orderConfirmation")>-1)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"ch"==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1af3d49de07b4fe0b064a9c41fbfe97b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb3b3c596f42749afb1a2519e5c56850b",name:"East EMEA : WW Facebook Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook PL|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7e4b9086922d48489635a2583daa507c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb3f257e134f346088c94486285f113c2",name:"Marketing : GA4 : View Promotion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"/deals/"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"es"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3462564df334481cb04b28af3ef30cd4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb44e3115533740a290fcfe1cf4286c89",name:"Tealium : AdmitAD Cookie : AP ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("lenovo.com/in/en")&&("in"==lmd.cc.toLowerCase()||"in"==lmd.country.toLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc14e1ef98bdf468888e72776db9b772a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4a9e5d7447f42c6a26b5d2eb6c9ef00",name:"BR - Tealium: Powerfront | Inside chat | Only UAT",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"uat"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCaec1e6a4c87c4899b84ecdbdbb1b2d4c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4f3733f3aca4f599f03c07e419ebbee",name:"Custom Code : DCG-Bottom-Widget-Tag-2022 : East EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|dcg ldr Widget|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC81d52af65fa04e7b93ca49bdbf95097b-source.min.js",language:"html",isExternal:!0}}]},{id:"RLb50f636bc9d44a81a53067e74080489a",name:"Direct Call Rule : Type Ahead Search Top Suggested : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"typeAhead_topSuggested"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Type Ahead Search Top Suggested%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLb535af6912f44eb3aa36ce1d3302ec9a",name:"Tealium :IN - Google Ads Conversion V2.0 && INCEPP Facebook pixel - Pageview",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("in"==lmd.cc.toLowerCase()&&("inweb"==lmd.storeID.toLowerCase()||"incepp"==lmd.storeID.toLowerCase()||"insmbpro"==lmd.storeID.toLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4cea7632f58d40cbb7ed86430fdb34be-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5fc861a15120416d91e05d668f28bf3d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5194cfa061834e4d93bf697b36c694e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb6061928e96145a1b8db603d4f7e8688",name:"Override | Product Builder | Fix legal popup - HK",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return $('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/product_builder".toLowerCase())>-1||$('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/product_configurator".toLowerCase())>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return/^(hk)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("lenovo.com/hk".toLowerCase())>-1||/^(hk)$/i.test(_satellite.getVar("Target : Country"))&&document.URL.toString().toLowerCase().indexOf("lenovo.com/hk".toLowerCase())>-1||/^(hk)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/hk".toLowerCase())>-1||/^(hk)$/i.test(_satellite.getVar("Target : Country"))&&document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/hk".toLowerCase())>-1||/^(hk)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("pre-c-hybris.lenovo.com/hk".toLowerCase())>-1||/^(hk)$/i.test(satellite.getVar("Target : Country"))&&document.URL.toString().toLowerCase().indexOf("pre-c-hybris.lenovo.com/hk".toLowerCase())>-1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe1fb5a334c0a44e09edd6e51fc9f2452-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb6b10a2670ac457480054683eb5250a2",name:"Tealium : Shopback - SG : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("sg"==lmd.cc.toLowerCase()&&(location.pathname.includes("/thankyou")||location.search.includes("thankyoupage"))&&(1!=location.hostname.includes("tele-hybris.lenovo.com")||1!=document.URL.includes("/sg/tele/en/"))&&lmd.storeID.includes("sgweb"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCed7baec5944144c5b01233ed710bdef7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb75d4dd06d95462f9a6c27081a0a2ebf",name:"Tealium : MYcampaign-hide footer",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("my"==lmd.cc.toLowerCase()||"my"==lmd.country.toLowerCase()||"hk"==lmd.cc.toLowerCase()||"hk"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/my/en/mycampaign")||window.location.href.toLowerCase().includes("lenovo.com/hk/en/hklenovopromm/")||window.location.href.toLowerCase().includes("lenovo.com/hk/zf/hklenovopromm/")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4127c81a0e714a8cbbbdd1e5454d8d0d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb77c38f6eb864a4e8135465420738a65",name:"Direct Call Rule : Checkout 1",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkout1"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Checkout 1%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC85cb088114ec41da8c91a1449904b7e1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0c91c55a441943ab808a03ad028dc6a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb794e72a8dee4e188d8c4e335d952c06",name:"Third Party Pixel:Global Page Load:Marketo:NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"ca|us",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8f181a07380047049d67505d4a934dfc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb81cd380ecbd45299ea28583b84caca4",name:"Direct Call Rule : Confirmit  Survey Initiate : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"survey-invite-prompt"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Confirmit Survey Initiate%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLb89ab86924d748c094f97cb6713a16ae",name:"TradeDesk - Page Views - All pages - CAP Public (Indirect)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("Target : Meta Storeid").toString().toLowerCase()=="idind".toLowerCase()||_satellite.getVar("Target : Meta Storeid").toString().toLowerCase()=="vnind".toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb7f7d7882eca44c5ae1deab4aeab7849-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbabdf15bb7974d688c228e14bcdff4fe",name:"Direct Call Rule : Add to Cart : PDP Accessory Page : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"PDPAccessory_ATCart"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Add to Cart : PDP Accessory Page%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLbae24b8a9a60408f8a4a406766b1af88",name:"Page Load Rule - Set ECID",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:35}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'return alloy("getIdentity")\n   .then(function(result) {\n     _satellite.setVar("ECID", result.identity.ECID);\n   });\n',language:"javascript"},timeout:5e3,delayNext:!0}]},{id:"RLbaff84bbd3ed453eb31b5b7d213f8ec4",name:"East EMEA : SK-Facebook Pixel",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook SK|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(0==location.href.includes("/wtb"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5ce6bd32fe2b48bfa19e268d24eeb002-source.min.js",language:"html",isExternal:!0}}]},{id:"RLbb2868581b0c490b8e16944295788298",name:"Tealium : Google Ads Conversion - SMB registration US/CA : NA",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return"ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7edce82f9a4747589e9b6c46df707cbe-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbba5ec45fc3141d2ba7f07d9f54023a6",name:"Tealium : HK - Google Tag Manager : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("hk"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/hk")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/hk")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/hk"))&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd91cb28bccc940c0b0e572614940ff28-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbbb4cf3de72c48cf920cb7afafd221d4",name:"Third Party Pixel : Inside Chat : Powerfront : JP - TESTenv",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"le"!=lmd.bu.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"uat-www.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()||"pre-www.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()||"uat-account.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()||"preaccount.lenovo.com"==_satellite.getVar("Domain").toLocaleLowerCase()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3a552a96d784481c89f84471bb20594b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbbe28369a3054d8e904bbf926b51ed1a",name:"pixel Syndigo Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(document.querySelector('meta[name="productid"]').content.startsWith("78")&&"us"==_satellite.getVar("Target : Country")&&"accessory"==_satellite.getVar("Target : Meta Sub Taxonomy Type"))return!0}catch(e){console.log("Error / productID not recived in Syndigo Pixel")}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2d797b5caac14b8fa73e3b4c1d9af724-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbbfdbe84cac448cab1116458a9b2e97e",name:"Page Load Rule : LISA India",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovoinpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.0);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.17;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.1;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.05;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.04;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.06;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.59;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.51;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.31;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.03;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.5;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.89;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.18;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.09;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0001;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLbc78015ce6fb44f5aee1488505c06b51",name:"Tealium : Reddit : IN + APEM",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"in|sg|my|th|ph|tw"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThanOrEqual"},leftOperand:"%pageViewCount%",rightOperand:2},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa41fde6785ab49a9a1a133d9f0b65d23-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc8de4f658094f25ad3b9ea59d199811",name:"Override | Product Builder | Fix legal popup - TW",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return/^(tw)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("lenovo.com/tw".toLowerCase())>-1||/^(tw)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/tw".toLowerCase())>-1||/^(tw)$/i.test($('meta[name="cc"]').attr("content"))&&document.URL.toString().toLowerCase().indexOf("pre-c-hybris.lenovo.com/tw".toLowerCase())>-1}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return $('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/product_builder".toLowerCase())>-1||$('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/product_configurator".toLowerCase())>-1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCccd8e0f4ec324657809c8e03c78dfd74-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd0eb0f574424e62aedd948768ceca18",name:"Evidon Consent Suppression Cookie : BR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-accept",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#_evidon-banner-acceptbutton,#_evidon-accept-button,#_evh-ric-c",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-decline,#_evidon-barrier-declinebutton,#_evidon-decline-button,#RejectLink",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"br"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd888f60c12ac435e9cba3a56ab47d027-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbd1aababa7484505a434855577bdde5b",name:"Clickforce - SMB Registration - TW",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tw"==lmd.cc.toLowerCase()&&(window.location.href.toLowerCase().includes("/tw_smbpro/smbRegistrationV3/smbRegisterWithoutLidV3")||lmd.internalsearchcanonical.toLowerCase().includes("/tw_smbpro/smb-registration-redesignV3"))&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3ebf87351e544a08b9af57f03d1fe2ec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd3be53f64174c4a986129df77a32594",name:"Tealium : INSMBPro Facebook pixel - Thankyou Registration : IN",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("/in/en/insmbpro")&&"account"==lmd.taxonomytype)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0bafe0f2e8894ee48ae97d7b30db21ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf89a5ff28bc4e8eac8c6dc5c9b935e5",name:"Direct Call Rule : Cart Addition : TikTok : Advertising",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC8cbfc62cdae04c4db75918874ab6cdef-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7abbc7e42c71435c964bc5b8a6206040-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa808d5e1c93a4d86b2df89a4622b6d04-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa975e3873b5b49fb94f8c708638aa96e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf8b5691c12744ac823b1ba4c88359e2",name:"Set Connexity Cookie - Connexity Connector",events:[{modulePath:"evidon-universal-consent-platform/src/lib/events/consentChanged.js",settings:{},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentReceived.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==_satellite.getVar("cnxclid Query String")&&""!==_satellite.getVar("cnxclid Query String")&&void 0===_satellite.getVar("Connexity Cookie"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("latam"==lmd.regioncode.toLowerCase()&&"br"!==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"au"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"nz"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"mea"==lmd.regioncode.toLowerCase()||"ca"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"jp"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase())return!0;if(0==lmd.connexity){if(evidon&&evidon.notice&&"boolean"==typeof window.evidon.notice._getConsentedCategories()&&window.evidon.notice._getConsentedCategories())return lmd.connexity=!0,!0;if(evidon&&evidon.notice&&"object"==typeof window.evidon.notice._getConsentedCategories()){if(window.evidon.notice._getConsentedCategories()&&window.evidon.notice._getConsentedCategories().all)return lmd.connexity=!0,!0;if(window.evidon.notice._getConsentedCategories()&&window.evidon.notice._getConsentedCategories().advertising)return lmd.connexity=!0,!0}}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^(us|ca)$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfe03e7d2baee4e19b3d5945368a749f8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbfcb8db3a49a4bd59b68efc620110c44",name:"EMEA : pixel Unthinkable pages-UK tracking ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|unthinkable pages|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.toLowerCase().includes("gb/en/do-the-unthinkable"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC542b97cbd58543ef8de63998e0d1121d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc07d1296d6814cd2b8d6e7eb45400a88",name:"East EMEA : Oracle-chat-for-DCG-pages-tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|dcg ldr chat|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC349599d12ed946b281aa40865ec0fa4b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0970e70581f4d1887e6a4a12740931b",name:"Third Party Pixel:Global Page Load:Assembly-Floodlight Campaign Manager:NA & ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!("ca"!=lmd.cc.toLocaleLowerCase()&&"us"!=lmd.cc.toLocaleLowerCase()&&"au"!=lmd.cc.toLowerCase()||"public"!=lmd.bu.toLowerCase()&&"smb"!=lmd.bu.toLocaleLowerCase()&&"smarter"!=lmd.bu.toLocaleLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%Disable Pixel On Email URL%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC42084fdd288a4625aafb9f3fbfcaea18-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0eb8f24c8b548c597e065f1c63f2ac1",name:"East EMEA : TR - Facebook Pixel (Legacy)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook TR|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{
modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd3e895303a614d308832804857a64273-source.min.js",language:"html",isExternal:!0}}]},{id:"RLc2dde4987d15462fbd85386f775c990e",name:"Marketing : Floodlight Registration : JP",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC56d5d51a1fbf44318c5cf18e448b17ad-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc3339c69ea3041558752655e6b97544b",name:"Tealium : Flashtalking Cookie Matching Service : NA|EMEA",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentChanged.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^(us|ca|fr|es)$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0===_satellite.cookie.get("fl_guid")||""===_satellite.cookie.get("fl_guid")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThanOrEqual"},leftOperand:"%pageViewCount%",rightOperand:3},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script>\nvar domain = "lenovo.com"\nif (window.location.hostname.indexOf("uat") > -1) {\n    domain = "lenovouat.com"\n}\n\nfunction callbackWithGuid(data) {\n    document.cookie = "fl_guid=" + data.guid + ";path=/;domain=" + domain + ";expires=" + (function() {\n        var d = new Date();\n        d.setTime(d.getTime() + (3600 * 1000 * 24 * 365 * 2));\n        return d.toGMTString();\n    })() + "";\n\n    var e = document.createElement(\'script\');\n    e.src = "https://servedby.flashtalking.com/map/?key=UNb79ItdrI8hYOv6&url=https://lenovo.com/?g=" + data.guid;\n    e.async = true;\n    e.type = "text/javascript";\n    var s = document.getElementsByTagName(\'script\')[0];\n    s.parentNode.insertBefore(e, s);\n}\n\nvar script = document.createElement(\'script\');\nscript.setAttribute(\'src\', "https://servedby.flashtalking.com/segment/modify/aaa;;click/?url=https://fm.flashtalking.com/userguid?callback=callbackWithGuid");\ndocument.head.appendChild(script);\n</script>',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLc343787762df48ad8e5ee3cf11fe70b5",name:"Third Party Pixel : Adform Cookie Sync : EMEA + APAC + LATAM + NA",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentChanged.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eet"==_satellite.getVar("Region Code").toLowerCase()||"russia/cis"==_satellite.getVar("Region Code").toLowerCase()||"mea"==_satellite.getVar("Region Code").toLowerCase()||"we"==_satellite.getVar("Region Code").toLowerCase()||"emea"==_satellite.getVar("Region Code").toLowerCase()||"htk"==_satellite.getVar("Region Code").toLowerCase()||"asean"==_satellite.getVar("Region Code").toLowerCase()||"cap"==_satellite.getVar("Region Code").toLowerCase()||"sasia"==_satellite.getVar("Region Code").toLowerCase()||"latam"==_satellite.getVar("Region Code").toLowerCase()||"na"==_satellite.getVar("Region Code").toLowerCase()||"jpregion"==_satellite.getVar("Region Code").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0===_satellite.cookie.get("Adform Cookie ID")||""===_satellite.cookie.get("Adform Cookie ID")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Adform Consent Rule%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThanOrEqual"},leftOperand:"%pageViewCount%",rightOperand:3},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC222e61f0aa7a4d5696b23ffbe867ce75-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC793c113924454a35994279f6a53c8c5c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc399bfa6a9664f51adc08628bb91f655",name:"Tealium: LenovoPRO Community: New Member Registration-AU_JP_US",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("smbpro"==_satellite.getVar("storeID")||"jpsmbpro"==_satellite.getVar("storeID")||"desmbpro"==_satellite.getVar("storeID")||"ausmbpro"==_satellite.getVar("storeID"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"au|jp|us"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC38fa2a556be84f759205bdfd871293f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc415d4e9a3304b6ba86b3562b5b2263c",name:"DCSC : Global Rule",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-summary-complete"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-ConfigBuild_Option"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc_config_tab"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Supply Recommend"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"error-populated"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-config-summary"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc_sid"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-Internal-Search"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-config-resourcetracker"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-customize-lose"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-summary-lose"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-config-expertmode"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc_SWans"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-workspace-complete"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-configBuild_Option"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-user-login"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcsc-integrated-workspace-complete"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"recommend"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for DCSC Global%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLc4401ec53f11467f8ceb37dd7004b6b4",name:"ZZ_NP_Tealium : JP Yoga Mediaweaver",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!document.URL.toLowerCase().endsWith("/yoga/")||!!document.URL.toLowerCase().includes("/p/88YGS701077")||!!document.URL.toLowerCase().includes("/p/88YGC900982")||!!document.URL.toLowerCase().includes("/p/ZZIWZWBYB1J")||void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4a4a87ef138b4cfcbfd5fccd1f82c96a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc48d7245a31f4dc393bfb10792778251",name:"Tealium : MY - Google remarketing-conversion gtag : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("my"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/my/en")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/my/en"))&&1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd08d4f4f1d5c43e4812cf870a4498d81-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc51d06a0c25a44f9b3367735e1455d3c",name:"Override | Product Builder | Fix legal popup - KR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.URL.toString().toLowerCase().indexOf("lenovo.com/kr/ko/".toLowerCase())>-1&&$('meta[name="cc"]').attr("content").toString().toLowerCase()=="kr".toLowerCase()||document.URL.toString().toLowerCase().indexOf("lenovo.com/kr/ko/".toLowerCase())>-1&&_satellite.getVar("Target : Country").toString().toLowerCase()=="kr".toLowerCase()||document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/kr/ko/".toLowerCase())>-1&&$('meta[name="cc"]').attr("content").toString().toLowerCase()=="kr".toLowerCase()||document.URL.toString().toLowerCase().indexOf("admin-prod-c-hybris.lenovo.com/kr/ko/".toLowerCase())>-1&&_satellite.getVar("Target : Country").toString().toLowerCase()=="kr".toLowerCase()||document.URL.toString().toLowerCase().indexOf("pre-c-hybris.lenovo.com/kr/ko/".toLowerCase())>-1&&$('meta[name="cc"]').attr("content").toString().toLowerCase()=="kr".toLowerCase()||document.URL.toString().toLowerCase().indexOf("pre-c-hybris.lenovo.com/kr/ko/".toLowerCase())>-1&&_satellite.getVar("Target : Country").toString().toLowerCase()=="kr".toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return $('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/product_builder".toLowerCase())>-1||$('meta[name="internalsearchcanonical"]').attr("content").toString().toLowerCase().indexOf("/product_configurator".toLowerCase())>-1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC295b4c490ee6481290344d8bd2ee9a54-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc53f21bd7d594f99a978ed018d0bb1e7",name:"Third Party Pixel:Quantum Metric Capture:Quantum Metric:NA+ANZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"usweb"==lmd.storeID||"smbpro"==lmd.storeID||"usmembers"==lmd.storeID||"usvipmembers"==lmd.storeID||"auweb"==lmd.storeID||"nzweb"==lmd.storeID||"ausmbpro"==lmd.storeID||"nzsmbpro"==lmd.storeID||"auedu"==lmd.storeID||"nzedu"==lmd.storeID||"webca"==lmd.storeID||"auoutlet"==lmd.storeID||!("us"!=lmd.cc.toLowerCase()||!document.URL.toLowerCase().includes("/le/"))||void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"quantum-metric/src/lib/actions/startCapture.js",settings:{configuration:"default"}}]},{id:"RLc5419b91a33241cd86f73ec937c26e2c",name:"Marketing : Legion Loyalty Regular Override : NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:20},{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:"div.loyaltys_inner > span.card-popover-wrapper > section > span > button.popup-activation"},ruleOrder:50},{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:"div.loyalty_wrap > section > button"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){const e=lmd.cc.toLowerCase().includes("us")||lmd.cc.toLowerCase().includes("ca"),t=document.URL.toLowerCase().includes("/len106g0001")||document.URL.toLowerCase().includes("/83e10020cf")||document.URL.toLowerCase().includes("/83e10000us")||document.URL.toLowerCase().includes("/83e1001yus");return e&&t}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1e8ca36c1a644c9b8b5c0fbd1f9d4878-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc56f3e8e365848fa88d9501a4dfa3530",name:"BR : pixels Google Ads Conversion Tracking & Remarketing",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Google Adwords Consent Rules%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe0e8f6e61b644be89e21ec17dbdc1443-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc5a15a436afc4210ae2494c8cc39af8f",name:"Target Tool Loaded - Global Mbox",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"tele-hybris",valueIsRegex:!0},{value:"tun-r-hybris",valueIsRegex:!0},{value:"nfe.sit.online",valueIsRegex:!0},{value:"admin-prod-c-hybris",valueIsRegex:!0},{value:"pre-c-hybris",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/smbaccount/company",valueIsRegex:!0},{value:"/smbaccount/address",valueIsRegex:!0},{value:"/smbaccount/wallet",valueIsRegex:!0},{value:"/smbaccount/rewards",valueIsRegex:!0},{value:"/smbaccount/profile",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/co/es|/nl/nl|/dk/da|/fi/fi|/se/sv|/be/fr|/be/nl|/no/no|/jp/|/in/en|/gb/en|/ie/|/pl/pl|/ca/en|/au/en|/kr/ko|/mx/es|/lenovo-ovp/login.action|/nz/en|/sg/en|/my/en/|/de/de/|/fr/fr|/at/de/|/br/pt|/es/es|/it/it|/ch/de|/tw/zh|/hk/en|/cl/es|/ar/es|/store|/ch/en|/ch/fr|/pt/pt|/hk/zf|/th/en|/th/th|/pe/es|/us/|/smbaccount/gatekeeper/|/ca/|au/lenovopro/en|gb/reference/en|/ph/en/|/nz/sharelenovo/nzsmb/en|/au/edu|gb/lenovopro/en|/gb/edu/|de/lenovopro/de|fr/lenovopro/fr|/ch/lenovopro/|/be/lenovopro/|/at/lenovopro/de|/be/edu/|/fr/edu/|/de/edu/|/it/lenovopro|/es/lenovopro/|/hk/lenovopro/|hk/edu|sg/edu|my/edu|th/edu|jp/edu|kr/edu|/hk/zh|tw/edu|th/edu|ph/edu|sg/lenovopro|my/lenovopro|th/lenovopro|jp/lenovopro|kr/lenovopro|tw/lenovopro|th/lenovopro|ph/lenovopro",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    if (_satellite.getVar("Adobe Consent Cookie") !== undefined) {\n        alloy("setConsent", {\n            consent: [{\n                standard: "Adobe",\n                version: "2.0",\n                value: _satellite.getVar("Consent JSON")\n            }]\n        });\n    }\n} catch (e) {}',language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Target Global Profile Paramaters%",type:"decisioning.propositionFetch",instanceName:"alloy",personalization:{sendDisplayEvent:!1},renderDecisions:!0,edgeConfigOverrides:{development:{}}}}]},{id:"RLc5ab9dc24f014407b9b42a9e9e6807cf",name:"Tealium : Facebook Pixel + Google Ad : Complete Registration : ANZ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^au|nz$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2fbb7927aad94704aceddf6e4327b245-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC129bac208d064627970f24d088aac631-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc5d49b22125f402da3a799e0ca2bf106",name:"AR - Homepage Payments Methods",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Argentina%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%IS Homepage%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCb619da3c4cd6481e992f47db9e3213d6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc61dc7b35cb447c281aa70250c437823",name:"ZZ_NP_Tealium : opt_20200617_cart : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&location.pathname.includes("cart")&&"tele"!=lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3ade24d96d3d4830b5022296197097f5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc64bcbcd2b1d46f78df20243cea8f63b",name:"Direct Call : OMO : Cartaddition",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("undefined"!=lmd.storeID&&""!=lmd.storeID&&"omoin"==lmd.storeID)return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for OMO Cart Addition%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLc708def16e2844149ee26f9e449d5255",name:"IN Homepage Timer AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.toLowerCase().includes("/in/en"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=function(e,t,o,n,r,a){try{for(r={is:[e,t],dt:[],tm:[],hd:0,ms:0},a=0;a<2;a++)o=r.is[a].substring(0,8),n=r.is[a].substring(8),r.dt[a]=new Date,console.log(r.dt[a]),"--------"!==o&&(r.dt[a].setFullYear(o.substring(0,4)),r.dt[a].setMonth(parseInt(o.substring(4,6))-1),r.dt[a].setDate(o.substring(6,8))),"----"!==n?(r.dt[a].setHours(n.substring(0,2)),r.dt[a].setMinutes(n.substring(2,4))):(r.dt[a].setHours(r.hd),r.dt[a].setMinutes(r.ms)),r.dt[a].setSeconds(r.ms),r.tm[a]=r.dt[a].getTime(),r.hd=23,r.ms=59;return r.n=(new Date).getTime(),r.n>=r.tm[0]&&r.n<=r.tm[1]}catch(t){return!1}};if(location.pathname.indexOf("/in/en")>-1)return e("202310280000","202311102359")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"configurator"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC740dd06e383c44c4bf96d81a57f2c309-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7af9b9ef5f6418cab0ce921df0692eb",name:"Tealium: Criteo | All Events - BR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:51},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Criteo Consent%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9fe1dec0571c468081dab782b869eb39-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc85ad96390a14569855be65657a06695",name:"Tealium : ID - hide email sign up",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("id"==lmd.cc.toLowerCase()||"id"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/id")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/id")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC259d468c780e4636a4270f4449ee026e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc891b0cbe4be4ae0a9a9f099a683300e",name:"Page Load Rule : LISA Belgium",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovobepub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:"//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem('rec_score') == \"\" || localStorage.getItem('rec_score') == '' || localStorage.getItem('rec_score') == \"Undefined\" || localStorage.getItem('rec_score') == \"undefined\" || localStorage.getItem('rec_score') == null || localStorage.getItem('rec_score') == \"0\")\n    {\n      localStorage.setItem('rec_score', 1.0);\n    //  console.log(\"rec_test\"+localStorage.getItem('rec_score'));\n    \n    }\nif( localStorage.getItem('fre_score') == \"\" || localStorage.getItem('fre_score') == '' || localStorage.getItem('fre_score') == \"Undefined\" || localStorage.getItem('fre_score') == \"undefined\" || localStorage.getItem('fre_score') == null || localStorage.getItem('fre_score') == \"0\")\n    {\n      localStorage.setItem('fre_score', 0.83);\n    \n    }\nif( localStorage.getItem('dur_score') == \"\" || localStorage.getItem('dur_score') == '' || localStorage.getItem('dur_score') == \"Undefined\" || localStorage.getItem('dur_score') == \"undefined\" || localStorage.getItem('dur_score') == null || localStorage.getItem('dur_score') == \"0\")\n    {\n      localStorage.setItem('dur_score', 0.0);\n    \n    }\nif(localStorage.getItem('tot_rfd_score')==\"NaN\" || localStorage.getItem('tot_rfd_score') == \"\" || localStorage.getItem('tot_rfd_score') == '' || localStorage.getItem('tot_rfd_score') == \"Undefined\" || localStorage.getItem('tot_rfd_score') == \"undefined\" || localStorage.getItem('tot_rfd_score') == null || localStorage.getItem('tot_rfd_score') == \"0\")\n    {\n      localStorage.setItem('tot_rfd_score', 0.0);\n    //  console.log(\"typeof tot_rfd_score3\"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem('score')==\"NaN\" || localStorage.getItem('score') == \"\" || localStorage.getItem('score') == '' || localStorage.getItem('score') == \"Undefined\" || localStorage.getItem('score') == \"undefined\" || localStorage.getItem('score') == null || localStorage.getItem('score') == \"0\")\n    {\n      localStorage.setItem('score', 0.0);\n      \n    \n    }\nif(localStorage.getItem('cur_eng_score')==\"NaN\" || localStorage.getItem('cur_eng_score') == \"\" || localStorage.getItem('cur_eng_score') == '' || localStorage.getItem('cur_eng_score') == \"Undefined\" || localStorage.getItem('cur_eng_score') == \"undefined\" || localStorage.getItem('cur_eng_score') == null || localStorage.getItem('cur_eng_score') == \"0\")\n    {\n      localStorage.setItem('cur_eng_score', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem('tot_prev_score');\n        if(la_total_rdf!=\"NaN\"){\n        var last_total_rdf=parseFloat(localStorage.getItem('tot_prev_score'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem(\"rec_score\"));\nvar last_frequency=parseFloat(localStorage.getItem(\"fre_score\"));\nvar last_duration=parseFloat(localStorage.getItem(\"dur_score\"));\n//console.log(\"----last_recency---\"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem('score') == \"\" || localStorage.getItem('score') == '' || localStorage.getItem('score') == \"Undefined\" || localStorage.getItem('score') == \"undefined\" || localStorage.getItem('score') == null  || localStorage.getItem('score')==\"NaN\" )\n    {\n      localStorage.setItem('score', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem('last_total_rdf') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x==\"New Visitor\")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search(\"day\");\n\t\tvar recency_minute=x.search(\"minute\");\n\t\tvar recency_hour=x.search(\"hour\");\n\t\tvar recency_month=x.search(\"month\");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency==\"\" || last_recency==\"NaN\" || last_recency==\"null\" ||last_recency==\"undefined\")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.23;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.18;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.09;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.20;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log(\"rec_test not equal to last\");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log(\"rec_test equal to last\");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.83;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.38;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.18;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z==\"first hit of visit\" ||z==\"less than a minute\")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search(\"Day\");\n      var duration_minute=z.search(\"minute\");\n      var duration_hour=z.search(\"hour\");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.16;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.37;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.60;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.24;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.03;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration==\"undefined\")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n     localStorage.setItem('rec_score',cur_recency_score);\n    \n     \n      localStorage.setItem('fre_score',cur_visit_num_bucket);\n     \n      //duration on local storage\n      localStorage.setItem('dur_score',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n  //  console.log(\"duration score:\"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!=\"undefined\" || cur_dur_score!=undefined ||cur_dur_score!=\"\"){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n      //  console.log(\"typeof recency1\"+typeof(cur_recency_score))\n      //  console.log(\"total_cur_score\"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n  \n      }\n       \n    \n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem(\"tot_rfd_score\"))+total_cur_score;\n        localStorage.setItem('tot_rfd_score',parseFloat(total_cur_add_score));\n        \n       localStorage.setItem('tot_prev_score',total_cur_score);\n     \n        }\n        else{\n     \n         var total_cur_add_score=parseFloat(localStorage.getItem(\"tot_rfd_score\"));\n        localStorage.setItem('tot_rfd_score',parseFloat(total_cur_add_score));\n         \n          localStorage.setItem('tot_prev_score',total_cur_score);\n      \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem(\"score\"))+total_cur_score).toFixed(2);\n   \n       \n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem(\"tot_prev_score\")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem(\"score\")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,'s_tot_rfd',0);\nvar cur_eng_val=getValOnce(cur_eng_score_change,'s_eng_rfd',0);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem(\"tot_prev_score\"))+parseFloat(localStorage.getItem(\"cur_eng_score\"))).toFixed(2);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar(\"LISA RFD Score\")+_satellite.getVar(\"LISA Engagement Score\")).toFixed(2));\n\nif(cur_tot_val)\n{\n\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n \n    \n  }\n  \n}\n\n \nelse\n{\n\n  console.log(\"Third else No Paas\")\n}\n \n\n    ",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLc8a9fcfbc86441fd9c06965a19df9b6a",name:"Third Party Pixel : KARTE_20200729 : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&(location.pathname.includes("/ja/pc")||"https://www.lenovo.com/jp/ja/?Redirect=False"==window.location.href||location.pathname.includes("/d/deals/")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC578003fe2a1147ad81b786db8571ae55-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC26dc89edfe9b424bbc536297748a5def-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1d0d63a228a04614ab2225f20aac90d4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc8d770c06a244352b69176544cc8a940",name:"East  EMEA : Marketo- MEA/RUCIS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|marketo MEA/RUCIS|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6626bbfef1b3444a8943a8cd8035e568-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc8e80622022448938b73e51d8d9db128",name:"Direct Call Rule: Internal Search New Design Header Rule: All Sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internalsearch_Category"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search New Design Header Rule%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLc973667c968b405aa24ee28df294423a",name:"ZZ_NP_Tealium : VC_student_register_20200915 : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&location.pathname.includes("/eduforms/success"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc12d51085f9d4df7845fb4895c860542-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc98780688d534438bd7c5a01da0fc89f",name:"MarketingPixel | Page View | TradeDesk | AU Public | Yoga - len101y0046",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Domain%",rightOperand:"www.lenovo.com"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("au"==lmd.cc&&"auweb"==lmd.storeID)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.getVar("Pathname").includes("/p/laptops/yoga/yoga-2-in-1-series/lenovo-yoga-7-2-in-1-gen-9-(14-inch-amd)/len101y0046"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC985637a858cd44f1875dbbccd11c3783-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc99b90c51e8e4675b7e97ffade1392eb",name:"MarketingPixel | Shoffr - HK | Subseries Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"hk"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/hk/tele/"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/hk/sharelenovo/hkico-lenovopro-mm/"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"subseriespage|Subseries PDP"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC057391a6ef2c4c56af056fa559af1fb0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9af3d68df5a4f8dac422c50febef54c",name:"East EMEA : Google Ads Conversion Tracking & Remarketing (gtag.js)-ZA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|google ZA|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2b5c714ab62a4f7b943db28ede8e2b8e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcab172a676114ec99f8523c0fc8c908b",name:"B2B - ALERT TEST",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(lmd.pageName.toLowerCase().includes("b2bsite")&&lmd.pagePath.toLowerCase().includes("login/register")&&lmd.siteRoot.includes("/le/1213805614/us/en"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6fc743ded11e45c2beb84b42dd2ad87e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcba3efaa26bb4f6d8fb4d4a1a5d68295",name:"EMEA : pixel Tiktok - EDU registration",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|tiktok edu|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("gbeducation"==lmd.storeID.toLowerCase()||"gbedu"==lmd.storeID.toLowerCase())&&(location.pathname.toLowerCase().includes("goaccountverfy")||location.pathname.toLowerCase().includes("verify")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1f7309dc958f477e8c2a06252c9ba771-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcbc23e72fc6d420b9d3883cb4f7877cb",name:"Analytics : psref-link Link tracking",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".psref-link",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM object for psref-link Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLcc365d68a3a04b3c895370f3079d833f",name:"EMEA : pixels Google Ads Conversion Tracking & Remarketing (gtag.js) - Accessories",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|google ads|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("accessory pdp"==document.querySelector('meta[name="adobeParam"]').content.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc2ac4921ab0b4055944550553f976de6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcc92d7b2ef4d477c9105871bc660e7c6",name:"Direct Call Rule : Login : Flash",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"login"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Login (Flash)%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf9bf983797d040939eb7e0c6b30c6069-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcd38be7a18f8472b8a2c41ffefd7def6",name:"Pixels : Tealium : LinkedIn Insight Tag - DCG pages : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=/^(in)$/;return!("true"!=(null!==lmd.cc.toLowerCase().match(e)?"true":"false")||!location.pathname.toLowerCase().includes("/data-center/")||"tele-hybris.lenovo.com"==document.domain.toLowerCase()||"lenovotele"==document.URL.toLowerCase())}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{}}]},{id:"RLcd5cc1634603491abc81d0743512c028",name:"Tiktok - NA + EMEA - Purchase",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"order_confirmation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("emea"==lmd.regioncode.toLowerCase()||"na"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0297a44e026a40d2be6a7f2a3ee34c27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcda3573c38f24a528158c9d5d2f1c047",name:"ZZ_NP_Tealium : JP SMB benefit",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&location.pathname.includes("/business/benefits"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbc6fcf37e6b04621a205b9bc1371e8ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcda9dabb02d34bc38864e309630a76d8",name:"Evidon Universal : EMEA/EET Region",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%GDPR Compliant Countries%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%EMEA Country Code%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=document.URL.includes("newsletter-main")&&1!=document.URL.includes("/emailsignup")&&1!=document.URL.includes("/signup/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc33dbff093aa41eb8b960f598e1c89f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcdd8f8daa4dc41fb94ff0cf6095f2ef7",name:"ZZ_NP_Tealium : SMB Contact Tag track : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&(location.pathname.toLowerCase().includes("/lenovopro/contact")||location.pathname.toLowerCase().includes("/landings/tele-question")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7aa81d8a6afb4be4a8a897029e96920d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce7e14d681264441bb3148c191527129",name:"EMEA : Pixel Cart addition : Snapchat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|snapchat|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0===lmd.platform||void 0!==lmd.platform&&"flash"!==lmd.platform.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfb6e8a47c69e4b62965f1a03fcb727e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce7fb20ee11646f1881c4278cca5a76f",name:"Direct Call Rule : User Interaction-Newest Deals Open : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"newest-deals-open"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For User Interaction-Newest Deals%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLce92d97944a54d679b3c8fc24c2ec1df",name:"Tealium : Override | My-account | Fix translation issue - KR : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("kr"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||document.URL.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5c46ea0dc8a44bcc8a83a3f8d5412902-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcf5c307b22534efa8976a09e5f101000",name:"Marketing : Floodlight Product View : JP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:53}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/p/",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Platform%",rightOperand:"flash"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code lmd%",rightOperand:"jp"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\n<script>\n  gtag('event', 'conversion', {\n    'allow_custom_scripts': true,\n    'send_to': 'DC-13656467/conve0/produ0+unique'\n  });\n</script>\n<noscript>\n<img src=\"https://ad.doubleclick.net/ddm/activity/src=13656467;type=conve0;cat=produ0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=1;gdpr_consent=1;ord=1;num=1?\" width=\"1\" height=\"1\" alt=\"\"/>\n</noscript>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLcf67e6f06fe3488a9375e31a9501bf92",name:"Marketing : GA4 : Select Promotion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Referrer URL%",rightOperand:"/deals/"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"/p/"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"es"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdd493613a5234d2f97ed1d175adadc0d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,
delayNext:!0}]},{id:"RLcfa271c6e1d447629986d921b55b1d64",name:"Direct Call : SR Cart Addition",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shop_run_cart"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%cart:event:name%",rightOperand:"scadd"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%cart:cartID%",rightOperand:".+"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - SR Cart Add%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLcfabd2502bd14006b68a2a32800c99db",name:"Direct Call Rule: Internal Search : Product Category",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"product_Category"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - Internal Search : Product Category%",type:"Internal Search : Product Category",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLd1d234be7fae438d8299fa01070e4740",name:"Tealium : TikTok - Transaction - Thankyou page - CAP Public",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if((window.location.href.includes("/orderConfirmation")||document.URL.toLowerCase().includes("thankyou"))&&1!=window.location.href.toLowerCase().includes("tele-hybris.lenovo.com")&&1!=window.location.href.toLowerCase().includes("lenovotele")&&(lmd.storeID.toLowerCase().includes("twweb")||lmd.storeID.toLowerCase().includes("hkweb")||lmd.storeID.toLowerCase().includes("krweb")||lmd.storeID.toLowerCase().includes("myweb")||lmd.storeID.toLowerCase().includes("phweb")||lmd.storeID.toLowerCase().includes("sgweb")||lmd.storeID.toLowerCase().includes("thweb")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1095ca18651a4d98bacf64aa602ad1f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd322b61552664f1d9ddd8af4d5174157",name:"EMEA : pixel Inside Chat Dynamic Link for Pages",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|powerfront|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("pre-c-hybris.lenovo.com"!=document.domain.toLowerCase()&&0==location.pathname.toLowerCase().includes("googlestadia")&&0==document.URL.toLowerCase().includes("wlh")&&0==document.URL.toLowerCase().includes("cancom")&&0==document.URL.toLowerCase().includes("oracle-chat-popup"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC86da433038834693925ff8ef8bc5c9fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd3a23571d2164ab1b68c5cf4cacbadc0",name:"ZZ_NP_Tealium : Marketo - Global : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&1!=lmd.taxonomytype.toLowerCase().includes("cart")&&1!=location.pathname.toLowerCase().includes("thankyou")&&1!=location.pathname.toLowerCase().includes("newsletter")&&1!=location.pathname.toLowerCase().includes("chat-popup")&&(1!=location.pathname.toLowerCase().includes("checkout")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||1!=location.hostname.toLowerCase().includes("checkout.lenovo.com")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||location.pathname.toLowerCase().includes("orderconfirmation")||location.search.toLowerCase().includes("thankyoupage"))&&"tele"!=lmd.bu)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1a02459cbf7241ddad1e895c10639004-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd3ce0dd9e15040988e00f32f2cd14b6a",name:"East EMEA : Facebook Pixel-MEA/RUCIS DCG",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|facebook RUCIS DCG|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.toString().toLowerCase().indexOf("/data-center".toLowerCase())>-1||location.pathname.toString().toLowerCase().indexOf("/servers-storage".toLowerCase())>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC41d7a13561fe4082b60d4924119ca34e-source.min.js",language:"html",isExternal:!0}}]},{id:"RLd3eb479e14394c2b818347ca2e789275",name:"Marketing : Floodlight View Payment Page : JP",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".toNext div[leclick='goPayment'],.save[data-tkey='Save']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC036d44c60376444e8d1be44021531e08-source.min.js",language:"html",isExternal:!0}}]},{id:"RLd446e78338644999a1f7eee466c70631",name:"Third Party Pixel : Page Load-Bundle Loader : ConfirmIT : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("sasia"==lmd.regioncode.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"cap"==lmd.regioncode.toLowerCase())&&0==location.pathname.toLowerCase().includes("oracle-chat-popup")&&"pre-c-hybris.lenovo.com"!=document.domain&&"www.prod.online.lenovo.com"!=document.domain&&"tele-hybris.lenovo.com"!=document.domain&&0==document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC01cbd54b13e44db68ae486d9cf0a101a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd4699b0d29634a3dbcfea90f5f5e70d7",name:"Direct Call Rule : Lenovo Edu Profile Creation : Flash Countries",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"lenovoedu_profile_creation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Lenovo Edu profile creation%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLd471b7f523d14801830091022f56227c",name:"Plugin Initialization",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'/* Adobe Consulting Plugin: getValOnce v3.0 (Requires AppMeasurement) */\nfunction getValOnce(valueToCheck, cookieName, expireTime, expirePeriod)\n{\n    if(arguments && arguments[0] === "-v") return {"plugin": "getValOnce", "version": "3.0"}\n\n    window.cookieWrite=window.cookieWrite || function(k,v,e){if("string"===typeof k){g=function(){var a=window.location.hostname,b=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){b=2<b?b:2;var c=a.lastIndexOf(".");if(0<=c){for(;0<=c&&1<b;)c=a.lastIndexOf(".",c-1),b--;c=0<c?a.substring(c):a}}return c}();v="undefined"!==typeof v?""+v:"";if(e||""===v)if(""===v&&(e=-60),"number"===typeof e){var h=new Date;h.setTime(h.getTime()+6E4*e)}else h=e;return k&&(document.cookie=encodeURIComponent(k)+"="+encodeURIComponent(v)+"; path=/;"+(e?" expires="+h.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"!==typeof cookieRead)?cookieRead(k)===v:!1}};\n    window.cookieRead=window.cookieRead || function(k){if("string"===typeof k)k=encodeURIComponent(k);else return"";var c=" "+document.cookie,b=c.indexOf(" "+k+"="),d=0>b?b:c.indexOf(";",b);return(k=0>b?"":decodeURIComponent(c.substring(b+2+k.length,0>d?c.length:d)))?k:""};\n\n    //if valueToCheck is set\n    if(!!valueToCheck)\n    {\n            //set cookieName equal to "s_gvo" by default\n            cookieName = cookieName || "s_gvo",\n            \n            //set expireTime to 0 if it hasn\'t been set\n            expireTime = expireTime || 0,\n            \n            //determine if the expirePeriod is in minutes or days\n            expirePeriod = expirePeriod === "m" ? 60000 : 86400000;\n\n        //If the valueToCheck variable is set on the page and its not equal to the current cookieName\n        if(valueToCheck !== window.cookieRead(cookieName))\n        {\n            //create a dateObject \n            var dateObject = new Date(); \n            \n            //set the dateObject to either right now (if expireTime = 0) or to "expireTime" minutes/days from now\n            dateObject.setTime(dateObject.getTime() + expireTime * expirePeriod);\n            \n            //set cookieName equal to valueToCheck, expiring at the end of session OR in "expireTime" minutes/days\n            window.cookieWrite(cookieName, valueToCheck, expireTime === 0 ? 0 : expirePeriod);\n            \n            //return valueToCheck because it wasn\'t set previously\n            return valueToCheck;\n        }\n    }\n    //return nothing if there\'s no valueToCheck OR if it already matches the cookieName (i.e. the previousValue)\n    return "";\n}\n\nfunction getVisitDuration()\n{\n\t//return version and set contextData (if available)\n\tif(arguments && arguments[0] === "-v") return {"plugin": "getVisitDuration", "version": "3.0.0"}\n\n\twindow.cookieWrite=window.cookieWrite || function(k,v,e){if("string"===typeof k){g=function(){var a=window.location.hostname,b=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){b=2<b?b:2;var c=a.lastIndexOf(".");if(0<=c){for(;0<=c&&1<b;)c=a.lastIndexOf(".",c-1),b--;c=0<c?a.substring(c):a}}return c}();v="undefined"!==typeof v?""+v:"";if(e||""===v)if(""===v&&(e=-60),"number"===typeof e){var h=new Date;h.setTime(h.getTime()+6E4*e)}else h=e;return k&&(document.cookie=encodeURIComponent(k)+"="+encodeURIComponent(v)+"; path=/;"+(e?" expires="+h.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"!==typeof cookieRead)?cookieRead(k)===v:!1}};\n\twindow.cookieRead=window.cookieRead || function(k){if("string"===typeof k)k=encodeURIComponent(k);else return"";var c=" "+document.cookie,b=c.indexOf(" "+k+"="),d=0>b?b:c.indexOf(";",b);return(k=0>b?"":decodeURIComponent(c.substring(b+2+k.length,0>d?c.length:d)))?k:""};\n\n\tvar dateObject = new Date(), \n\t\tcurrentTime = dateObject.getTime(), \n\t\tcookieValue = cookieRead("s_dur"), \n\t\tvisitDuration = 0;\n\n\t//if no cookie or last access was more than 30 mintues ago, set the last access time to now\t\n\tif(isNaN(cookieValue) || (currentTime - cookieValue) > 1800000) cookieValue = currentTime;\n\n\t//set the visitDuration to the time since the visit started\n\tvisitDuration = currentTime - cookieValue;\n\t\n\t//set the expiration of the "s_dur" cookie to 30 minutes from now and set the cookie equal to the time of the first hit of the visit\n\tcookieWrite("s_dur", cookieValue + "", 30);\n\n\t//return the number of minutes since the beginning of the visit (rounded down)\n\tif(visitDuration === 0) return "first hit of visit";\n\telse \n\t{\n\t\tvisitDuration = Math.floor(visitDuration / 60000)\n\t\tif(visitDuration === 0) return "less than a minute";\n\t\telse if(visitDuration === 1) return "1 minute"\n\t\telse return visitDuration + " minutes";\n\t}\n}\n\n\nfunction getVisitNum(resetPeriod, extendResetPeriod)\n{\n\t//return version and set contextData (if available)\n\tif(resetPeriod === "-v") return {"plugin": "getVisitNum", "version": "5.0.0"}\n\n\twindow.cookieWrite=window.cookieWrite||function(k,v,e){if("string"===typeof k){g=function(){var a=window.location.hostname,b=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){b=2<b?b:2;var c=a.lastIndexOf(".");if(0<=c){for(;0<=c&&1<b;)c=a.lastIndexOf(".",c-1),b--;c=0<c?a.substring(c):a}}return c}();v="undefined"!==typeof v?""+v:"";if(e||""===v)if(""===v&&(e=-60),"number"===typeof e){var h=new Date;h.setTime(h.getTime()+6E4*e)}else h=e;return k&&(document.cookie=encodeURIComponent(k)+"="+encodeURIComponent(v)+"; path=/;"+(e?" expires="+h.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"!==typeof window.cookieRead)?window.cookieRead(k)===v:!1}};\n\twindow.cookieRead=window.cookieRead||function(k){if("string"===typeof k)k=encodeURIComponent(k);else return"";var c=" "+document.cookie,b=c.indexOf(" "+k+"="),d=0>b?b:c.indexOf(";",b);return(k=0>b?"":decodeURIComponent(c.substring(b+2+k.length,0>d?c.length:d)))?k:""};\n\tfunction isInteger(a){return isNaN(a)?!1:(parseFloat(a)|0)===parseFloat(a)};\n\tfunction endOfDatePeriod(dp){var a=new Date,b=isNaN(dp)?0:Math.floor(dp);a.setHours(23);a.setMinutes(59);a.setSeconds(59);"w"===dp&&(b=6-a.getDay());if("m"===dp){b=a.getMonth()+1;var d=a.getFullYear();b=(new Date(d?d:1970,b?b:1,0)).getDate()-a.getDate()}a.setDate(a.getDate()+b);"y"===dp&&(a.setMonth(11),a.setDate(31));return a}\n\t\n\t//set the resetPeriod equal to 365 (days) if it hasn\'t been set yet (resetPeriod = number for # of days, "d" is for end of day, "y" for end of year, etc.)\n\tvar resetPeriod = resetPeriod ? resetPeriod : 365,\n\t\t\n\t\t//set extendResetPeriod equal to true by default if resetPeriod is an integer\n\t\textendResetPeriod = typeof extendResetPeriod !== "undefined" ? Boolean(extendResetPeriod) : (isInteger(resetPeriod) ? !0 : !1),\n\t\t\n\t\tcurrentTime = new Date().getTime(),\n\t\texpirationTime = endOfDatePeriod(resetPeriod);\n\n\t//if the "s_vnc" (visitNumber) cookie is set (specifing the resetPeriod allows for multiple cookies/resetPeriods, e.g. s_vnc365)\n\tif(cookieRead("s_vnc" + resetPeriod))\n\t{\n\t\t//split up the "s_vnc" cookie into its parts \n\t\tvar visitNumCookieParts = cookieRead("s_vnc" + resetPeriod).split("&vn="), \n\t\t\n\t\t\t//set visitNumber equal to everything after "&vn="\n\t\t\tvisitNumber = visitNumCookieParts[1],\n\t\t\texpirationTimeString;\n\t}\n\t\n\t//if we\'re in the middle of a visit (signaled by the "s_ivc" cookie)\n\tif(cookieRead("s_ivc"))\n\t{\n\t\t//if we have a visit number\n\t\tif(visitNumber)\n\t\t{\n\t\t\t//set the inVisit Cookie equal to true (expires in 30 minutes)\n\t\t\tcookieWrite("s_ivc", true, 30);\n\t\t\t\n\t\t\t//return the visit number\n\t\t\treturn visitNumber;\n\t\t}\n\t\t//if we have no visit number, return "unknown visit number" (we should have gotten the visit number on the first page of the visit but didn\'t for some reason)\n\t\telse return "unknown visit number";\n\t}\n\t\n\t//if we\'re NOT in the middle of a visit (i.e. if we\'re on the first page of the visit)\n\telse\n\t{\n\t\t//if we have a visit number (from the "s_vnc" cookie)\n\t\tif(typeof visitNumber !== "undefined")\n\t\t{\n\t\t\t//increment the visit number by one\n\t\t\tvisitNumber++;\n\t\t\t\n\t\t\t//if we\'re extending the resetPeriod before the visit number count resets, set expirationTimeString equal to the time "resetPeriod" days from now\n\t\t\tif(extendResetPeriod && isInteger(resetPeriod)) expirationTimeString = currentTime + (resetPeriod * 86400000);\n\t\t\t\n\t\t\t//if we\'re not extending the expiration, set expirationTimeString equal to the original expiration time\n\t\t\telse expirationTimeString = visitNumCookieParts[0];\n\t\t\t\n\t\t\t//set the expirationTime\n\t\t\texpirationTime.setTime(expirationTimeString);\n\t\t\t\n\t\t\t//set the "s_vnc" cookie equal to the expirationTimeString, &vn=, and the visitNumber\n\t\t\tcookieWrite("s_vnc" + resetPeriod, expirationTimeString + "&vn=" + visitNumber, expirationTime);\n\t\t\t\n\t\t\t//set the inVisit Cookie equal to true (expires in 30 minutes)\n\t\t\tcookieWrite("s_ivc", true, 30);\n\t\t\t\n\t\t\t//return the visit number\n\t\t\treturn visitNumber;\n\t\t}\n\t\t//if we have no visit number (i.e. new visitor or just no "s_vnc")\n\t\telse\n\t\t{\n\t\t\t//set expirationTimeString equal to the time "resetPeriod" days from now\n\t\t\tif(isInteger(resetPeriod)) expirationTimeString = currentTime + (resetPeriod * 86400000);\n\t\t\t\n\t\t\t//or set expirationTimeString equal to the end of the arbitrary period of time (week/month/year)\n\t\t\telse expirationTimeString = endOfDatePeriod(resetPeriod).getTime();\n\t\t\t\n\t\t\t//set the "s_vnc" cookie equal to the expirationTimeString, &vn=, and the visitNumber (i.e. 1)\n\t\t\tcookieWrite("s_vnc" + resetPeriod, expirationTimeString + "&vn=1", expirationTime);\n\n\t\t\t//set the inVisit Cookie equal to true \n\t\t\tcookieWrite("s_ivc", true, 30);\n\t\t\t\n\t\t\t//return "1" (for the first visit)\n\t\t\treturn "1";\n\t\t}\n\t}\n}\n\n\n\n\n/* Adobe Consulting Plugin: getTimeSinceLastVisit v2.0 */\nfunction getTimeSinceLastVisit()\n{\n\tif(arguments && arguments[0] === "-v") return {"plugin": "getTimeSinceLastVisit", "version": "2.0"}\n\t\n\t//formatTime\n\twindow.formatTime=window.formatTime||function(e,b,c){function f(b,c,d,e){if("string"!==typeof c)return!1;if("string"===typeof b)b=b.split(d||",");else if("object"!==typeof b)return!1;d=0;for(a=b.length;d<a;d++)if(1==e&&c===b[d]||c.toLowerCase()===b[d].toLowerCase())return!0;return!1}if(!("undefined"===typeof e||isNaN(e)||0>Number(e))){var d="";"string"===typeof b&&"d"===b||("string"!==typeof b||!f("h,m,s",b))&&86400<=e?(b=86400,d="days",c=isNaN(c)?1:b/(c*b)):"string"===typeof b&&"h"===b||("string"!==typeof b||!f("m,s",b))&&3600<=e?(b=3600,d="hours",c=isNaN(c)?4:b/(c*b)):"string"===typeof b&&"m"===b||("string"!==typeof b||!f("s",b))&&60<=e?(b=60,d="minutes",c=isNaN(c)?2:b/(c*b)):(b=1,d="seconds",c=isNaN(c)?.2:b/c);d=Math.round(e*c/b)/c+" "+d;0===d.indexOf("1 ")&&(d=d.substring(0,d.length-1));return d}};\n\n\t//cookieWriteRead\n\twindow.cookieWrite=window.cookieWrite || function(k,v,e){if("string"===typeof k){g=function(){var a=window.location.hostname,b=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){b=2<b?b:2;var c=a.lastIndexOf(".");if(0<=c){for(;0<=c&&1<b;)c=a.lastIndexOf(".",c-1),b--;c=0<c?a.substring(c):a}}return c}();v="undefined"!==typeof v?""+v:"";if(e||""===v)if(""===v&&(e=-60),"number"===typeof e){var h=new Date;h.setTime(h.getTime()+6E4*e)}else h=e;return k&&(document.cookie=encodeURIComponent(k)+"="+encodeURIComponent(v)+"; path=/;"+(e?" expires="+h.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"!==typeof cookieRead)?cookieRead(k)===v:!1}};\n\twindow.cookieRead=window.cookieRead || function(k){if("string"===typeof k)k=encodeURIComponent(k);else return"";var c=" "+document.cookie,b=c.indexOf(" "+k+"="),d=0>b?b:c.indexOf(";",b);return(k=0>b?"":decodeURIComponent(c.substring(b+2+k.length,0>d?c.length:d)))?k:""};\n\n\t//get the currentTime\n\tvar dateObject = new Date(),\n\t\tcurrentTime = dateObject.getTime(),\n\n\t\t//set cookieValue equal to the "s_tslv" cookie\n\t\tcookieValue = cookieRead("s_tslv") || 0,\n\n\t\t//get the timeSinceLastVisit (and numberOfSeconds too)\n\t\ttimeSinceLastVisit = currentTime - cookieValue,\n\t\tnumberOfSeconds = Math.round(timeSinceLastVisit / 1000);\n\n\t//set the dateObject to two years from now\n\tdateObject.setTime(currentTime + 63072E6);\n\n\t//set the "s_tslv" cookie equal to the currentTime, expiring in two years\n\tcookieWrite("s_tslv", currentTime, dateObject);\n\n\t//if cookieValue isn\'t set, \n\tif(!cookieValue)\n\t{\n\t\t//set the invisit cookie equal to 0 seconds since last visit\n\t\tcookieWrite("s_inv", "0", 30);\n\t\t//return new visitor\n\t\treturn "New Visitor";\n\t}\n\n\t//if the cookieValue is set and timeSinceLastVisit is more than 30 minutes (we need at least 30 minutes for a new visit) OR if we\'re in the middle of a visit\n\telse if(numberOfSeconds > 1800 || cookieRead("s_inv"))\n\t{\n\t\t//if we have the s_inv cookie, set the numberOfSeconds equal to that\n\t\tif(cookieRead("s_inv")) numberOfSeconds = cookieRead("s_inv");\n\n\t\t//set (or reset) the invisit cookie with time since last visit, expiring in 30 minutes\n\t\tcookieWrite("s_inv", numberOfSeconds, 30);\n\n\t\t//return the time since last visit.  If there is no time since last visit, return New Visitor\n\t\tif(numberOfSeconds !== "0") return formatTime(numberOfSeconds);\n\t\telse return "New Visitor";\n\t}\n\t//return nothing if we\'re just having problems\n\treturn "";\n}\n\n\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd52c6947fd56475ab3c133a84902c88a",name:"Marketing : Snapchat : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|snapchat|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCca39497ccb4244c2bb75568e5f24198c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd5413d67efbc46959d08109aac9ba860",name:"Tealium : Override | Product builder | Accessories, services and software discount banner - HK",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("hk"==lmd.cc.toLowerCase()||"hk"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&lmd.internalsearchcanonical.includes("/product_builder")&&(window.location.href.toLowerCase().includes("lenovo.com/hk")&&1!=window.location.href.toLowerCase().includes("/hkshadow")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/hk")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/hk")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfbb006b9563b4e33887d730a2331d4fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd632a9c3f35740498b9b073f998fbe24",name:"MarketingPixel | Page View | TradeDesk - Indonesia - Public",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("id"==_satellite.getVar("cc").toLowerCase()&&"idind"==lmd.storeID.toLowerCase()&&-1!=lmd.internalsearchcanonical.indexOf("/id/id/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC38ed87bdb9cb468097f88add17f87bf3-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd6333b8691b04461a40961e31a9220ea",name:"Custom Code: IN DCG Top Banner",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/in/en/p/servers-storage/servers/towers/thinksystem-st250-v2/len21ts0005"},{value:"/in/en/p/servers-storage/servers/racks/thinksystem-sr630-v2/77xx7sr63v2"},{value:"/in/en/p/servers-storage/servers/racks/thinksystem-sr650-v2/77xx7sr65v2"},{value:"/in/en/p/servers-storage/servers/racks/thinksystem-sr250-v2/len21ts0003"},{value:"/in/en/p/servers-storage/servers/racks/thinksystem-sr250-server/77xx7srsr25"},{value:"/in/en/p/servers-storage/servers/racks/thinksystem-sr635/77xx7srsr35"},{value:"/in/en/p/servers-storage/servers/racks/thinksystem-sr550/77xx7srsr55"},{value:"/in/en/p/servers-storage/servers/racks/thinksystem-sr645/77xx7sr352s"},{value:"/in/en/p/servers-storage/servers/towers/thinksystem-st650-v2/len21ts0001"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa518585778374817b5690cc7a6b7c082-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd6b0037a2d314aecbd13df33f2dd05b7",name:"Third Party Pixel:Global Page Load:Powerfront Inside Chat:HK,KR,MY,SG,TH,TW,PH",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("hk"==_satellite.getVar("Country Code")||"kr"==_satellite.getVar("Country Code")||"sg"==_satellite.getVar("Country Code")||"my"==_satellite.getVar("Country Code")||"ph"==_satellite.getVar("Country Code")||"th"==_satellite.getVar("Country Code")||"tw"==_satellite.getVar("Country Code"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"twepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"twcepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"myepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"mycepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"phepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"phcepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"sgepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"sgcepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"thepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%groupid%",rightOperand:"thcepp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Indirect Site and Mobile Devices%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC20a84be0fa734c41b533015c36b976e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd708a930d288409fbb28c7c215c33ccc",name:"SMB : Virtual Page Name",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Virtual SMB Page Name"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if((location.href.indexOf("smbpro/gatekeeper/showpage")>-1||location.href.indexOf("smbpro/smbRegistrationV3/smbRegister")>-1||location.href.indexOf("/smbaccount/gatekeeper/showpage")>-1)&&void 0!==lmd.virtualPageName)return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For SMB : Virtual Page Name%",type:"web.webpagedetails.pageViews",instanceName:"alloy"}}]},{id:"RLd76da7abbedf4119923b2d8c3658fa5b",name:"Page Load Rule : LISA Denmark",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovodkpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 0.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.00);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.21;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.17;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.15;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.78;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.46;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.22;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.17;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.40;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.53;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.21;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.02;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0004;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd77bc7fbbcd9442c82ebd5525680d06a",name:"EMEA : Direct Call Rule : Cart Addition : Assembly : Advertising (Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|assembly|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCccf8d81848c249519422cd212f47a63d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7817d3df92a4e05b5160b76e3f3a2a3",name:"Set Facebook Event Id - Page Load Rule - All Pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Tag Exclusion Condition%",rightOperand:"excludetag"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'var md5 = function(s, p) {\n                var m = {}\n                  , l = m.lib = {}\n                  , n = function() {}\n                  , r = l.Base = {\n                    extend: function(b) {\n                        n.prototype = this;\n                        var h = new n;\n                        b && h.mixIn(b);\n                        h.hasOwnProperty("init") || (h.init = function() {\n                            h.$super.init.apply(this, arguments)\n                        }\n                        );\n                        h.init.prototype = h;\n                        h.$super = this;\n                        return h\n                    },\n                    create: function() {\n                        var b = this.extend();\n                        b.init.apply(b, arguments);\n                        return b\n                    },\n                    init: function() {},\n                    mixIn: function(b) {\n                        for (var h in b)\n                            b.hasOwnProperty(h) && (this[h] = b[h]);\n                        b.hasOwnProperty("toString") && (this.toString = b.toString)\n                    },\n                    clone: function() {\n                        return this.init.prototype.extend(this)\n                    }\n                }\n                  , q = l.WordArray = r.extend({\n                    init: function(b, h) {\n                        b = this.words = b || [];\n                        this.sigBytes = h != p ? h : 4 * b.length\n                    },\n                    toString: function(b) {\n                        return (b || t).stringify(this)\n                    },\n                    concat: function(b) {\n                        var h = this.words\n                          , a = b.words\n                          , j = this.sigBytes;\n                        b = b.sigBytes;\n                        this.clamp();\n                        if (j % 4)\n                            for (var g = 0; g < b; g++)\n                                h[j + g >>> 2] |= (a[g >>> 2] >>> 24 - 8 * (g % 4) & 255) << 24 - 8 * ((j + g) % 4);\n                        else if (65535 < a.length)\n                            for (g = 0; g < b; g += 4)\n                                h[j + g >>> 2] = a[g >>> 2];\n                        else\n                            h.push.apply(h, a);\n                        this.sigBytes += b;\n                        return this\n                    },\n                    clamp: function() {\n                        var b = this.words\n                          , h = this.sigBytes;\n                        b[h >>> 2] &= 4294967295 << 32 - 8 * (h % 4);\n                        b.length = s.ceil(h / 4)\n                    },\n                    clone: function() {\n                        var b = r.clone.call(this);\n                        b.words = this.words.slice(0);\n                        return b\n                    },\n                    random: function(b) {\n                        for (var h = [], a = 0; a < b; a += 4)\n                            h.push(4294967296 * s.random() | 0);\n                        return new q.init(h,b)\n                    }\n                })\n                  , v = m.enc = {}\n                  , t = v.Hex = {\n                    stringify: function(b) {\n                        var a = b.words;\n                        b = b.sigBytes;\n                        for (var g = [], j = 0; j < b; j++) {\n                            var k = a[j >>> 2] >>> 24 - 8 * (j % 4) & 255;\n                            g.push((k >>> 4).toString(16));\n                            g.push((k & 15).toString(16))\n                        }\n                        return g.join("")\n                    },\n                    parse: function(b) {\n                        for (var a = b.length, g = [], j = 0; j < a; j += 2)\n                            g[j >>> 3] |= parseInt(b.substr(j, 2), 16) << 24 - 4 * (j % 8);\n                        return new q.init(g,a / 2)\n                    }\n                }\n                  , a = v.Latin1 = {\n                    stringify: function(b) {\n                        var a = b.words;\n                        b = b.sigBytes;\n                        for (var g = [], j = 0; j < b; j++)\n                            g.push(String.fromCharCode(a[j >>> 2] >>> 24 - 8 * (j % 4) & 255));\n                        return g.join("")\n                    },\n                    parse: function(b) {\n                        for (var a = b.length, g = [], j = 0; j < a; j++)\n                            g[j >>> 2] |= (b.charCodeAt(j) & 255) << 24 - 8 * (j % 4);\n                        return new q.init(g,a)\n                    }\n                }\n                  , u = v.Utf8 = {\n                    stringify: function(b) {\n                        try {\n                            return decodeURIComponent(escape(a.stringify(b)))\n                        } catch (g) {\n                            throw Error("Malformed UTF-8 data");\n                        }\n                    },\n                    parse: function(b) {\n                        return a.parse(unescape(encodeURIComponent(b)))\n                    }\n                }\n                  , g = l.BufferedBlockAlgorithm = r.extend({\n                    reset: function() {\n                        this._data = new q.init;\n                        this._nDataBytes = 0\n                    },\n                    _append: function(b) {\n                        "string" == typeof b && (b = u.parse(b));\n                        this._data.concat(b);\n                        this._nDataBytes += b.sigBytes\n                    },\n                    _process: function(b) {\n                        var a = this._data\n                          , g = a.words\n                          , j = a.sigBytes\n                          , k = this.blockSize\n                          , m = j / (4 * k)\n                          , m = b ? s.ceil(m) : s.max((m | 0) - this._minBufferSize, 0);\n                        b = m * k;\n                        j = s.min(4 * b, j);\n                        if (b) {\n                            for (var l = 0; l < b; l += k)\n                                this._doProcessBlock(g, l);\n                            l = g.splice(0, b);\n                            a.sigBytes -= j\n                        }\n                        return new q.init(l,j)\n                    },\n                    clone: function() {\n                        var b = r.clone.call(this);\n                        b._data = this._data.clone();\n                        return b\n                    },\n                    _minBufferSize: 0\n                });\n                l.Hasher = g.extend({\n                    cfg: r.extend(),\n                    init: function(b) {\n                        this.cfg = this.cfg.extend(b);\n                        this.reset()\n                    },\n                    reset: function() {\n                        g.reset.call(this);\n                        this._doReset()\n                    },\n                    update: function(b) {\n                        this._append(b);\n                        this._process();\n                        return this\n                    },\n                    finalize: function(b) {\n                        b && this._append(b);\n                        return this._doFinalize()\n                    },\n                    blockSize: 16,\n                    _createHelper: function(b) {\n                        return function(a, g) {\n                            return (new b.init(g)).finalize(a)\n                        }\n                    },\n                    _createHmacHelper: function(b) {\n                        return function(a, g) {\n                            return (new k.HMAC.init(b,g)).finalize(a)\n                        }\n                    }\n                });\n                var k = m.algo = {};\n                return m\n            }(Math);\n            (function(s) {\n                function p(a, k, b, h, l, j, m) {\n                    a = a + (k & b | ~k & h) + l + m;\n                    return (a << j | a >>> 32 - j) + k\n                }\n                function m(a, k, b, h, l, j, m) {\n                    a = a + (k & h | b & ~h) + l + m;\n                    return (a << j | a >>> 32 - j) + k\n                }\n                function l(a, k, b, h, l, j, m) {\n                    a = a + (k ^ b ^ h) + l + m;\n                    return (a << j | a >>> 32 - j) + k\n                }\n                function n(a, k, b, h, l, j, m) {\n                    a = a + (b ^ (k | ~h)) + l + m;\n                    return (a << j | a >>> 32 - j) + k\n                }\n                for (var r = md5, q = r.lib, v = q.WordArray, t = q.Hasher, q = r.algo, a = [], u = 0; 64 > u; u++)\n                    a[u] = 4294967296 * s.abs(s.sin(u + 1)) | 0;\n                q = q.MD5 = t.extend({\n                    _doReset: function() {\n                        this._hash = new v.init([1732584193, 4023233417, 2562383102, 271733878])\n                    },\n                    _doProcessBlock: function(g, k) {\n                        for (var b = 0; 16 > b; b++) {\n                            var h = k + b\n                              , w = g[h];\n                            g[h] = (w << 8 | w >>> 24) & 16711935 | (w << 24 | w >>> 8) & 4278255360\n                        }\n                        var b = this._hash.words\n                          , h = g[k + 0]\n                          , w = g[k + 1]\n                          , j = g[k + 2]\n                          , q = g[k + 3]\n                          , r = g[k + 4]\n                          , s = g[k + 5]\n                          , t = g[k + 6]\n                          , u = g[k + 7]\n                          , v = g[k + 8]\n                          , x = g[k + 9]\n                          , y = g[k + 10]\n                          , z = g[k + 11]\n                          , A = g[k + 12]\n                          , B = g[k + 13]\n                          , C = g[k + 14]\n                          , D = g[k + 15]\n                          , c = b[0]\n                          , d = b[1]\n                          , e = b[2]\n                          , f = b[3]\n                          , c = p(c, d, e, f, h, 7, a[0])\n                          , f = p(f, c, d, e, w, 12, a[1])\n                          , e = p(e, f, c, d, j, 17, a[2])\n                          , d = p(d, e, f, c, q, 22, a[3])\n                          , c = p(c, d, e, f, r, 7, a[4])\n                          , f = p(f, c, d, e, s, 12, a[5])\n                          , e = p(e, f, c, d, t, 17, a[6])\n                          , d = p(d, e, f, c, u, 22, a[7])\n                          , c = p(c, d, e, f, v, 7, a[8])\n                          , f = p(f, c, d, e, x, 12, a[9])\n                          , e = p(e, f, c, d, y, 17, a[10])\n                          , d = p(d, e, f, c, z, 22, a[11])\n                          , c = p(c, d, e, f, A, 7, a[12])\n                          , f = p(f, c, d, e, B, 12, a[13])\n                          , e = p(e, f, c, d, C, 17, a[14])\n                          , d = p(d, e, f, c, D, 22, a[15])\n                          , c = m(c, d, e, f, w, 5, a[16])\n                          , f = m(f, c, d, e, t, 9, a[17])\n                          , e = m(e, f, c, d, z, 14, a[18])\n                          , d = m(d, e, f, c, h, 20, a[19])\n                          , c = m(c, d, e, f, s, 5, a[20])\n                          , f = m(f, c, d, e, y, 9, a[21])\n                          , e = m(e, f, c, d, D, 14, a[22])\n                          , d = m(d, e, f, c, r, 20, a[23])\n                          , c = m(c, d, e, f, x, 5, a[24])\n                          , f = m(f, c, d, e, C, 9, a[25])\n                          , e = m(e, f, c, d, q, 14, a[26])\n                          , d = m(d, e, f, c, v, 20, a[27])\n                          , c = m(c, d, e, f, B, 5, a[28])\n                          , f = m(f, c, d, e, j, 9, a[29])\n                          , e = m(e, f, c, d, u, 14, a[30])\n                          , d = m(d, e, f, c, A, 20, a[31])\n                          , c = l(c, d, e, f, s, 4, a[32])\n                          , f = l(f, c, d, e, v, 11, a[33])\n                          , e = l(e, f, c, d, z, 16, a[34])\n                          , d = l(d, e, f, c, C, 23, a[35])\n                          , c = l(c, d, e, f, w, 4, a[36])\n                          , f = l(f, c, d, e, r, 11, a[37])\n                          , e = l(e, f, c, d, u, 16, a[38])\n                          , d = l(d, e, f, c, y, 23, a[39])\n                          , c = l(c, d, e, f, B, 4, a[40])\n                          , f = l(f, c, d, e, h, 11, a[41])\n                          , e = l(e, f, c, d, q, 16, a[42])\n                          , d = l(d, e, f, c, t, 23, a[43])\n                          , c = l(c, d, e, f, x, 4, a[44])\n                          , f = l(f, c, d, e, A, 11, a[45])\n                          , e = l(e, f, c, d, D, 16, a[46])\n                          , d = l(d, e, f, c, j, 23, a[47])\n                          , c = n(c, d, e, f, h, 6, a[48])\n                          , f = n(f, c, d, e, u, 10, a[49])\n                          , e = n(e, f, c, d, C, 15, a[50])\n                          , d = n(d, e, f, c, s, 21, a[51])\n                          , c = n(c, d, e, f, A, 6, a[52])\n                          , f = n(f, c, d, e, q, 10, a[53])\n                          , e = n(e, f, c, d, y, 15, a[54])\n                          , d = n(d, e, f, c, w, 21, a[55])\n                          , c = n(c, d, e, f, v, 6, a[56])\n                          , f = n(f, c, d, e, D, 10, a[57])\n                          , e = n(e, f, c, d, t, 15, a[58])\n                          , d = n(d, e, f, c, B, 21, a[59])\n                          , c = n(c, d, e, f, r, 6, a[60])\n                          , f = n(f, c, d, e, z, 10, a[61])\n                          , e = n(e, f, c, d, j, 15, a[62])\n                          , d = n(d, e, f, c, x, 21, a[63]);\n                        b[0] = b[0] + c | 0;\n                        b[1] = b[1] + d | 0;\n                        b[2] = b[2] + e | 0;\n                        b[3] = b[3] + f | 0\n                    },\n                    _doFinalize: function() {\n                        var a = this._data\n                          , k = a.words\n                          , b = 8 * this._nDataBytes\n                          , h = 8 * a.sigBytes;\n                        k[h >>> 5] |= 128 << 24 - h % 32;\n                        var l = s.floor(b / 4294967296);\n                        k[(h + 64 >>> 9 << 4) + 15] = (l << 8 | l >>> 24) & 16711935 | (l << 24 | l >>> 8) & 4278255360;\n                        k[(h + 64 >>> 9 << 4) + 14] = (b << 8 | b >>> 24) & 16711935 | (b << 24 | b >>> 8) & 4278255360;\n                        a.sigBytes = 4 * (k.length + 1);\n                        this._process();\n                        a = this._hash;\n                        k = a.words;\n                        for (b = 0; 4 > b; b++)\n                            h = k[b],\n                            k[b] = (h << 8 | h >>> 24) & 16711935 | (h << 24 | h >>> 8) & 4278255360;\n                        return a\n                    },\n                    clone: function() {\n                        var a = t.clone.call(this);\n                        a._hash = this._hash.clone();\n                        return a\n                    }\n                });\n                r.MD5 = t._createHelper(q);\n                r.HmacMD5 = t._createHmacHelper(q)\n            }\n            )(Math);\nvar timestamp_epoch=Math.floor(new Date().getTime() / 1000)\nvar lookup_id=Math.random().toFixed(16).substring(2);\ntry{\nvar generateEventID = function(event) {\n  if(typeof md5!=="undefined" && typeof md5.MD5!=="undefined"){\n  var hash_input = (timestamp_epoch || (function() {\n                var d = new Date();\n                return Math.floor(d.getTime() / 1000);\n            }\n            )()) + "-" + lookup_id + "-" + event\n              , event_id = md5.MD5(hash_input).toString();\n            return event_id;\n        }\n  }\n}catch(e){\n  console.log("Error in FB Generate Id Rule",e)\n}',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd7be398156734866a42108dbe0038061",name:"Direct Call Rule : Windows - Product",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{
identifier:"Windows_Products"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Windows - Product%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLd917135d9f0f40b39a3d5f05c1e535c5",name:"Third Party Pixel : Knexus Tracking: EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|knexus global|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7ece9b7248064f14a885b472f07fd04a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd93deca8d8e54ac1be217d657ad495ae",name:"EMEA : Pixels ad4mat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|ad4mat|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC242e8bc9323d470e85ebecd05c508ecb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd99b0730bba84390951b02a5367cdeac",name:"East EMEA : Google Ads Conversion-MEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|google MEA|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC558c08456c594aa28467caebf8d9d80e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda0f86611ce54c719bcd28b41c76b3db",name:"Marketing : Bing Ads Purchase : JP",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"order_confirmation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC757d1cb1e6bf47c1abec6a6bc927ea7c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdaa46cad3f1a44588b07727a460a83cd",name:"Tealium : KR - NSmart Track Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("kr"==lmd.cc.toLowerCase()||"kr"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/kr/ko/")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/"))&&(window.location.href.includes("/orderConfirmation")||lmd.pageName.includes("/orderConfirmation")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC92d720946b374a0f9b1965eb4b395e11-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdbc28682527b4273b3fe0f52ed82a9de",name:"BR - Pixel Bluecore - Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"Evidon Consent Checker BR"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Bluecore Advertising Consent Rules%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC118f33e060bf404cb17a519e2e33c8ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdc754879d7f2458c9cd933e0538d7bf3",name:"Third Party Pixel : Page Load-Bundle Loader : ConfirmIT : NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:49}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase()||"au"==lmd.cc.toLowerCase()||"nz"==lmd.cc.toLowerCase())&&1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent&&"le"!==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Tag Exclusion Condition%",rightOperand:"excludetag"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain",caseInsensitive:!0},leftOperand:"%Domain%",rightOperand:"uat-admin.lenovo"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Is Vantage%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC739a489e124f48da8d108df67c8c9bf4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdd0665bc96b240779edbfab713d80fb4",name:"ISG EMEA New LDR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%WE Country Code%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Data Center or Systems%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not DCG Service%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5ffb6cd0775e4ff092b8bad0a118081c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdd3f46b38f8d45adb4177c424e3477c7",name:"Direct Call Rule: Form Initiated",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Form_Request"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Form Initiated%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLdd60f81e9b8a49d39f20c9680eafb810",name:"Direct Call Rule : Chat Type Selection : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"chat-type-selection"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0db1aa574c5b4c6d9d29f640bfce05b8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object chat-type-selection%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLdd9fda1ee9d240c5ba5c7bd30b8f865d",name:"Scrape User Email - Shipping Details - Flash",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".toNext div[leclick='goPayment'],.save[data-tkey='Save']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/checkout.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"flash"==lmd.platform.toLowerCase()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCde6451e6dfa94f97a4f4051440882c05-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdac17d3fac3746ef892b7ac2ab4cb9d2-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Payment Page%",instanceName:"alloy"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC46a23ed3c2074257bf8367635d702e3e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLddd8e3465acd49d3a6b1e5b215471e00",name:"Direct Call Rule : Lenovo Partner Portal Page Load",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"LenovoPartner"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Lenovo Partner Portal Page Load%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLde6e18fa9f64489f9c86ddc87a95c7e9",name:"Tealium : TW - Yahoo TW native ad",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Checkout or Account But Thank You Generic%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"tw"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"lenovo.com/tw"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcd42cbd1b1ea45058319c78d8f54364f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde71c98d987a43808732b5ad9afe3d24",name:"Tealium : Persist Impact Click ID : EMEA|BR|LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!lmd.cc||"pt"!=lmd.cc.toLowerCase()&&"pe"!=lmd.cc.toLowerCase()?void 0!==_satellite.getVar("Impact Click Id Query String")&&""!==_satellite.getVar("Impact Click Id Query String"):void 0!==_satellite.getVar("Impact Click Id Query String for PT")&&""!==_satellite.getVar("Impact Click Id Query String for PT")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"de|dk|es|fr|gb|no|be|ie|nl|ch|pt|fi|it|at|se|pe|ar|co|mx|cl|bo|ec|py|uy|ve|pa|cr|hn|ni|sv|gt|do|bz|br"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6190271979e34ee9a1fc68b6b48c6b7e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdef81e49257f4c00bd3e88be9b843165",name:"Movable Ink : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&(1!=location.pathname.toLowerCase().includes("checkout")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||1!=location.hostname.toLowerCase().includes("checkout.lenovo.com")&&1!=location.hostname.toLowerCase().includes("account.lenovo.com")||location.pathname.toLowerCase().includes("orderconfirmation")||location.search.toLowerCase().includes("thankyoupage")||location.search.toLowerCase().includes("YourOrderIsBeingProcessedPage")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1e94d52495b34be3ae19b545d86b4f04-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdefe1df7001b49e994895d3e548fa2ab",name:"Direct Call Rule : ol Invitation Prompt : All Site (Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ol-invite-prompt"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For ol Invitation Prompt%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLdf308053b3904704a2a39293eb98ed54",name:"Tealium : ConfirmIT Region AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:49}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("sasia"==lmd.regioncode.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"cap"==lmd.regioncode.toLowerCase())&&0==location.pathname.toLowerCase().includes("oracle-chat-popup")&&"pre-c-hybris.lenovo.com"!=document.domain&&"www.prod.online.lenovo.com"!=document.domain&&"tele-hybris.lenovo.com"!=document.domain&&0==document.URL.toLowerCase().includes("lenovotele"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC756213688b12439590736716f4773109-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdf3fa571c52243c8ac8fb74df6ae253f",name:"GA4 - Serverside Configuration - ES",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:3},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){for(var e=["https://www.lenovo.com/us/en/test/mobileredesign/splitter/3compswithadobe.html","https://www.lenovo.com/us/en/test/mobileredesign/splitter/adobe.html","https://www.lenovo.com/us/en/test/mobileredesign/dlp/3compswithadobe.html","https://www.lenovo.com/us/en/test/mobileredesign/dlp/adobe.html","https://www.lenovo.com/us/en/test/mobileredesign/splitter/subseries-results/adobe.html","https://www.lenovo.com/us/en/test/mobileredesign/home/3compswithadobe.html","https://www.lenovo.com/us/en/test/mobileredesign/home/adobe.html"],t=document.URL,o=0;o<e.length;o++)if(-1!==t.indexOf(e[o]))return!1;return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!document.URL.toLowerCase().includes("lenovo.com/mx/es/billdeskload")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"es"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0===document.querySelector("meta[name=country]")||"br"!=document.querySelector("meta[name=country]").content.toLowerCase()||void 0!==getConsentVendors("google-analytics")&&getConsentVendors("google-analytics")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThanOrEqual"},leftOperand:"%pageViewCount%",rightOperand:1},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbd10feb95465438fb7d0a57fabddace6-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbf742862f20a41a88bcfd2128124f76c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdfb1d24f08c9404b97d572d5cf1f2fbe",name:"Tealium : SG - Yahoo Dot - new : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("sg"==lmd.cc.toLowerCase()&&(document.URL.toLowerCase().includes("lenovo.com/sg/")||document.URL.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/sg/"))&&(document.URL.toLowerCase().includes("/cart/")||document.URL.includes("/checkout/"))&&(1!=location.hostname.toLowerCase().includes("tele-hybris.lenovo.com")||1!=document.URL.toLowerCase().includes("/sg/tele/en")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbc537ae0e56948a7a2ff4ea71ceb29c9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdff2b696b16348899ddcc6e335cc2ae5",name:"B2B - Pixels TCC - Temple Univ Login Alert B2B Tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(lmd.pageName.toLowerCase().includes("b2bsite")&&lmd.pagePath.toLowerCase().includes("login/register")&&lmd.siteRoot.includes("/le/1215486123/us/en"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc82bc29d9d2e46f7a153ebeb5b848143-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe00e24887cd34f7eb0dbc4383cdaadf6",name:"Direct Call Rule : Checkout",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkout"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object - DCR Checkout%",type:"commerce.checkouts",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5953e94593f14549ada1c21c15ad209e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe06d239aa02e45e5a45f3200409a9169",name:"JP-lenovopro-Google",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(location.pathname.includes("/lenovopro/"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC95d1fd22f1fa4183a8f7a5796f4f0734-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe0fbf76dd6f0447aa6ae4b46c71a1d4d",name:"Tealium : Persist Impact Click ID : NA",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("ca"==lmd.cc||"us"==lmd.cc)&&void 0!==_satellite.getVar("Impact Click Id Query String")&&""!==_satellite.getVar("Impact Click Id Query String"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"_satellite.cookie.set('impact_click_id', _satellite.getVar(\"Impact Click Id Query String\"));",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLe31b2635ab2e463b87e13f50aad369f9",name:"Google Ads - Peru",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.toString().toLowerCase()=="peweb".toLowerCase()||lmd.storeID.toString().toLowerCase()=="peedu".toLowerCase()||lmd.storeID.toString().toLowerCase()=="pesmbpro".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9cd80897485a43ecad71dcd22d720717-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe3c0e66495d5441cb1667d2ec8dd4bf0",name:"Tealium : Override | Deals | Add eCoupon discount banner - HK CEPP : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("hk"==lmd.cc.toLowerCase()&&(document.URL.includes("/hk/en/hkcepp_lenovo/pc")||document.URL.includes("/hk/en/hkcepp_lenovo/d/deals/")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdfd8a701b4b946ffad769fe7c9f48e3f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3efc4b48f684d0796786ff8ee76ebeb",name:"Tealium: Criteo | Add to Cart : HK",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cartaddition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("hk"==_satellite.getVar("Country Code").toLocaleLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6e524869776b42e8a91896fea535cb03-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe40ddb2247d14c1991b9feb3eaf87f36",name:"Analytics : Direct call rule: Knexus Custom interaction (Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"knexusInteraction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Knexus custom interaction%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}}]},{id:"RLe40ecc8688e54e618048fedc29c715ce",name:"B2B - Pixels Tealium Custom Container - NCA&T - Laptops",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if("1213416820"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("laptops"))return!0;if("1213416820"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("tablets"))return!0;if("1213416820"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("desktops"))return!0;if("1213416820"==lmd.storeInfo.storeID&&lmd.pagePath.toLowerCase().includes("workstations"))return!0}catch(e){}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%B2B condition%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC59aea943c87a49a9893c45b834192e3c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe538f88306984d74b971d823f94892d1",name:"EMEA : pixel RevLifter",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|revlifter|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("tele-hybris.lenovo.com"!=document.domain&&0==document.URL.toLowerCase().includes("lenovotele")&&document.URL.toLowerCase().includes("/cart"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbb63905e7ada40cb8891812a1c8f2359-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe54ae36738f9490ea3276efd5b1b3d8b",name:"ZZ_NP_Tealilum : LinkedIn Insight Tag : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("jp"==lmd.cc.toLowerCase()&&location.pathname.toLowerCase().includes("/rewards/smb")&&lmd.bu.toLowerCase().includes("smb")&&1!=location.pathname.toLowerCase().includes("/servers-storage"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc9da2267c5574569a8ea405041003574-source.min.js",language:"html",isExternal:!0}}]},{id:"RLe572194ffd4445d19cdb1724748363cc",name:"EMEA : pixels Google Ads Conversion Tracking & Remarketing (gtag.js) - Cart",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|google ads cart|"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){
if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC08fbaa21c15f4e82ad2dcd71a34c2f5c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe63a5e7cfc9c4bcdb29c2dbeae4475ef",name:"Direct Call Rule : Checkout 1 : Assembly : Advertising",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkout1"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ca"==lmd.cc.toLowerCase()||"us"==lmd.cc.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Evidon : isAdvertising (Non DOM Events)%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2d92a77c9b2948b5a383a49bdb499ef5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe70741787ba246bc95a798a9a961cd95",name:"Direct Call : View PDF Clicked",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ViewPDF_Clicked"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%LMD%",type:"View PDF Clicked",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLe752b7f7eccc4833ab6448c031728856",name:"Custom Code: Tooltip subseries techspecs",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"homepage"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%StoreID%",rightOperand:"tapbra"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%LA - Not Flash Platform%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCceac63a8dda0492aac24249ccb563e65-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe79f2c8339dc4cdb8be88cbe103978f6",name:"Third Party Pixel : Adform Click ID : EMEA + APAC + LATAM + NA",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eet"==_satellite.getVar("Region Code").toLowerCase()||"russia/cis"==_satellite.getVar("Region Code").toLowerCase()||"mea"==_satellite.getVar("Region Code").toLowerCase()||"we"==_satellite.getVar("Region Code").toLowerCase()||"emea"==_satellite.getVar("Region Code").toLowerCase()||"htk"==_satellite.getVar("Region Code").toLowerCase()||"asean"==_satellite.getVar("Region Code").toLowerCase()||"cap"==_satellite.getVar("Region Code").toLowerCase()||"sasia"==_satellite.getVar("Region Code").toLowerCase()||"latam"==_satellite.getVar("Region Code").toLowerCase()||"na"==_satellite.getVar("Region Code").toLowerCase()||"jpregion"==_satellite.getVar("Region Code").toLowerCase()||"las"==_satellite.getVar("Region Code").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThanOrEqual"},leftOperand:"%pageViewCount%",rightOperand:3},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if(window.Adform == undefined || window.Adform._uid == ''){\n  if(_satellite.getVar('Adform ADF Query String') !== undefined){\n    window.Adform = {};\n    window.Adform._uid = _satellite.getVar('Adform ADF Query String');\n    \n    _satellite.cookie.set(\"Adform Cookie ID\", window.Adform._uid);\n    _satellite.setVar('Adform ID', window.Adform._uid);\n  }  \n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLe7a7c8bd550643d3826a9b3bcb60636b",name:"Marketing : Lenovo Vantage Bottom Dock : Override",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Is Vantage%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC75e433bb3a4a4f82a320803842c6d450-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe7ac658bf5704f2fbf5df673688ca6ec",name:"Evidon Consent Checker : Brazil",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-accept",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#_evidon-banner-acceptbutton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-decline",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/br/pt/privacy/",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC00109e2b3f114904975c2b7ec03a0ebb-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCf15ac2654d7a44999b9afd362d455307-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe8b9cb8d538747df8513cb8074be7be6",name:"Direct Call Rule : SR Sign Out : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shop_run_signout"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For SR Sign Out%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLe913882369094b0badf1e37123d7ca09",name:"Third Party Pixel : Inside Chat : Powerfront : NA MT",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:"#inside_liveChatTab > img"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return lmd.experience.toLowerCase().includes("mobile transformation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfcac16e869d947a7a49ec1572cb3f23b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLea64561bec8e40b8a0e85ea146dcc1bb",name:"EMEA : pixel Inside Chat",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|powerfront|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(0==lmd.storeID.toLowerCase().includes("gbtest")&&0==document.URL.toLowerCase().includes("servers-storage")&&0==document.URL.toLowerCase().includes("data-center")&&"pre-c-hybris.lenovo.com"!=document.domain.toLowerCase()&&0==location.pathname.toLowerCase().includes("googlestadia")&&0==document.URL.toLowerCase().includes("wlh")&&0==document.URL.toLowerCase().includes("cancom")&&0==document.URL.toLowerCase().includes("oracle-chat-popup"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu",value:"LE"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/newsletter-main/",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcbe53fa7aad840d189f38691bdf792a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea8b8734a9ae4bb3a88d7e899fc9a0e8",name:"Third Party Pixel : Facebook Pixel (V2): Purchase",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"order_confirmation"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("emea"==lmd.regioncode.toLowerCase()||"cap"==lmd.regioncode.toLowerCase()||"sasia"==lmd.regioncode.toLowerCase()||"latam"==lmd.regioncode.toLowerCase()||"br"==lmd.cc.toLowerCase()||"na"==lmd.regioncode.toLowerCase()||"jpregion"==lmd.regioncode.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public_consumer"==lmd.bu.toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe2d949127e0441889020ada11052582a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLeb57633da4eb4f51a43724323504a8f7",name:"pixels Verizon - Retargeting",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"us|ca",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu",value:"Public|smb",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%Domain%",rightOperand:"account.lenovo.com"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%URL%",rightOperand:"checkout"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0876b5020ac045819717adc3450e2674-source.min.js",language:"html",isExternal:!0}}]},{id:"RLeb69ba78496041b2a84c9efd812d911a",name:"EMEA : pixel Terms-&-Conditions-Government-request",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|fe terms conditions|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(0==location.pathname.toLowerCase().includes("/data-center/")||0==location.pathname.toLowerCase().includes("servers-storage"))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa60888026e2a4615a9d68a7c10e970bf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeba0a4255a23415183ba19557b85fd79",name:"Tealium : Quantcast - Conversion Tracking - CAP  ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if((window.location.href.includes("/orderConfirmation")||document.URL.toLowerCase().includes("thankyou"))&&(document.URL.toLowerCase().includes("/sg/en")||document.URL.toLowerCase().includes("/hk/en")||document.URL.toLowerCase().includes("/hk/zf")||document.URL.toLowerCase().includes("/th/en")||document.URL.toLowerCase().includes("/tw/zh")||document.URL.toLowerCase().includes("/kr/ko")||document.URL.toLowerCase().includes("/my/en")||document.URL.toLowerCase().includes("/ph/en")||document.URL.toLowerCase().includes("/th/th"))&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC022c7130b13a4747acf019a22e003b89-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLecaa746703a045138e90a7df09f194f3",name:"ID.me: Identity Management System Implementation : NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("us"==lmd.cc.toLowerCase()||"ca"==lmd.cc.toLowerCase())&&"le"!==lmd.bu.toLowerCase()&&"uat-www.lenovo.com"!==document.domain&&"www.gl.lenovouat.com"!==document.domain&&"cart"==lmd.taxonomytype)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC32a2e060be434a35acc0254f8158e2e5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLecf34648fbd34fb2a4c0f066bb7ecd1e",name:"Direct Call Rule : Type Ahead Search Rule Suggestion : All Site (Flash,Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TypeAhead_Suggestion"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Type Ahead Search  Rule Suggestion%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLed2e2ed561b5496a8c171d82991633e7",name:"Direct Call Rule : Loyalty Splash Sign in : All Site (Hybris,Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rew_sign_in"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Loyalty Splash Sign in%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLed7a5f66d4384a4a955b958be042df8b",name:"checkout BR changes",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Target : Country%",rightOperand:"br"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Is Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCfd2b5c68f51c44a79820bc2c0b5b54a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLed80ad6c56364f6cb12f098dd1b82f04",name:"Third Party Pixel : Thank You Page : Conversion : Analytics",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"ca|us",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCd22c91cf9570445781ac4dbb9faf696f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCcd889dad7aad4538829e71b2d55ec4b6-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa512759c14ee4822806b534e61c4e9d9-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC85e811af25fa483eab6e9b6df8a4b522-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3c0cc8ce114045c89ba94f6ebceafa5e-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6de01eab88eb4d1da8cc9304e17f82c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLedac0f6ee5df49a6a55897403bd737f3",name:"Set NXJID Cookie - Next Jump Connector",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentChanged.js",settings:{},ruleOrder:50},{modulePath:"evidon-universal-consent-platform/src/lib/events/consentReceived.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==_satellite.getVar("NXJID Query String")&&""!==_satellite.getVar("NXJID Query String"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("latam"==lmd.regioncode.toLowerCase()&&"br"!==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"htk"==lmd.regioncode.toLowerCase()||"asean"==lmd.regioncode.toLowerCase()||"au"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"nz"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"mea"==lmd.regioncode.toLowerCase()||"ca"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase()||"jp"==document.querySelector('meta[name="lenovo.country"]').content.toLowerCase())return!0;if(0==lmd.nxjid){if(evidon&&evidon.notice&&"boolean"==typeof window.evidon.notice._getConsentedCategories()&&window.evidon.notice._getConsentedCategories())return lmd.nxjid=!0,!0;if(evidon&&evidon.notice&&"object"==typeof window.evidon.notice._getConsentedCategories()){if(window.evidon.notice._getConsentedCategories()&&window.evidon.notice._getConsentedCategories().all)return lmd.nxjid=!0,!0;if(window.evidon.notice._getConsentedCategories()&&window.evidon.notice._getConsentedCategories().analytics)return lmd.nxjid=!0,!0}}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"^(us|ca)$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC72bf64ab09154fb9848c4915cb8d467c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLeeb520ee42b84dd597858695f24c5080",name:"Google Ads - Argentina",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(lmd.storeID.toString().toLowerCase()=="arweb".toLowerCase()||lmd.storeID.toString().toLowerCase()=="arsmbpro".toLowerCase()||lmd.storeID.toString().toLowerCase()=="aredu".toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa6b70e84190d46bf988bb9341a0aa6fd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLeecee288273542ac9ce2f2b3a6fdce5c",name:"Page Load Rule : LISA France",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovofrpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.95);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.01);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.19;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.13;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.06;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.06;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.11;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.95;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.36;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.14;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.0;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.12;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.34;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.62;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.25;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.03;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.002;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLef598c9cf76e41e5bf8f5c86ff0fc458",name:"Tealium : Reddit : NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(!("ca"!=lmd.cc.toLocaleLowerCase()&&"us"!=lmd.cc.toLocaleLowerCase()||1==_satellite.getVar("Disable Pixel On Email URL")||"tele"==lmd.bu.toLowerCase()||"lenovoapp"==navigator.userAgent||"public"!=lmd.bu.toLowerCase()&&"smb"!=lmd.bu.toLowerCase()))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"us|ca",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%URL%",rightOperand:"thankyou"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%Target : Meta Taxonomy Type%",rightOperand:"cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC5a77a36ccc3c48daa06c716bd0445049-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLefc4b48bed84467caf6764ac0ce4337b",name:"Wunderkind Non Conversion : LAS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou")||location.pathname.indexOf("orderConfirmation")>-1)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"mx"==lmd.cc.toLowerCase()||"co"==lmd.cc.toLowerCase()||"pe"==lmd.cc.toLowerCase()||"cl"==lmd.cc.toLowerCase()||"ar"==lmd.cc.toLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0564ba3fdc1645c5b7726eaf7be34941-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf000592aee5f442c97532cade0027c3d",name:"Direct Call Rule : Reorder add to cart",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smb_re_addtocart"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Reorder add to cart%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf046d502223347fa8bad628d57c9174e",name:"Third Party Pixel : Adform Set Cookie: EMEA + APAC + LATAM + NA",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eet"==_satellite.getVar("Region Code").toLowerCase()||"russia/cis"==_satellite.getVar("Region Code").toLowerCase()||"mea"==_satellite.getVar("Region Code").toLowerCase()||"we"==_satellite.getVar("Region Code").toLowerCase()||"emea"==_satellite.getVar("Region Code").toLowerCase()||"htk"==_satellite.getVar("Region Code").toLowerCase()||"asean"==_satellite.getVar("Region Code").toLowerCase()||"cap"==_satellite.getVar("Region Code").toLowerCase()||"sasia"==_satellite.getVar("Region Code").toLowerCase()||"latam"==_satellite.getVar("Region Code").toLowerCase()||"na"==_satellite.getVar("Region Code").toLowerCase()||"jpregion"==_satellite.getVar("Region Code").toLowerCase()||"las"==_satellite.getVar("Region Code").toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return void 0!==_satellite.cookie.get("Adform Cookie ID")&&""!==_satellite.cookie.get("Adform Cookie ID")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public_consumer"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLowerCase()||"public"==lmd.bu.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Adform Consent Rule%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC74f8b1390bc445fc85d005dd5a6bad6f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf0f14b8a77d04370a771b06318fe9d64",name:"Tealium : HK - Top language selector - About",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("hk"==lmd.cc.toLowerCase()||"hk"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("/about")||window.location.href.toLowerCase().includes("/about/"))&&(window.location.href.toLowerCase().includes("lenovo.com/hk")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/hk")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/hk")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC6c3b4dd92ccb4e69b37f08167e61a2fa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf14eabceaf524153aa249e9b9484c18e",name:"Direct Call Rule : IDME Cart Page : Canada (Hybris) USA (Flash)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ID.me_CartPage"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For IDME Cart Page Canada (Hybris)%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf2b98366c9fc4d809adb5315f5247069",name:"History Change : Facets - Hash : All Sites (Hybris)",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"USAGE_ATTR|TYPE_ATTR",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For Facets - Hash%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf2bc76647015475298ecd10d13e265fa",name:"Direct Call Rule : Storyname Tracking : Smarter Site (AEM)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Smarter_StoryClicked"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Story Name%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf36d4df7bcae4d4591e6beaf9b9daf3c",name:"Tealium : Override | Product builder | Accessories, services and software discount banner - KR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("kr"==lmd.cc.toLowerCase()||"kr"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&lmd.internalsearchcanonical.includes("/product_builder")&&(window.location.href.toLowerCase().includes("lenovo.com/kr/ko/")&&1!=window.location.href.toLowerCase().includes("/krshadow")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/kr/ko/")||window.location.href.toLowerCase().includes("pre-c-hybris.lenovo.com/kr/ko/")))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC29403749bc9a4bdf87149f180656ade4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf40c1b04e0fb4be18fef089369c916ad",name:"Marketing : Google Ads Conversion Tracking & Remarketing  Registration : *Global MCC*",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code lmd%",rightOperand:"kr"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCec9b95a393344f44a94303f29b2f4f95-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf4eb115c8bbe4976ac88104450df5d9f",name:"smb_pro_registrations",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"smbpro_registration"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For SMB_registration%",type:"web.webinteraction.linkClicks",instanceName:"alloy"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC3484799a554643de91f9ff7763789ac3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf511daf762064548b6eae75f8fd9c125",name:"Window Loaded : Deals Page Identifier",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("undefined"!=typeof lmd&&(lmd.taxonomytype.indexOf("dealspage")>-1||lmd.taxonomytype.indexOf("dlp")>-1))return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object Deals Page Identifier%",type:"web.webpagedetails.pageViews",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{development:{}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCca6190244de84c139146ead6189f9143-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf578593173074a9fb88ce03cd7167ab5",name:"Assembly : Floodlight Campaign Manager : Form Submission Global",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"hashed_email_tracking"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("public"==lmd.bu.toLowerCase()||"smb"==lmd.bu.toLocaleLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"thankyou"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCdd5ae9899e824f7a84cc3bfd0eb15abf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf579190623c4423ebbb53efb656e48ab",name:"Evidon Consent Checker",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#_evidon-banner-acceptbutton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-decline,#_evidon-barrier-declinebutton",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#evidon-prefdiag-accept",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%GDPR Compliant Countries%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%EMEA Country Code%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbf0704f88fee4d09bcbbc3a184ca06fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf5c9bfbcd20b41f4aa167fab48daca63",name:"Yahoo : Remarketing : JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"jp"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC47dcee3747f7436ea3ecfa9ef38b07f8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf5f264f3111f47cab711625cb5bcbfb2",name:"RTB_Product builder tag: JP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("jpmembers"==lmd.storeID||"jpweb"==lmd.storeID||"jpedu"==lmd.storeID)&&document.URL.toLowerCase().indexOf("/pb/index.html?maincode=")>-1)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC42e367452aa943f8b717bf27e0195811-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf68e9b7832d9486b913730a4596e44fd",name:"Direct Call Rule : Quote Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RequestQuote_Details"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Quote Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf712abc70a1f48f6b63321f58f5565c1",name:"Third Party Pixel : TeleSales Icon : CH-EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|fe telesales|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("chweb"==lmd.storeID.toLowerCase()||"frweb"==lmd.storeID.toLowerCase())return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC7a768c7d9193435591db671a4d50440c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf732004a9cfc4bbd9a512d46efca5b1d",name:"Direct Call Rule : LPP login",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"LPPLogin"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for LPP login%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf7325fe4148f40d6ba4226eda69722c7",name:"Tealium : Persist Impact Click ID : AP",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==_satellite.getVar("Impact Click Id Query String")&&""!==_satellite.getVar("Impact Click Id Query String")||void 0!==_satellite.getVar("Impact Click Id Query String for PT")&&""!==_satellite.getVar("Impact Click Id Query String for PT"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"tw|hk|kr|my|sg|in|ph|th"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'//document.cookie = "impact_click_id=" +\xa0_satellite.getVar("Impact Click Id Query String") + ";path=/;domain=" + location.hostname.split("www.")[1] + ";expires="\nif(_satellite.getVar("Impact Click Id Query String for PT") !== undefined){\n  document.cookie = "impact_click_id=" +\xa0_satellite.getVar("Impact Click Id Query String for PT") + ";path=/;domain=.lenovo.com;expires=;SameSite=None;Secure"\xa0\xa0\n}\nelse{\n  document.cookie = "impact_click_id=" +\xa0_satellite.getVar("Impact Click Id Query String") + ";path=/;domain=.lenovo.com;expires=;SameSite=None;Secure;"\n}',language:"javascript"}}]},{id:"RLf7965f8e163e4ff89709073618482868",name:"EMEA : pixel Wunderkind Conversion",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"has_consent_cookie"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|wunderkind|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1!==location.search.toLowerCase().indexOf("thankyoupage")||-1!==location.search.toLowerCase().indexOf("yourorderisbeingprocessedpage")||-1!==location.href.toLowerCase().indexOf("thankyou"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC9b444b88b76e4c97b7dc2162fcc51d5b-source.min.js",language:"html",isExternal:!0}}]},{id:"RLf7abbada92304590b3beedfa17c8b6f3",name:"Bazaarvoice Purchase Beacon - Global",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"br|mx|au|hk|in|jp|kr|my|nz|sg|th|tw|ph"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(-1!==location.href.toLowerCase().indexOf("thankyou"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Bazaarvoice Consent Rule%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Analytics (DOM)%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC412ad5ff39044892b3bc1c5f2e16f183-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf7de2e7d83244faba7a42be51454c5fd",name:"Page Load Rule : LISA Switzerland",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%reportSuite%",rightOperand:"lenovochpub"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//LISA SCORING FOR gallery starts\n  \n  var x=getTimeSinceLastVisit();\nvar y=getVisitNum();\nvar z= getVisitDuration();\nvar dur_score;\nif( localStorage.getItem(\'rec_score\') == "" || localStorage.getItem(\'rec_score\') == \'\' || localStorage.getItem(\'rec_score\') == "Undefined" || localStorage.getItem(\'rec_score\') == "undefined" || localStorage.getItem(\'rec_score\') == null || localStorage.getItem(\'rec_score\') == "0")\n    {\n      localStorage.setItem(\'rec_score\', 1.0);\n      console.log("rec_test"+localStorage.getItem(\'rec_score\'));\n    \n    }\nif( localStorage.getItem(\'fre_score\') == "" || localStorage.getItem(\'fre_score\') == \'\' || localStorage.getItem(\'fre_score\') == "Undefined" || localStorage.getItem(\'fre_score\') == "undefined" || localStorage.getItem(\'fre_score\') == null || localStorage.getItem(\'fre_score\') == "0")\n    {\n      localStorage.setItem(\'fre_score\', 0.88);\n    \n    }\nif( localStorage.getItem(\'dur_score\') == "" || localStorage.getItem(\'dur_score\') == \'\' || localStorage.getItem(\'dur_score\') == "Undefined" || localStorage.getItem(\'dur_score\') == "undefined" || localStorage.getItem(\'dur_score\') == null || localStorage.getItem(\'dur_score\') == "0")\n    {\n      localStorage.setItem(\'dur_score\', 0.0);\n    \n    }\nif(localStorage.getItem(\'tot_rfd_score\')=="NaN" || localStorage.getItem(\'tot_rfd_score\') == "" || localStorage.getItem(\'tot_rfd_score\') == \'\' || localStorage.getItem(\'tot_rfd_score\') == "Undefined" || localStorage.getItem(\'tot_rfd_score\') == "undefined" || localStorage.getItem(\'tot_rfd_score\') == null || localStorage.getItem(\'tot_rfd_score\') == "0")\n    {\n      localStorage.setItem(\'tot_rfd_score\', 0.0);\n      console.log("typeof tot_rfd_score3"+typeof(tot_rfd_score))\n    \n    }\nif(localStorage.getItem(\'score\')=="NaN" || localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null || localStorage.getItem(\'score\') == "0")\n    {\n      localStorage.setItem(\'score\', 0.0);\n      \n    \n    }\nif(localStorage.getItem(\'cur_eng_score\')=="NaN" || localStorage.getItem(\'cur_eng_score\') == "" || localStorage.getItem(\'cur_eng_score\') == \'\' || localStorage.getItem(\'cur_eng_score\') == "Undefined" || localStorage.getItem(\'cur_eng_score\') == "undefined" || localStorage.getItem(\'cur_eng_score\') == null || localStorage.getItem(\'cur_eng_score\') == "0")\n    {\n      localStorage.setItem(\'cur_eng_score\', 0.0);\n      \n    \n    }\n\n var la_total_rdf=localStorage.getItem(\'tot_prev_score\');\n        if(la_total_rdf!="NaN"){\n        var last_total_rdf=parseFloat(localStorage.getItem(\'tot_prev_score\'));\n        }\n        else\n        {\n        var last_total_rdf=0.0;\n        }\nvar last_recency=parseFloat(localStorage.getItem("rec_score"));\nvar last_frequency=parseFloat(localStorage.getItem("fre_score"));\nvar last_duration=parseFloat(localStorage.getItem("dur_score"));\nconsole.log("----last_recency---"+last_recency)\n   // LISA Engagement Score Capping at 100. Variable is stored in session storage and retrieved everytime to check if score exceeds 100 \n    \n  /*  var curscore;\n   if( localStorage.getItem(\'score\') == "" || localStorage.getItem(\'score\') == \'\' || localStorage.getItem(\'score\') == "Undefined" || localStorage.getItem(\'score\') == "undefined" || localStorage.getItem(\'score\') == null  || localStorage.getItem(\'score\')=="NaN" )\n    {\n      localStorage.setItem(\'score\', 0);\n      curscore = 0;\n    }*/\n   \n    // Do not add weights to the score if score exceeds 100\n    if(localStorage.getItem(\'last_total_rdf\') < 100.00)\n    { \n     var recency_score,time_spent_visit, visit_num_bucket,cur_recency_score,cur_visit_num_bucket,cur_dur_score;\n    //recency calculation starts\n      \n     if(x=="New Visitor")\n\t{\n\t\trecency_score=1.0;\n\t}\n\telse{\n\t\tvar recency_day=x.search("day");\n\t\tvar recency_minute=x.search("minute");\n\t\tvar recency_hour=x.search("hour");\n\t\tvar recency_month=x.search("month");\n\t\tif(recency_minute>0 || recency_hour>0)\n\t\t{\n\t\t\tif(last_recency=="" || last_recency=="NaN" || last_recency=="null" ||last_recency=="undefined")\n            {\n              recency_score=1.0;\n            }\n\t\t\n\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\n        }\n\t\telse if(recency_day>0)\n\t\t{\n\t\tvar rec_day_num1=x.substr(0, 2);\n          var rec_day_num=parseFloat(rec_day_num1);\t\n\t\t  if(rec_day_num>=1 && rec_day_num<=2)\n\t\t  {\n\t\t\trecency_score=0.2;  \n\t\t  }\n\t\t\telse if(rec_day_num>=3 && rec_day_num<=7)\n\t\t\t{\n\t\t\t\trecency_score=0.16;\n\t\t\t}\n\t\t\telse if(rec_day_num>=8 && rec_day_num<=14)\n\t\t\t{\n\t\t\trecency_score=0.08;\t\n\t\t\t}\n\t\t\telse if(rec_day_num>=15 && rec_day_num<=30)\n\t\t\t{\n\t\t\trecency_score=0.07;\t\t\n\t\t\t}\n\t\t\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t\t}\n\t\telse if(recency_month>0)\n\t\t{\n\t\t\trecency_score=0.13;\n\t\t}\n\t\t\n\telse{\n\t\trecency_score=last_recency;\t\n\t\t}\t\n\t}\n\tif(recency_score!=last_recency)\n\t  {\n\t\t  cur_recency_score=recency_score;\n        console.log("rec_test not equal to last");\n\t  }\n\t else {\n\t\t cur_recency_score= last_recency;\n        console.log("rec_test equal to last");\n\t  }\n      //recency calculation ends\n      \n      //frequency calculation starts\n     \n      if(y==1)\n      {\n      visit_num_bucket=0.88;\n      }\n      else if(y>=2 && y<=5)\n      {\n      visit_num_bucket=1.0;\n      }\n      else if(y>=6 &&  y<=14)\n      {\n      visit_num_bucket=0.35;\n      }\n      else if(y>=15)\n      {\n      visit_num_bucket=0.15;\n      }\n      else{\n       visit_num_bucket=last_frequency;\n      }\n      if(visit_num_bucket!=last_frequency)\n{\ncur_visit_num_bucket=visit_num_bucket;\n\n}\nelse{\ncur_visit_num_bucket=last_frequency;\n\n}\n      //frequency calculation ends\n      \n      \n      //duration calculation starts\n      \n         if(z=="first hit of visit" ||z=="less than a minute")\n          {\n          dur_score=0.01;\n          }\n        else{\n        var duration_day=z.search("Day");\n      var duration_minute=z.search("minute");\n      var duration_hour=z.search("hour");\n      if(duration_day<0)\n        {\n        if(duration_minute>0)  \n        {\n        var min_num1=z.substr(0, 2);\n          var min_num=parseFloat(min_num1);\n         \n          if(min_num>=1 && min_num<5)\n          {\n          dur_score=0.04;\n          }\n          else if(min_num>=5 && min_num<10)\n          {\n          dur_score=0.35;\n          }\n          else if(min_num>=10 && min_num<30)\n          {\n           dur_score=1.0; \n          }\n          else if(min_num>=30 && min_num<60)\n          {\n          dur_score=0.64;  \n          }\n          else{\n          dur_score=last_duration;\n          }\n        }\n        \n         else if(duration_hour>0)\n          {\n          var hour_num1=z.substr(0, 2);\n            var hour_num=parseInt(hour_num1);\n            if(hour_num>=1 && hour_num<2)\n            {\n            dur_score=0.25;\n            }\n            else if(hour_num>=2 && hour_num<5)\n            {\n            dur_score=0.16;\n            }\n            else if(hour_num>=5 && hour_num<10)\n            {\n            dur_score=0.02;\n            }\n            else{\n            dur_score=last_duration;\n            }\n          }\n          }\n        else{\n\t\t\tdur_score=0.0;\n\t\t}\n        \n        }\n      if(dur_score!=last_duration)\n\t\t{\n\t\tcur_dur_score=dur_score\t;\n\n\t\t\t\t\t}\n\t\telse{\n          if(last_duration=="undefined")\n          {\n            cur_dur_score=0.0;\n          }\n          else{\n          cur_dur_score=last_duration;\n          }\n          \n\t\t\t\n\t\t}\n      \n    \n    \n      //duration calculation ends\n        //recency on local storage\n      localStorage.setItem(\'rec_score\',cur_recency_score);\n      // s.eVar231=cur_recency_score;\n    console.log("recency score:"+cur_recency_score);\n      //recency on local storage\n      \n      //frequency on local storage\n      localStorage.setItem(\'fre_score\',cur_visit_num_bucket);\n      // s.eVar232=cur_visit_num_bucket;\n    console.log("frequency score:"+cur_visit_num_bucket);\n      //frequency on local storage\n      \n      //duration on local storage\n      localStorage.setItem(\'dur_score\',cur_dur_score);\n      // s.eVar233=cur_dur_score;\n    console.log("duration score:"+cur_dur_score);\n      //duration on local storage\n        \n        //total of recency frequency and duration on local storage\n      if(cur_dur_score!="undefined" || cur_dur_score!=undefined ||cur_dur_score!=""){\n        \n         var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score)+parseFloat(cur_dur_score);\n        console.log("typeof recency1"+typeof(cur_recency_score))\n        console.log("total_cur_score"+total_cur_score);\n      }\n      else\n      {\n      var total_cur_score=   parseFloat(cur_visit_num_bucket)+parseFloat(cur_recency_score);\n        console.log("typeof recency2"+typeof(cur_recency_score))\n       console.log("total_cur_score"+total_cur_score);\n      }\n       \n        console.log("last_total_rdf"+last_total_rdf);\n        if(total_cur_score!==last_total_rdf)\n        {\n          var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"))+total_cur_score;\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n          console.log("typeof tot_rfd_score1"+typeof(tot_rfd_score));\n    console.log("total_score_rfd:"+total_cur_add_score);\n       localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);   \n        }\n        else{\n        console.log("last total rdf match"+last_total_rdf);\n         var total_cur_add_score=parseFloat(localStorage.getItem("tot_rfd_score"));\n        localStorage.setItem(\'tot_rfd_score\',parseFloat(total_cur_add_score));\n           console.log("total_score_rfd:"+total_cur_add_score);\n             console.log("typeof tot_rfd_score2"+typeof(tot_rfd_score))\n          localStorage.setItem(\'tot_prev_score\',total_cur_score);\n       console.log("tot_prev_score:"+total_cur_score);  \n        }\n      var tot_eng_Cur_rfd=(parseFloat(localStorage.getItem("score"))+total_cur_score).toFixed(2);\n      console.log("tot_eng_Cur_rfd"+tot_eng_Cur_rfd);\n        // s.events+=",event324="+cur_visit_num_bucket+",event325="+cur_recency_score+",event326="+cur_dur_score;\n        \n        \n      \n      \n      //total of recency frequency and duration on local storage\n       /* \n            if(recency_score!=last_recency && visit_num_bucket!=last_frequency  && dur_score!=last_duration)\n      {\n   \n      // s.eVar57=total_score;\n\t// s.eVar219=+total_score;\n\t// s.eVar221=+total_score;\n      var a = // s.eVar219;\n\t// s.events +=",event98="+total_score+",event317="+a;\n      \n    console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n      }*/\n   //   else{\n       /* var total_score=0.0;\n       console.log("Starting Score: ", curscore);\n    var storscore = localStorage.getItem(\'score\');\n    console.log("Score on localstorage: ", storscore);\n    console.log("New Score added: ",total_score );\n    curscore = (parseFloat(storscore) + total_score).toFixed(2);\n    console.log("Final Score: ", curscore);\n\t \n     \n    //Set current score captured in the localstorage.\n    localStorage.setItem(\'score\',curscore); // check the value on local storage while testing\n   \n      */\n      \n      //}\n  }\nvar cur_tot_rfd_change=parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);\nvar cur_eng_score_change=parseFloat(localStorage.getItem("score")).toFixed(2);\nvar cur_tot_val=getValOnce(cur_tot_rfd_change,\'s_tot_rfd\',0);\nconsole.log("cur_tot_val" +cur_tot_val);\nvar cur_eng_val=getValOnce(cur_eng_score_change,\'s_eng_rfd\',0);\nconsole.log("cur_eng_val" +cur_eng_val);\nvar cur_eng_rfd_score=(parseFloat(localStorage.getItem("tot_prev_score"))+parseFloat(localStorage.getItem("cur_eng_score"))).toFixed(2);\nconsole.log("cur_eng_rfd_score"+cur_eng_rfd_score);\nvar sessionscoreengrfd =parseFloat(( _satellite.getVar("LISA RFD Score")+_satellite.getVar("LISA Engagement Score")).toFixed(2));\nconsole.log("sessionscoreengrfd"+sessionscoreengrfd);\n\nif(cur_tot_val)\n{\n// s.events+=",event30="+cur_tot_rfd_change;\n}\nif(sessionscoreengrfd<=100)\n{\nif(cur_tot_val)\n  {\n  // s.events+=",event329="+cur_tot_rfd_change;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  \n}\n\n /* if(cur_eng_val && cur_tot_val)\n  {\n  // s.events+=",event329="+cur_eng_rfd_score;\n    console.log("cur_eng_val && cur_tot_val");\n  }\n  else if(cur_eng_val || cur_tot_val)\n          \n          {\n          if(cur_eng_val)\n          {\n         // // s.events+=",event329="+parseFloat((localStorage.getItem("cur_eng_score")).toFixed(2));\n             console.log("cur_eng_val");\n            localStorage.setItem("cur_eng_val",0.0);\n          }\n            else if(cur_tot_val)\n            {\n          //  // s.events+=",event329="+parseFloat(localStorage.getItem("tot_prev_score")).toFixed(2);  \n               console.log("cur_tot_val");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n            else{\n             console.log("first else No Paas");\n              localStorage.setItem("cur_eng_val",0.0);\n            }\n          }\nelse{\nconsole.log("second else No Paas");\n  localStorage.setItem("cur_eng_val",0.0);\n}\n}  */\nelse\n{\n // // s.events+=",event329="+100;\n  console.log("Third else No Paas")\n}\n \n\n    ',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLf80b6a67f04b49c68ff3180d1a88077a",name:"Third Party Pixel : Inside Chat : Powerfront : NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.cc",value:"ca|us",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL")&&"tele"!=lmd.bu.toLowerCase()&&"lenovoapp"!=navigator.userAgent)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"lmd.bu",value:"LE"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/business/reseller-benefits/",valueIsRegex:!0},{value:"/business/ups-benefits/",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Pre%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Indirect Site and Mobile Devices%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC0a3327a983e04ed3b454bb575874f9ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf86a7cd3cd4a4f77980276a0fc178f46",name:"Custom Code: INSMBPro Banner Timer",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/in/en/insmbpro/pc"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4fd361ccddcb4d09b6cbf1104f628941-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf89a4de90fae46f4910aa7bc2a3afd6a",name:"Direct Call Rule : User Interaction Error : All Site (Flash, Hybris)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"user-interaction-error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object For User interaction Error%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf8e9506f2fad4e90a87cb635f13d4fa9",name:"Direct call Rule: Internal Search: Compare Category: All sites",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"product_Compare"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Internal Search: Compare Category%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf9e541f61f7a4531bf8ee5c1d32d417d",name:"Tealium : MSA Telesales Support : AP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1==_satellite.getVar("AP Countries")&&("mfe"==lmd.platform.toLowerCase()||"nfe"==lmd.platform.toLowerCase()||"ms"==lmd.platform.toLowerCase())&&(location.hostname.includes("tele-hybris.lenovo.com")||location.hostname.includes("origin-tele-hybris.lenovo.com")||location.hostname.includes("pre-u-hybris.lenovo.com")||location.hostname.includes("test-tele-hybris.lenovo.com")||location.hostname.includes("tun-c-hybris.lenovo.com")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbcc5104194c34e37a56e1f2c25b09301-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa122e09528b465087d920c70531fccf",name:"Marketing : Legion Loyalty Regular Override Bac : NA",events:[{modulePath:"core/src/lib/events/timeOnPage.js",settings:{timeOnPage:8},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){const e=lmd.cc.toLowerCase().includes("us")||lmd.cc.toLowerCase().includes("ca"),t=document.URL.toLowerCase().includes("/len106g0001")||document.URL.toLowerCase().includes("/83e10020cf")||document.URL.toLowerCase().includes("/83e10000us")||document.URL.toLowerCase().includes("/83e1001yus");return e&&t}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC25aabb8eb14c484f91cdc435e7a061f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa805d7d4e904511a41f6d79a2d5cd2a",name:"Checkout SHA Hash",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.toLowerCase().indexOf("checkout")>-1||document.URL.toLowerCase().indexOf("thankyou")>-1)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"async function sha256(message) {\n    const msgBuffer = new TextEncoder().encode(message);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n    return hashHex;\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLfb49cfe73e3a4005ad93a5fbf1f89520",name:"Custom Code : Page Load : Hide Sections- Flash : EMEA",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|section hider flash|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(void 0!==lmd.platform&&"flash"==lmd.platform.toLowerCase())return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbdecb0060bd74ffdbd460e36f2e5679d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfb8935ad7de647adaf8d5ab1613d4e18",name:"Direct Call Rule: Video Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackVideo"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Object for Video Tracking%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLfbb92e1f65ce40629ec186a9b4651f90",name:"Tealium : VN - hide email sign up",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("vn"==lmd.cc.toLowerCase()||"vn"==lmd.country.toLowerCase())&&"tele-hybris.lenovo.com"!=document.domain.toLowerCase()&&"lenovotele"!=document.URL.toLowerCase()&&(window.location.href.toLowerCase().includes("lenovo.com/vn")||window.location.href.toLowerCase().includes("admin-prod-c-hybris.lenovo.com/vn")))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCc8668ca6230e4ba1b829e1d739bcd0dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc49442f475e4432bf7e9058dfe7d7a0",name:"East EMEA : Data Center GTM",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%East EMEA Inclusion Condition%",rightOperand:"|Data Center GTM|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(document.URL.includes("/ae/en/data-center/")||document.URL.includes("/sa/en/data-center/")||document.URL.includes("/za/en/data-center/"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Tele Hybris%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCa3e222b1066741be8e8107ab39ca4134-source.min.js",language:"html",isExternal:!0}}]},{id:"RLfc6f9f60774a48458a64a91322185ce4",name:"Tealium : Quantcast - Page views - All pages  & Indirect - CAP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if((document.URL.toLowerCase().includes("/hk/en")||document.URL.toLowerCase().includes("/hk/zh")||document.URL.toLowerCase().includes("/tw/zh")||document.URL.toLowerCase().includes("/kr/ko")||document.URL.toLowerCase().includes("/my/en")||document.URL.toLowerCase().includes("/ph/en")||document.URL.toLowerCase().includes("/sg/en")||document.URL.toLowerCase().includes("/th/en")||document.URL.toLowerCase().includes("/th/th")||"idind"==lmd.storeID||"vnind"==lmd.storeID)&&"Tele"!=lmd.storeType)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Not Account & Checkout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4e67755548e84d799e9e34122f4aa0cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc764c9741824390ad247daba7c1a662",name:"Tealium: Criteo | For cart page - AU_NZ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%URL%",rightOperand:"/cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual",caseInsensitive:!0},leftOperand:"%lmd_bu%",rightOperand:"tele"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nz"==_satellite.getVar("Country Code").toLocaleLowerCase()||"au"==_satellite.getVar("Country Code").toLocaleLowerCase()||"nz"==_satellite.getVar("Target : Country").toLocaleLowerCase()||"au"==_satellite.getVar("Target : Country").toLocaleLowerCase()}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC4d2ed31c54b5415f8d8de6e6935ea313-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd27f4337fa2429995a11195e138f8e0",name:"Custom Code : Lenovo Pro Mobile Icon for public only : EMEA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%EMEA Inclusion Condition%",rightOperand:"|fe mobile icon|"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(null==document.querySelector('meta[name="platform"]'))return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC04641f2a04b6432eb7b53550a00f25fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd7e765394f54064873694a6b84ca23f",name:"Marketing : DemandBase : US Server-Storage",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%Country Code%",rightOperand:"us"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Evidon - Advertising (DOM)%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=_satellite.getVar("Disable Pixel On Email URL For EMEA"))return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%B2B condition%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"servers-storage"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC2302f484e25c40918bdd42c739821c7d-source.min.js",language:"html",
isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfd88381c48bc47b5bbaf3cab5a4a696a",name:"Tealium : Extension : EqualWeb - Flash Implementation : NA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(("us"==lmd.cc.toLowerCase()||"ca"==lmd.cc.toLowerCase())&&"le"!==lmd.bu.toLowerCase()&&"uat-www.lenovo.com"!==document.domain&&"www.gl.lenovouat.com"!==document.domain)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Exclude tags on FAQ%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%Is Vantage%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCeeabe8aa41864792bca2a4ab0568c740-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCbb89f03c6ef54003921f455eebbe0e61-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC1e99babf778e46068fadb4ca930fc1e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfde218df9938440c9cbe4be70bc5eaf3",name:"Essential Pages: Floodlight : BD & LK Yoga LP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bd/en/yoga"},{value:"/lk/en/yoga"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2023-07-30T00:00:00Z",start:"2023-05-15T00:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Marketing Toggle%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC03ca099d3b8a42239226dd32bf19500d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfe4cdd6088ea478aae612f20db16f864",name:"EMEA : Banner- with timer- 25-26May",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(e,t,o,n,r,a){try{for(r={is:[e,t],dt:[],tm:[],hd:0,ms:0},a=0;a<2;a++)o=r.is[a].substring(0,8),n=r.is[a].substring(8),r.dt[a]=new Date,console.log(r.dt[a]),"--------"!==o&&(r.dt[a].setFullYear(o.substring(0,4)),r.dt[a].setMonth(parseInt(o.substring(4,6))-1),r.dt[a].setDate(o.substring(6,8))),"----"!==n?(r.dt[a].setHours(n.substring(0,2)),r.dt[a].setMinutes(n.substring(2,4))):(r.dt[a].setHours(r.hd),r.dt[a].setMinutes(r.ms)),r.dt[a].setSeconds(r.ms),r.tm[a]=r.dt[a].getTime(),r.hd=23,r.ms=59;return r.n=(new Date).getTime(),r.n>=r.tm[0]&&r.n<=r.tm[1]}catch(t){return!1}}("202305250000","202305262359")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%storeID%",rightOperand:"itweb|esweb|ptweb|beweb|nlweb|dkweb|seweb|noweb|fiweb"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(1!=location.pathname.toLowerCase().includes("/special-offers/back-to-school-deals")&&1!=location.pathname.toLowerCase().includes("/cyber-monday-deals")&&1!=location.pathname.toLowerCase().includes("/special-offers/black-friday")&&1!=location.pathname.toLowerCase().includes("/special-offers/midsummer-day")&&1!=location.pathname.toLowerCase().includes("/special-offers/ascension-day")&&1!=location.pathname.toLowerCase().includes("/fete-des-peres")&&1!=location.pathname.toLowerCase().includes("/nouvel-an-chinois")&&1!=location.pathname.toLowerCase().includes("/fete-des-meres")&&1!=location.pathname.toLowerCase().includes("/halloween")&&1!=location.pathname.toLowerCase().includes("/soldes")&&1!=location.pathname.toLowerCase().includes("/saint-valentin")&&1!=location.pathname.toLowerCase().includes("/noel")&&1!=location.pathname.toLowerCase().includes("/san-valentino")&&1!=location.pathname.toLowerCase().includes("/black-friday-cyber-monday")&&1!=location.pathname.toLowerCase().includes("/back-to-school")&&1!=location.pathname.toLowerCase().includes("/natale")&&1!=location.pathname.toLowerCase().includes("/regalos-de-navidad")&&1!=location.pathname.toLowerCase().includes("/flash-email")&&1!=location.pathname.toLowerCase().includes("/data-center")&&0==document.URL.toLowerCase().includes("checkout.lenovo.com")&&0==document.URL.toLowerCase().includes("cart")&&0==location.pathname.toLowerCase().endsWith("/gb/en/")&&0==location.pathname.toLowerCase().endsWith("/gb/en")&&0==location.pathname.toLowerCase().endsWith("/ie/en/")&&0==location.pathname.toLowerCase().endsWith("/ie/en")&&0==location.pathname.toLowerCase().endsWith("/dk/da/")&&0==location.pathname.toLowerCase().endsWith("/dk/da")&&0==location.pathname.toLowerCase().endsWith("/nl/nl/")&&0==location.pathname.toLowerCase().endsWith("/nl/nl")&&0==location.pathname.toLowerCase().endsWith("/se/sv/")&&0==location.pathname.toLowerCase().endsWith("/se/sv")&&0==location.pathname.toLowerCase().endsWith("/no/no/")&&0==location.pathname.toLowerCase().endsWith("/no/no")&&0==location.pathname.toLowerCase().endsWith("/be/nl/")&&0==location.pathname.toLowerCase().endsWith("/be/nl")&&0==location.pathname.toLowerCase().endsWith("/be/fr/")&&0==location.pathname.toLowerCase().endsWith("/be/fr")&&0==location.pathname.toLowerCase().endsWith("/fi/fi/")&&0==location.pathname.toLowerCase().endsWith("/fi/fi")&&0==location.pathname.toLowerCase().endsWith("/de/de/")&&0==location.pathname.toLowerCase().endsWith("/de/de")&&0==location.pathname.toLowerCase().endsWith("/at/de/")&&0==location.pathname.toLowerCase().endsWith("/at/de")&&0==location.pathname.toLowerCase().endsWith("/fr/fr/")&&0==location.pathname.toLowerCase().endsWith("/fr/fr")&&0==location.pathname.toLowerCase().endsWith("/services")&&0==location.pathname.toLowerCase().endsWith("/services/")&&0==location.pathname.toLowerCase().endsWith("/smart-devices")&&0==location.pathname.toLowerCase().endsWith("/smart-devices/")&&"support.lenovo.com"!=document.domain)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RC85ad609ab5734fdba9bee954ab7517ca-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfeb67666bfd34c8e986d6c0739ea66bc",name:"Override | Hide finance message - AU Closed stores",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/p/",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("ausmbpro"==_satellite.getVar("storeID")||"education"==_satellite.getVar("storeID")||"/au/sharelenovo/en"===lmd.siteRoot||"/au/edu/en"===lmd.siteRoot)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ANZ Marketing Pixel Toggle%",rightOperand:"toggleon"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/498114d772a9/e8f2dfe68a51/7305820a04b6/RCe15d9ef553c94d39b712f9451f7be837-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}function o(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})})),t}function n(e){var t={exports:{}};return e(t,t.exports),t.exports}function r(e){var t=this.constructor;return this.then((function(o){return t.resolve(e()).then((function(){return o}))}),(function(o){return t.resolve(e()).then((function(){return t.reject(o)}))}))}function a(e){return Boolean(e&&void 0!==e.length)}function s(){}function c(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var o=1===e._state?t.onFulfilled:t.onRejected;if(null!==o){var n;try{n=o(e._value)}catch(e){return void u(t.promise,e)}d(t.promise,n)}else(1===e._state?d:u)(t.promise,e._value)}))):e._deferreds.push(t)}function d(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof i)return e._state=3,e._value=t,void m(e);if("function"==typeof o)return void p(c(o,t),e)}e._state=1,e._value=t,m(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,m(e)}function m(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,o=e._deferreds.length;t<o;t++)l(e,e._deferreds[t]);e._deferreds=null}function g(e,t,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=o}function p(e,t){var o=!1;try{e((function(e){o||(o=!0,d(t,e))}),(function(e){o||(o=!0,u(t,e))}))}catch(e){if(o)return;o=!0,u(t,e)}}function f(e){return!0===Ue(e)&&"[object Object]"===Object.prototype.toString.call(e)}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function b(e){return e.substr(0,e.indexOf("["))}function h(e,t,o){if(e.length&&Be(t)){var n=e[0];if(1!==e.length){var r=e.slice(1);if(!v(n))return h(r,t[n],o);var a=t[n=b(n)];Array.isArray(a)&&a.forEach((function(e){return h(r,e,o)}))}else t.hasOwnProperty(n)&&"string"==typeof t[n]&&(t[n]=o(t[n]))}}if(window.atob){var C=document,y=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,w=t()?Object.assign:function(t){for(var o,n,r=e(t),a=1;a<arguments.length;a++){for(var s in o=Object(arguments[a]))S.call(o,s)&&(r[s]=o[s]);if(y){n=y(o);for(var c=0;c<n.length;c++)I.call(o,n[c])&&(r[n[c]]=o[n[c]])}}return r},P=w,j=window,E=function(e,t,o,n){var r,a=Boolean(t&&Array.isArray(o)),s=Boolean(a&&e),c=document.createElement("a");if(a){var i=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||i(),/^\/\/.+/.test(e)?c.href=j.location.protocol+e:c.href=e),c.hostname||i(),-1===o.indexOf(c.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var d=function(){if(null!=r)return r;if(s){var e=c.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=c.protocol+"//"+e}else r="";return r},u=function(e){return s&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},m={getTurbineHost:d,decorateWithDynamicHost:u,get isDynamicEnforced(){return a}};return j&&n.onDebugChanged((function(e){e?j.dynamicHostResolver=m:delete j.dynamicHostResolver})),m},L=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(o){t.push({rule:e,event:o})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},V="debug",x=function(e,t){var o=function(){return"true"===e.getItem(V)},n=function(t){e.setItem(V,t)},r=[],a=function(e){r.push(e)};return t.outputEnabled=o(),{onDebugChanged:a,getDebugEnabled:o,setDebugEnabled:function(e){o()!==e&&(n(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},O="Module did not export a function.",k=function(e,t,o){return function(n,r,a){a=a||[];var s=e.getModuleExports(n.modulePath);if("function"!=typeof s)throw new Error(O);var c=e.getModuleDefinition(n.modulePath),i=n.settings||{};!n.hasTransformedFilePaths&&c.filePaths&&(o(i,c.filePaths,n.modulePath),n.hasTransformedFilePaths=!0);var l=t(i,r);return s.bind(null,l).apply(null,a)}},D=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},R={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},T="\ud83d\ude80",N=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":T,F=!1,A=function(e){if(F&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(N),e!==R.DEBUG||window.console[e]||(e=R.INFO),window.console[e].apply(window.console,t)}},M=A.bind(null,R.LOG),U=A.bind(null,R.INFO),B=A.bind(null,R.DEBUG),q=A.bind(null,R.WARN),G=A.bind(null,R.ERROR),H=function(){var e=F;F=!0,A.apply(null,Array.prototype.concat(R.WARN,Array.prototype.slice.call(arguments))),e||(F=!1)},z={log:M,info:U,debug:B,warn:q,error:G,deprecation:H,get outputEnabled(){return F},set outputEnabled(e){F=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:M.bind(null,t),info:U.bind(null,t),debug:B.bind(null,t),warn:q.bind(null,t),error:G.bind(null,t)}}},W="com.adobe.reactor.",Q=function(e,t){var o=W+(t||"");return{getItem:function(t){try{return j[e].getItem(o+t)}catch(e){return null}},setItem:function(t,n){try{return j[e].setItem(o+t,n),!0}catch(e){return!1}}}},X="dataElements.",$=Q("sessionStorage",X),J=Q("localStorage",X),K={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},Y={},Z=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,o){var n;switch(t){case K.PAGEVIEW:return void(Y[e]=o);case K.SESSION:return void((n=Z(o))&&$.setItem(e,n));case K.VISITOR:return void((n=Z(o))&&J.setItem(e,n))}},getValue:function(e,t){var o;switch(t){case K.PAGEVIEW:return Y.hasOwnProperty(e)?Y[e]:null;case K.SESSION:return null===(o=$.getItem(e))?o:JSON.parse(o);case K.VISITOR:return null===(o=J.getItem(e))?o:JSON.parse(o)}}},te=function(e,t,o,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+o+(n?"\n"+n:"")},oe=function(e,t,o,n,r){return function(a,s){var c=t(a);if(!c)return n?"":void 0;var i,l,d=c.storageDuration;try{i=e.getModuleExports(c.modulePath),l=e.getModuleDefinition(c.modulePath)}catch(e){return void z.error(te(c,a,e.message,e.stack))}if("function"==typeof i){var u,m=c.settings||{};!c.hasTransformedFilePaths&&l.filePaths&&(r(m,l.filePaths,c.modulePath),c.hasTransformedFilePaths=!0);try{u=i(o(m,s),s)}catch(e){return void z.error(te(c,a,e.message,e.stack))}return d&&(null!=u?ee.setValue(a,d,u):u=ee.getValue(a,d)),null==u&&null!=c.defaultValue&&(u=c.defaultValue),"string"==typeof u&&(c.cleanText&&(u=D(u)),c.forceLowerCase&&(u=u.toLowerCase())),u}z.error(te(c,a,"Module did not export a function."))}},ne={text:function(e){return e.textContent},cleanText:function(e){return D(e.textContent)}},re=function(e,t,o){for(var n,r=e,a=0,s=t.length;a<s;a++){if(null==r)return;var c=t[a];if(o&&"@"===c.charAt(0)){var i=c.slice(1);r=ne[i](r)}else if(r.getAttribute&&(n=c.match(/^getAttribute\((.+)\)$/))){var l=n[1];r=r.getAttribute(l)}else r=r[c]}return r},ae=function(e,t,o){return function(n,r){var a;if(t(n))a=o(n,r);else{var s=n.split("."),c=s.shift();"this"===c?r&&(a=re(r.element,s,!0)):"event"===c?r&&(a=re(r,s)):"target"===c?r&&(a=re(r.target,s)):a=re(e[c],s)}return a}},se=function(e,t){return function(o){var n=o.split(".")[0];return Boolean(t(o)||"this"===n||"event"===n||"target"===n||e.hasOwnProperty(n))}},ce=function(e,t,o){var n={exports:{}};return e.call(n.exports,n,n.exports,t,o),n.exports},ie=function(){var e={},t=function(t){var o=e[t];if(!o)throw new Error("Module "+t+" not found.");return o},o=function(){Object.keys(e).forEach((function(e){try{n(e)}catch(o){var t="Error initializing module "+e+". "+o.message+(o.stack?"\n"+o.stack:"");z.error(t)}}))},n=function(e){var o=t(e);return o.hasOwnProperty("exports")||(o.exports=ce(o.definition.script,o.require,o.turbine)),o.exports};return{registerModule:function(t,o,n,r,a){var s={definition:o,extensionName:n,require:r,turbine:a};s.require=r,e[t]=s},hydrateCache:o,getModuleExports:n,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},le=!1,de=function(e){return function(t,o){var n=e._monitors;n&&(le||(z.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),le=!0),n.forEach((function(e){e[t]&&e[t](o)})))}},ue=function(e,t,o){var n,r,a,s,c=[],i=function(n,r,a){if(!e(r))return n;c.push(r);var s=t(r,a);return c.pop(),null==s&&o?"":s};return n=function(e,t){var o=/^%([^%]+)%$/.exec(e);return o?i(e,o[1],t):e.replace(/%(.+?)%/g,(function(e,o){return i(e,o,t)}))},r=function(e,t){for(var o={},n=Object.keys(e),r=0;r<n.length;r++){var a=n[r],c=e[a];o[a]=s(c,t)}return o},a=function(e,t){for(var o=[],n=0,r=e.length;n<r;n++)o.push(s(e[n],t));return o},s=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?a(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return c.length>10?(z.error("Data element circular reference detected: "+c.join(" -> ")),e):s(e,t)}},me=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var o in t)e[o]=t[o]}}},ge="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pe=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var o=new this.constructor(s);return l(this,new g(e,t,o)),o},i.prototype.finally=r,i.all=function(e){return new i((function(t,o){function n(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,(function(t){n(e,t)}),o)}r[e]=a,0==--s&&t(r)}catch(e){o(e)}}if(!a(e))return o(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var s=r.length,c=0;c<r.length;c++)n(c,r[c])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,o){o(e)}))},i.race=function(e){return new i((function(t,o){if(!a(e))return o(new TypeError("Promise.race accepts an array"));for(var n=0,r=e.length;n<r;n++)i.resolve(e[n]).then(t,o)}))},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){pe(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var fe=o(Object.freeze({__proto__:null,default:i})),_e="undefined"!=typeof window&&window.Promise||void 0!==ge&&ge.Promise||fe.default||fe,ve=function(e,t,o){return function(n,r,a,s){return s.then((function(){var s,c=n.delayNext;return new _e((function(t,o){var r=e(n,a,[a]);if(!c)return t();var i=n.timeout,l=new _e((function(e,t){s=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+i/1e3+" seconds to complete. "))}),i)}));_e.race([r,l]).then(t,o)})).catch((function(e){return clearTimeout(s),e=t(e),o(n,r,e),_e.reject(e)})).then((function(){clearTimeout(s)}))}))}},be=function(e,t,o,n,r){return function(a,s,c,i){return i.then((function(){var i;return new _e((function(t,o){var n=e(a,c,[c]),r=a.timeout,s=new _e((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));_e.race([n,s]).then(t,o)})).catch((function(e){return clearTimeout(i),e=t(e),n(a,s,e),_e.reject(e)})).then((function(e){if(clearTimeout(i),!o(a,e))return r(a,s),_e.reject()}))}))}},he=_e.resolve(),Ce=function(e,t,o){return function(n,r){return n.conditions&&n.conditions.forEach((function(t){he=e(t,n,r,he)})),n.actions&&n.actions.forEach((function(e){he=t(e,n,r,he)})),he=(he=he.then((function(){o(n)}))).catch((function(){}))}},ye=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Se=function(e,t,o,n){return function(r,a){var s;if(r.conditions)for(var c=0;c<r.conditions.length;c++){s=r.conditions[c];try{var i=e(s,a,[a]);if(ye(i))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(s,i))return o(s,r),!1}catch(e){return n(s,r,e),!1}}return!0}},Ie=function(e,t){return function(o,n){e(o,n)&&t(o,n)}},we=function(e){return function(t){var o=e.getModuleDefinition(t.modulePath);return o&&o.displayName||t.modulePath}},Pe=function(e){return function(t){var o=t.rule,n=t.event,r=e.getModuleDefinition(n.modulePath).name;return{$type:e.getModuleExtensionName(n.modulePath)+"."+r,$rule:{id:o.id,name:o.name}}}},je=function(e,t,o,n,r,a){return function(s,c){var i=c.rule,l=c.event;l.settings=l.settings||{};try{var d=r(c);t(l,null,[function(t){var n=o(d,t);s((function(){e(n,i)}))}])}catch(e){a.error(n(l,i,e))}}},Ee=function(e,t,o,n){return function(r,a,s){var c=t(r);o.error(e(c,a.name,s)),n("ruleActionFailed",{rule:a,action:r})}},Le=function(e,t,o,n){return function(r,a,s){var c=t(r);o.error(e(c,a.name,s)),n("ruleConditionFailed",{rule:a,condition:r})}},Ve=function(e,t,o){return function(n,r){var a=e(n);t.log('Condition "'+a+'" for rule "'+r.name+'" was not met.'),o("ruleConditionFailed",{rule:r,condition:n})}},xe=function(e,t){return function(o){e.log('Rule "'+o.name+'" fired.'),t("ruleCompleted",{rule:o})}},Oe=function(e,t,o){return function(n,r){var a;if(n.actions)for(var s=0;s<n.actions.length;s++){a=n.actions[s];try{e(a,r,[r])}catch(e){return void t(a,n,e)}}o(n)}},ke=function(e,t,o,n){return function(r,a){n("ruleTriggered",{rule:a}),e?o(a,r):t(a,r)}},De=function(e,t,o){return'Failed to execute "'+e+'" for "'+t+'" rule. '+o.message+(o.stack?"\n"+o.stack:"")},Re=function(e,t){return t&&!e.negate||!t&&e.negate},Te=[],Ne=!1,Fe=function(e){Ne?e():Te.push(e)},Ae=function(e,t,o){e(t).forEach((function(e){o(Fe,e)})),Ne=!0,Te.forEach((function(e){e()})),Te=[]},Me=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ue=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Be=function(e){var t,o;return!1!==f(e)&&("function"==typeof(t=e.constructor)&&(!1!==f(o=t.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf")))},qe=function(e,t){return Be(t=t||{})?t=P({},t,e):P(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return z.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ge=function(e,t){return function(o,n){var r=e[o];if(r){var a=r.modules;if(a)for(var s=Object.keys(a),c=0;c<s.length;c++){var i=s[c],l=a[i];if(l.shared&&l.name===n)return t.getModuleExports(i)}}}},He=function(e,t){return function(){return t?e(t):{}}},ze=function(e,t,o){return function(n){if(o){var r=n.split(".");r.splice(r.length-1||1,0,"min"),n=r.join(".")}return e(t)+n}},We=".js",Qe=function(e){return e.substr(0,e.lastIndexOf("/"))},Xe=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},$e=function(e,t){Xe(t,We)||(t+=We);var o=t.split("/"),n=Qe(e).split("/");return o.forEach((function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))})),n.join("/")},Je=n((function(e){!function(t){if(e.exports=t(),!!0){var o=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=o,n}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function o(n){function r(){}function a(t,o,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},r.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var s=JSON.stringify(o);/^[\{\[]/.test(s)&&(o=s)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in a)a[i]&&(c+="; "+i,!0!==a[i]&&(c+="="+a[i].split(";")[0]));return document.cookie=t+"="+o+c}}function s(e,o){if("undefined"!=typeof document){for(var r={},a=document.cookie?document.cookie.split("; "):[],s=0;s<a.length;s++){var c=a[s].split("="),i=c.slice(1).join("=");o||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var l=t(c[0]);if(i=(n.read||n)(i,l)||t(i),o)try{i=JSON.parse(i)}catch(e){}if(r[l]=i,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=a,r.get=function(e){return s(e,!1)},r.getJSON=function(e){return s(e,!0)},r.remove=function(t,o){a(t,"",e(o,{expires:-1}))},r.defaults={},r.withConverter=o,r}return o((function(){}))}))})),Ke={get:Je.get,set:Je.set,remove:Je.remove},Ye=function(e,t){return new _e((function(o,n){t.onload=function(){o(t)},t.onerror=function(){n(new Error("Failed to load script "+e))}}))},Ze=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var o=Ye(e,t);return document.getElementsByTagName("head")[0].appendChild(t),o},et=function(e,t,o,n){t=t||"&",o=o||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var i=0;i<c;++i){var l,d,u,m,g=e[i].replace(a,"%20"),p=g.indexOf(o);p>=0?(l=g.substr(0,p),d=g.substr(p+1)):(l=g,d=""),u=decodeURIComponent(l),m=decodeURIComponent(d),_(r,u)?Array.isArray(r[u])?r[u].push(m):r[u]=[r[u],m]:r[u]=m}return r},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ot=function(e,t,o,n){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var r=encodeURIComponent(tt(n))+o;return Array.isArray(e[n])?e[n].map((function(e){return r+encodeURIComponent(tt(e))})).join(t):r+encodeURIComponent(tt(e[n]))})).join(t):n?encodeURIComponent(tt(n))+o+encodeURIComponent(tt(e)):""},nt=n((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=ot})),rt="@adobe/reactor-",at={cookie:Ke,document:C,"load-script":Ze,"object-assign":P,promise:_e,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),nt.parse(e)},stringify:function(e){return nt.stringify(e)}},window:j},st=function(e){return function(t){if(0===t.indexOf(rt)){var o=t.substr(rt.length),n=at[o];if(n)return n}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},ct=function(e,t,o,n,r,a,s){var c=e.extensions,i=e.buildInfo,l=e.environment,d=e.property.settings;if(c){var u=Ge(c,t);Object.keys(c).forEach((function(m){var g=c[m],p=g.settings;Array.isArray(g.filePaths)&&(p=a(p,g.filePaths));var f=He(n,p);if(g.modules){var _=z.createPrefixedLogger(g.displayName),v=ze(s,g.hostedLibFilesBaseUrl,i.minified),b={buildInfo:i,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:f,getHostedLibFileUrl:v,getSharedModule:u,logger:_,propertySettings:d,replaceTokens:n,onDebugChanged:o.onDebugChanged,get debugEnabled(){return o.getDebugEnabled()}};Object.keys(g.modules).forEach((function(e){var o=g.modules[e],n=st((function(o){var n=$e(e,o);return t.getModuleExports(n)}));t.registerModule(e,o,m,n,b)}))}})),t.hydrateCache()}return t},it=function(e,t,o,n,r){var a=z.createPrefixedLogger("Custom Script");e.track=function(e){z.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=a,e.notify=function(e,t){switch(z.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:a.info(e);break;case 4:a.warn(e);break;case 5:a.error(e);break;default:a.log(e)}},e.getVar=n,e.setVar=r,e.setCookie=function(e,t,o){var n="",r={};o&&(n=", { expires: "+o+" }",r.expires=o);var a='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";z.deprecation(a),Ke.set(e,t,r)},e.readCookie=function(e){return z.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Ke.get(e)},e.removeCookie=function(e){z.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Ke.remove(e)},e.cookie=Ke,e.pageBottom=function(){},e.setDebug=o;var s=!1;Object.defineProperty(e,"_container",{get:function(){return s||(z.warn("_satellite._container may change at any time and should only be used for debugging."),s=!0),t}})},lt=function(e,t){return function(o,n,r){return e&&Be(o)&&Object.keys(o).length&&Array.isArray(n)&&n.length?(n.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!o.isExternal||h(e.split("."),o,t)})),o):o}},dt=window._satellite;if(dt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var ut=dt.container;delete dt.container;var mt=P({},ut.buildInfo);Object.defineProperty(mt,"environment",{get:function(){return z.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),ut.environment.stage}}),ut.buildInfo=mt;var gt,pt=x(Q("localStorage"),z),ft="";C.currentScript&&C.currentScript.getAttribute("src")&&(ft=C.currentScript.getAttribute("src"));try{gt=E(ft,Boolean(ut.company.dynamicCdnEnabled),ut.company.cdnAllowList,pt)}catch(e){throw z.warn("Please review the following error:"),e}var _t,vt=lt(gt.isDynamicEnforced,gt.decorateWithDynamicHost),bt=ie(),ht=ut.property.settings.undefinedVarsReturnEmpty,Ct=ut.property.settings.ruleComponentSequencingEnabled,yt=ut.dataElements||{},St=function(e){return yt[e]},It=function(){return _t.apply(null,arguments)},wt=oe(bt,St,It,ht,vt),Pt={},jt=me(Pt),Et=se(Pt,St),Lt=ae(Pt,St,wt);_t=ue(Et,Lt,ht),it(dt,ut,pt.setDebugEnabled,Lt,jt),ct(ut,bt,pt,_t,wt,vt,gt.decorateWithDynamicHost);var Vt=de(dt),xt=k(bt,_t,vt),Ot=we(bt),kt=Ve(Ot,z,Vt),Dt=Le(De,Ot,z,Vt),Rt=Ee(De,Ot,z,Vt),Tt=xe(z,Vt),Nt=je(ke(Ct,Ie(Se(xt,Re,kt,Dt),Oe(xt,Rt,Tt)),Ce(be(xt,Me,Re,Dt,kt),ve(xt,Me,Rt),Tt),Vt),xt,qe,De,Pe(bt),z);Ae(L,ut.rules||[],Nt)}return dt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();